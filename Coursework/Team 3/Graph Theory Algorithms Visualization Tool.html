<html>
  <head>
    <title>IBCS1-WD - Graph Theory Algorithms Visualization Tool</title>
    <link rel="stylesheet" href="static/style.css" type="text/css" />
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  </head>
  <body>
    <div class="wiki" id="content_view" style="display: block;">
<p><h1>Graph Theory Algorithms Visualization Tool<small> #TomsProjects </small></h1><h2 id="toc0"><a name="x-Complete Source code:"></a><span style="color: #333333; font-family: arial,helvetica,sans-serif;">Complete Source code:</span></h2>
 <h2 id="toc1"><a name="x-file:Graphs.zip"></a><span style="color: #333333; font-family: arial,helvetica,sans-serif;"> <a href="files/Graphs.zip">Graphs.zip</a></span></h2>
 <h2 id="toc2"><a name="x-Visit online: @http://cdn.fm.rdfz-edu.org:8/Graphs/main.html"></a><span style="color: #333333; font-family: arial,helvetica,sans-serif;">Visit online: </span><a class="wiki_link_ext" href="http://cdn.fm.rdfz-edu.org:8/Graphs/main.html" rel="nofollow" target="_blank">http://cdn.fm.rdfz-edu.org:8/Graphs/main.html</a></h2>
 <h2 id="toc3"> </h2>
 <h2 id="toc4"><a name="x-Dependencies:"></a><span style="color: #333333; font-family: arial,helvetica,sans-serif;">Dependencies:</span></h2>
 <h4 id="toc5"><a name="x-Dependencies:--Bootstrap"></a>Bootstrap</h4>
 <h4 id="toc6"><a name="x-Dependencies:--Cytoscape.js"></a>Cytoscape.js</h4>
 <h4 id="toc7"><a name="x-Dependencies:--Cola.js"></a>Cola.js</h4>
 <h4 id="toc8"><a name="x-Dependencies:--Cytoscape-cola.js"></a>Cytoscape-cola.js</h4>
 <h4 id="toc9"><a name="x-Dependencies:--Cytoscape-cose-bilkent.js"></a>Cytoscape-cose-bilkent.js</h4>
 <h4 id="toc10"><a name="x-Dependencies:--Cytoscape-cxtmenu.js"></a>Cytoscape-cxtmenu.js</h4>
 <h4 id="toc11"><a name="x-Dependencies:--Cytoscape-panzoom.js"></a>Cytoscape-panzoom.js</h4>
 <h4 id="toc12"><a name="x-Dependencies:--Cytoscape-edgehandles.js"></a>Cytoscape-edgehandles.js</h4>
 <h4 id="toc13"><a name="x-Dependencies:--Cytoscape-snap-to-grid.js"></a>Cytoscape-snap-to-grid.js</h4>
 <h4 id="toc14"><a name="x-Dependencies:--Cytoscape-spread.js"></a>Cytoscape-spread.js</h4>
 <h4 id="toc15"><a name="x-Dependencies:--FontAwesone 4.7"></a>FontAwesone 4.7</h4>
 <h4 id="toc16"><a name="x-Dependencies:--jQuery"></a>jQuery</h4>
 <h4 id="toc17"><a name="x-Dependencies:--Weaver.js"></a>Weaver.js</h4>
 <h4 id="toc18"><a name="x-Dependencies:--Lodash.js"></a>Lodash.js</h4>
 <br />
<h2 id="toc19"><a name="x-Gui-layout.js"></a>Gui-layout.js</h2>
 
<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.javascript  {font-family:monospace;}
.javascript .imp {font-weight: bold; color: red;}
.javascript .kw1 {color: #000066; font-weight: bold;}
.javascript .kw2 {color: #003366; font-weight: bold;}
.javascript .kw3 {color: #000066;}
.javascript .co1 {color: #006600; font-style: italic;}
.javascript .co2 {color: #009966; font-style: italic;}
.javascript .coMULTI {color: #006600; font-style: italic;}
.javascript .es0 {color: #000099; font-weight: bold;}
.javascript .br0 {color: #009900;}
.javascript .sy0 {color: #339933;}
.javascript .st0 {color: #3366CC;}
.javascript .nu0 {color: #CC0000;}
.javascript .me1 {color: #660066;}
.javascript span.xtra { display:block; }

-->
</style><pre class="javascript"><span class="kw2">function</span> ShowHide<span class="br0">&#40;</span>tar<span class="sy0">,</span> sender<span class="br0">&#41;</span> <span class="br0">&#123;</span>
    <span class="kw2">var</span> target <span class="sy0">=</span> $<span class="br0">&#40;</span><span class="st0">'#'</span> <span class="sy0">+</span> tar<span class="br0">&#41;</span><span class="sy0">;</span>
    sender <span class="sy0">=</span> $<span class="br0">&#40;</span>sender<span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="kw1">if</span> <span class="br0">&#40;</span>sender.<span class="me1">text</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">charAt</span><span class="br0">&#40;</span><span class="nu0">0</span><span class="br0">&#41;</span> <span class="sy0">===</span> <span class="st0">&quot;◢&quot;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
        target.<span class="me1">hide</span><span class="br0">&#40;</span><span class="nu0">500</span><span class="br0">&#41;</span><span class="sy0">;</span>
        sender.<span class="me1">text</span><span class="br0">&#40;</span><span class="st0">&quot;▶&quot;</span> <span class="sy0">+</span> sender.<span class="me1">text</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">substring</span><span class="br0">&#40;</span><span class="nu0">1</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
    <span class="kw1">else</span> <span class="br0">&#123;</span>
        target.<span class="me1">show</span><span class="br0">&#40;</span><span class="nu0">500</span><span class="br0">&#41;</span><span class="sy0">;</span>
        sender.<span class="me1">text</span><span class="br0">&#40;</span><span class="st0">&quot;◢&quot;</span> <span class="sy0">+</span> sender.<span class="me1">text</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">substring</span><span class="br0">&#40;</span><span class="nu0">1</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
<span class="br0">&#125;</span>
<span class="kw2">var</span> layout_options <span class="sy0">=</span> <span class="br0">&#123;</span>
    <span class="st0">'random'</span><span class="sy0">:</span> <span class="br0">&#123;</span><span class="kw3">name</span><span class="sy0">:</span> <span class="st0">'random'</span><span class="br0">&#125;</span><span class="sy0">,</span>
    <span class="st0">'grid'</span><span class="sy0">:</span> <span class="br0">&#123;</span><span class="kw3">name</span><span class="sy0">:</span> <span class="st0">'grid'</span><span class="br0">&#125;</span><span class="sy0">,</span>
    <span class="st0">'breadthfirst'</span><span class="sy0">:</span> <span class="br0">&#123;</span><span class="kw3">name</span><span class="sy0">:</span> <span class="st0">'breadthfirst'</span><span class="br0">&#125;</span><span class="sy0">,</span>
    <span class="st0">'cola'</span><span class="sy0">:</span> <span class="br0">&#123;</span>
        <span class="kw3">name</span><span class="sy0">:</span> <span class="st0">'cola'</span><span class="sy0">,</span>
        fit<span class="sy0">:</span> <span class="kw2">false</span><span class="sy0">,</span>
        infinite<span class="sy0">:</span> <span class="kw2">true</span>
    <span class="br0">&#125;</span><span class="sy0">,</span>
    <span class="st0">'cose-bilkent'</span><span class="sy0">:</span> <span class="br0">&#123;</span>
        <span class="kw3">name</span><span class="sy0">:</span> <span class="st0">'cose-bilkent'</span><span class="sy0">,</span>
        <span class="co1">// Called on `layoutready`</span>
        ready<span class="sy0">:</span> <span class="kw2">function</span> <span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
        <span class="br0">&#125;</span><span class="sy0">,</span>
        <span class="co1">// Called on `layoutstop`</span>
        <span class="kw3">stop</span><span class="sy0">:</span> <span class="kw2">function</span> <span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
        <span class="br0">&#125;</span><span class="sy0">,</span>
        <span class="co1">// number of ticks per frame; higher is faster but more jerky</span>
        refresh<span class="sy0">:</span> <span class="nu0">30</span><span class="sy0">,</span>
        <span class="co1">// Whether to fit the network view after when done</span>
        fit<span class="sy0">:</span> <span class="kw2">true</span><span class="sy0">,</span>
        <span class="co1">// Padding on fit</span>
        padding<span class="sy0">:</span> <span class="nu0">10</span><span class="sy0">,</span>
        <span class="co1">// Whether to enable incremental mode</span>
        randomize<span class="sy0">:</span> <span class="kw2">true</span><span class="sy0">,</span>
        <span class="co1">// Node repulsion (non overlapping) multiplier</span>
        nodeRepulsion<span class="sy0">:</span> <span class="nu0">5000</span><span class="sy0">,</span>
        <span class="co1">// Ideal edge (non nested) length</span>
        idealEdgeLength<span class="sy0">:</span> <span class="nu0">75</span><span class="sy0">,</span>
        <span class="co1">// Divisor to compute edge forces</span>
        edgeElasticity<span class="sy0">:</span> <span class="nu0">0.45</span><span class="sy0">,</span>
        <span class="co1">// Nesting factor (multiplier) to compute ideal edge length for nested edges</span>
        nestingFactor<span class="sy0">:</span> <span class="nu0">0.1</span><span class="sy0">,</span>
        <span class="co1">// Gravity force (constant)</span>
        gravity<span class="sy0">:</span> <span class="nu0">0.25</span><span class="sy0">,</span>
        <span class="co1">// Maximum number of iterations to perform</span>
        numIter<span class="sy0">:</span> <span class="nu0">3000</span><span class="sy0">,</span>
        <span class="co1">// For enabling tiling</span>
        tile<span class="sy0">:</span> <span class="kw2">true</span><span class="sy0">,</span>
        <span class="co1">// Type of layout animation. The option set is {'during', 'end', false}</span>
        animate<span class="sy0">:</span> <span class="st0">'end'</span><span class="sy0">,</span>
        <span class="co1">// Represents the amount of the vertical space to put between the zero degree members during the tiling operation(can also be a function)</span>
        tilingPaddingVertical<span class="sy0">:</span> <span class="nu0">10</span><span class="sy0">,</span>
        <span class="co1">// Represents the amount of the horizontal space to put between the zero degree members during the tiling operation(can also be a function)</span>
        tilingPaddingHorizontal<span class="sy0">:</span> <span class="nu0">10</span><span class="sy0">,</span>
        <span class="co1">// Gravity range (constant) for compounds</span>
        gravityRangeCompound<span class="sy0">:</span> <span class="nu0">1.5</span><span class="sy0">,</span>
        <span class="co1">// Gravity force (constant) for compounds</span>
        gravityCompound<span class="sy0">:</span> <span class="nu0">1.0</span><span class="sy0">,</span>
        <span class="co1">// Gravity range (constant)</span>
        gravityRange<span class="sy0">:</span> <span class="nu0">3.8</span><span class="sy0">,</span>
        <span class="co1">// Initial cooling factor for incremental layout</span>
        initialEnergyOnIncremental<span class="sy0">:</span> <span class="nu0">0.8</span>
    <span class="br0">&#125;</span><span class="sy0">,</span>
    <span class="st0">'circle'</span><span class="sy0">:</span> <span class="br0">&#123;</span><span class="kw3">name</span><span class="sy0">:</span> <span class="st0">'circle'</span><span class="br0">&#125;</span><span class="sy0">,</span>
    <span class="st0">'spread'</span><span class="sy0">:</span> <span class="br0">&#123;</span>
        <span class="kw3">name</span><span class="sy0">:</span> <span class="st0">'spread'</span><span class="sy0">,</span>
        randomize<span class="sy0">:</span> <span class="kw2">true</span>
    <span class="br0">&#125;</span>
<span class="br0">&#125;</span><span class="sy0">;</span></pre>

<h2 id="toc20"><a name="x-MWMMT.js (minimal weight matching multi-thread)"></a>MWMMT.js (minimal weight matching multi-thread)</h2>
 
<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.javascript  {font-family:monospace;}
.javascript .imp {font-weight: bold; color: red;}
.javascript .kw1 {color: #000066; font-weight: bold;}
.javascript .kw2 {color: #003366; font-weight: bold;}
.javascript .kw3 {color: #000066;}
.javascript .co1 {color: #006600; font-style: italic;}
.javascript .co2 {color: #009966; font-style: italic;}
.javascript .coMULTI {color: #006600; font-style: italic;}
.javascript .es0 {color: #000099; font-weight: bold;}
.javascript .br0 {color: #009900;}
.javascript .sy0 {color: #339933;}
.javascript .st0 {color: #3366CC;}
.javascript .nu0 {color: #CC0000;}
.javascript .me1 {color: #660066;}
.javascript span.xtra { display:block; }

-->
</style><pre class="javascript"><span class="co1">//Minimal weight matching multi-thread</span>
<span class="co1">//Use in worker</span>
<span class="kw2">var</span> onmessage <span class="sy0">=</span> <span class="kw2">function</span> <span class="br0">&#40;</span>message<span class="br0">&#41;</span> <span class="br0">&#123;</span>
    <span class="kw2">var</span> data <span class="sy0">=</span> message.<span class="me1">data</span><span class="sy0">;</span>
&nbsp;
    <span class="kw2">var</span> weightMatrix <span class="sy0">=</span> data.<span class="me1">weightMatrix</span><span class="sy0">;</span>
    <span class="kw2">var</span> start <span class="sy0">=</span> data.<span class="me1">start</span><span class="sy0">;</span>
    <span class="kw2">var</span> end <span class="sy0">=</span> data.<span class="me1">end</span><span class="sy0">;</span>
    <span class="kw2">var</span> eles <span class="sy0">=</span> data.<span class="me1">eles</span><span class="sy0">;</span>
&nbsp;
    <span class="kw2">var</span> len <span class="sy0">=</span> weightMatrix.<span class="me1">length</span><span class="sy0">;</span>
    <span class="kw2">var</span> matchedNumber <span class="sy0">=</span> len <span class="sy0">-</span> len <span class="sy0">%</span> <span class="nu0">2</span><span class="sy0">;</span>
    <span class="kw2">var</span> minPairing <span class="sy0">=</span> <span class="br0">&#91;</span><span class="br0">&#93;</span><span class="sy0">;</span>
    <span class="kw2">var</span> minWeight <span class="sy0">=</span> Infinity<span class="sy0">;</span>
&nbsp;
    <span class="coMULTI">/**
     * @function
     * @private
     * @param {Array} eles
     * @param {Array} matches
     * @param {int} weight
     * @param {int} i
     * @return void
     * */</span>
    <span class="kw2">function</span> matching<span class="br0">&#40;</span>eles<span class="sy0">,</span> matches<span class="sy0">,</span> weight<span class="sy0">,</span> i<span class="br0">&#41;</span> <span class="br0">&#123;</span>
        <span class="kw2">var</span> tempWeight<span class="sy0">,</span> tempEles<span class="sy0">;</span>
        <span class="kw1">if</span> <span class="br0">&#40;</span>i <span class="sy0">===</span> matchedNumber<span class="br0">&#41;</span> <span class="br0">&#123;</span>
            minPairing <span class="sy0">=</span> matches.<span class="me1">concat</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            minWeight <span class="sy0">=</span> weight<span class="sy0">;</span>
        <span class="br0">&#125;</span>
        <span class="kw1">else</span> <span class="br0">&#123;</span>
            <span class="kw1">for</span> <span class="br0">&#40;</span><span class="kw2">var</span> x <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> x <span class="sy0">&lt;</span> len<span class="sy0">;</span> x<span class="sy0">++</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
                <span class="kw1">for</span> <span class="br0">&#40;</span><span class="kw2">var</span> y <span class="sy0">=</span> x <span class="sy0">+</span> <span class="nu0">1</span><span class="sy0">;</span> y <span class="sy0">&lt;</span> len<span class="sy0">;</span> y<span class="sy0">++</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
                    <span class="kw1">if</span> <span class="br0">&#40;</span>eles<span class="br0">&#91;</span>x<span class="br0">&#93;</span> <span class="sy0">===</span> <span class="sy0">-</span><span class="nu0">1</span> <span class="sy0">||</span> eles<span class="br0">&#91;</span>y<span class="br0">&#93;</span> <span class="sy0">===</span> <span class="sy0">-</span><span class="nu0">1</span> <span class="sy0">||</span> weightMatrix<span class="br0">&#91;</span>x<span class="br0">&#93;</span><span class="br0">&#91;</span>y<span class="br0">&#93;</span> <span class="sy0">===</span> <span class="nu0">0</span><span class="br0">&#41;</span>
                        <span class="kw1">continue</span><span class="sy0">;</span>
                    tempWeight <span class="sy0">=</span> weight <span class="sy0">+</span> weightMatrix<span class="br0">&#91;</span>x<span class="br0">&#93;</span><span class="br0">&#91;</span>y<span class="br0">&#93;</span><span class="sy0">;</span>
                    <span class="kw1">if</span> <span class="br0">&#40;</span>tempWeight <span class="sy0">&gt;=</span> minWeight<span class="br0">&#41;</span>
                        <span class="kw1">continue</span><span class="sy0">;</span>
                    matches<span class="br0">&#91;</span>i<span class="br0">&#93;</span> <span class="sy0">=</span> x<span class="sy0">;</span>
                    matches<span class="br0">&#91;</span>i <span class="sy0">+</span> <span class="nu0">1</span><span class="br0">&#93;</span> <span class="sy0">=</span> y<span class="sy0">;</span>
                    tempEles <span class="sy0">=</span> eles.<span class="me1">concat</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                    tempEles<span class="br0">&#91;</span>x<span class="br0">&#93;</span> <span class="sy0">=</span> <span class="sy0">-</span><span class="nu0">1</span><span class="sy0">;</span>
                    tempEles<span class="br0">&#91;</span>y<span class="br0">&#93;</span> <span class="sy0">=</span> <span class="sy0">-</span><span class="nu0">1</span><span class="sy0">;</span>
                    matching<span class="br0">&#40;</span>tempEles<span class="sy0">,</span> matches<span class="sy0">,</span> tempWeight<span class="sy0">,</span> i <span class="sy0">+</span> <span class="nu0">2</span><span class="br0">&#41;</span><span class="sy0">;</span>
                <span class="br0">&#125;</span>
            <span class="br0">&#125;</span>
        <span class="br0">&#125;</span>
    <span class="br0">&#125;</span>
&nbsp;
    <span class="kw2">var</span> matches <span class="sy0">=</span> <span class="kw2">new</span> Array<span class="br0">&#40;</span>len<span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="kw2">var</span> tempWeight<span class="sy0">,</span> tempEles<span class="sy0">;</span>
    <span class="kw1">for</span> <span class="br0">&#40;</span><span class="kw2">var</span> x <span class="sy0">=</span> start<span class="sy0">;</span> x <span class="sy0">&lt;</span> end<span class="sy0">;</span> x<span class="sy0">++</span><span class="br0">&#41;</span>
        <span class="kw1">for</span> <span class="br0">&#40;</span><span class="kw2">var</span> y <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> y <span class="sy0">&lt;</span> len<span class="sy0">;</span> y<span class="sy0">++</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
            <span class="kw1">if</span> <span class="br0">&#40;</span>weightMatrix<span class="br0">&#91;</span>x<span class="br0">&#93;</span><span class="br0">&#91;</span>y<span class="br0">&#93;</span> <span class="sy0">===</span> <span class="nu0">0</span><span class="br0">&#41;</span>
                <span class="kw1">continue</span><span class="sy0">;</span>
            tempWeight <span class="sy0">=</span> weightMatrix<span class="br0">&#91;</span>x<span class="br0">&#93;</span><span class="br0">&#91;</span>y<span class="br0">&#93;</span><span class="sy0">;</span>
            <span class="kw1">if</span> <span class="br0">&#40;</span>tempWeight <span class="sy0">&gt;=</span> minWeight<span class="br0">&#41;</span>
                <span class="kw1">continue</span><span class="sy0">;</span>
            matches<span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span> <span class="sy0">=</span> x<span class="sy0">;</span>
            matches<span class="br0">&#91;</span><span class="nu0">1</span><span class="br0">&#93;</span> <span class="sy0">=</span> y<span class="sy0">;</span>
            tempEles <span class="sy0">=</span> eles.<span class="me1">concat</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            tempEles<span class="br0">&#91;</span>x<span class="br0">&#93;</span> <span class="sy0">=</span> <span class="sy0">-</span><span class="nu0">1</span><span class="sy0">;</span>
            tempEles<span class="br0">&#91;</span>y<span class="br0">&#93;</span> <span class="sy0">=</span> <span class="sy0">-</span><span class="nu0">1</span><span class="sy0">;</span>
            matching<span class="br0">&#40;</span>tempEles<span class="sy0">,</span> matches<span class="sy0">,</span> tempWeight<span class="sy0">,</span> <span class="nu0">2</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="br0">&#125;</span>
    postMessage<span class="br0">&#40;</span><span class="br0">&#123;</span>minPairing<span class="sy0">:</span> minPairing<span class="sy0">,</span> minWeight<span class="sy0">:</span> minWeight<span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="br0">&#125;</span><span class="sy0">;</span>
&nbsp;</pre>

<h2 id="toc21"><a name="x-Main.src.html"></a>Main.src.html</h2>
 (Uncompressed main page)<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.javascript  {font-family:monospace;}
.javascript .imp {font-weight: bold; color: red;}
.javascript .kw1 {color: #000066; font-weight: bold;}
.javascript .kw2 {color: #003366; font-weight: bold;}
.javascript .kw3 {color: #000066;}
.javascript .co1 {color: #006600; font-style: italic;}
.javascript .co2 {color: #009966; font-style: italic;}
.javascript .coMULTI {color: #006600; font-style: italic;}
.javascript .es0 {color: #000099; font-weight: bold;}
.javascript .br0 {color: #009900;}
.javascript .sy0 {color: #339933;}
.javascript .st0 {color: #3366CC;}
.javascript .nu0 {color: #CC0000;}
.javascript .me1 {color: #660066;}
.javascript span.xtra { display:block; }

-->
</style><pre class="javascript"><span class="sy0">&lt;!</span>DOCTYPE html<span class="sy0">&gt;</span>
<span class="sy0">&lt;!--</span>↓Used to suppress inspections <span class="kw1">in</span> the Intellij Idea↓ Ignore <span class="kw1">this</span>.<span class="sy0">--&gt;</span>
<span class="sy0">&lt;!--</span>suppress JSUnusedAssignment<span class="sy0">,</span> JSUnusedLocalSymbols<span class="sy0">--&gt;</span>
<span class="sy0">&lt;</span>html lang<span class="sy0">=</span><span class="st0">&quot;en&quot;</span><span class="sy0">&gt;</span>
<span class="sy0">&lt;</span>head<span class="sy0">&gt;</span>
    <span class="sy0">&lt;</span>link rel<span class="sy0">=</span><span class="st0">&quot;shortcut icon&quot;</span> href<span class="sy0">=</span><span class="st0">&quot;../img/head.ico&quot;</span> type<span class="sy0">=</span><span class="st0">&quot;image/x-icon&quot;</span><span class="sy0">&gt;</span>
    <span class="sy0">&lt;</span>meta charset<span class="sy0">=</span><span class="st0">&quot;utf-8&quot;</span><span class="sy0">&gt;</span>
    <span class="sy0">&lt;</span>style<span class="sy0">&gt;</span>
        <span class="sy0">*</span> <span class="br0">&#123;</span>
            font<span class="sy0">:</span> <span class="st0">&quot;Segoe WPC&quot;</span><span class="sy0">,</span> <span class="st0">&quot;Segoe UI&quot;</span><span class="sy0">,</span> <span class="st0">&quot;HelveticaNeue-Light&quot;</span><span class="sy0">,</span> sans<span class="sy0">-</span>serif<span class="sy0">,</span> <span class="st0">&quot;Droid Sans Fallback&quot;</span><span class="sy0">;</span>
        <span class="br0">&#125;</span>
&nbsp;
        .<span class="me1">cb</span> <span class="br0">&#123;</span>
            font<span class="sy0">-</span>size<span class="sy0">:</span> 16px<span class="sy0">;</span>
        <span class="br0">&#125;</span>
&nbsp;
        .<span class="me1">bt</span> <span class="br0">&#123;</span>
            font<span class="sy0">-</span>size<span class="sy0">:</span> 16px<span class="sy0">;</span>
        <span class="br0">&#125;</span>
&nbsp;
        .<span class="me1">SH</span> <span class="br0">&#123;</span>
            background<span class="sy0">-</span>color<span class="sy0">:</span> #FFCC99<span class="sy0">;</span>
            text<span class="sy0">-</span>align<span class="sy0">:</span> left<span class="sy0">;</span>
            font<span class="sy0">-</span>size<span class="sy0">:</span> 14pt<span class="sy0">;</span>
            color<span class="sy0">:</span> #4A0095<span class="sy0">;</span>
            cursor<span class="sy0">:</span> pointer<span class="sy0">;</span>
            text<span class="sy0">-</span>decoration<span class="sy0">:</span> none<span class="sy0">;</span>
            font<span class="sy0">-</span>weight<span class="sy0">:</span> normal<span class="sy0">;</span>
            margin<span class="sy0">-</span>top<span class="sy0">:</span> 6px<span class="sy0">;</span>
            margin<span class="sy0">-</span>bottom<span class="sy0">:</span> 2px<span class="sy0">;</span>
        <span class="br0">&#125;</span>
&nbsp;
        .<span class="me1">SH</span><span class="sy0">:</span>hover <span class="br0">&#123;</span>
            text<span class="sy0">-</span>decoration<span class="sy0">:</span> underline<span class="sy0">;</span>
            font<span class="sy0">-</span>weight<span class="sy0">:</span> bold<span class="sy0">;</span>
        <span class="br0">&#125;</span>
&nbsp;
        #cy <span class="br0">&#123;</span>
            width<span class="sy0">:</span> 580px<span class="sy0">;</span>
            height<span class="sy0">:</span> 590px<span class="sy0">;</span>
            display<span class="sy0">:</span> block<span class="sy0">;</span>
            margin<span class="sy0">-</span>left<span class="sy0">:</span> auto<span class="sy0">;</span>
            margin<span class="sy0">-</span>right<span class="sy0">:</span> auto<span class="sy0">;</span>
            border<span class="sy0">:</span> dashed #00A837<span class="sy0">;</span>
            margin<span class="sy0">-</span>bottom<span class="sy0">:</span> 5px<span class="sy0">;</span>
        <span class="br0">&#125;</span>
&nbsp;
        #ca <span class="br0">&#123;</span>
            width<span class="sy0">:</span> 580px<span class="sy0">;</span>
            height<span class="sy0">:</span> 590px<span class="sy0">;</span>
            display<span class="sy0">:</span> block<span class="sy0">;</span>
            margin<span class="sy0">-</span>left<span class="sy0">:</span> auto<span class="sy0">;</span>
            margin<span class="sy0">-</span>right<span class="sy0">:</span> auto<span class="sy0">;</span>
            border<span class="sy0">:</span> dashed #00A837<span class="sy0">;</span>
            margin<span class="sy0">-</span>bottom<span class="sy0">:</span> 5px<span class="sy0">;</span>
        <span class="br0">&#125;</span>
&nbsp;
        #inputs <span class="br0">&#123;</span>
            border<span class="sy0">:</span> 1px solid<span class="sy0">;</span>
            text<span class="sy0">-</span>align<span class="sy0">:</span> center<span class="sy0">;</span>
            margin<span class="sy0">:</span> auto auto<span class="sy0">;</span>
        <span class="br0">&#125;</span>
&nbsp;
        #inputs tr td <span class="br0">&#123;</span>
            border<span class="sy0">:</span> 1px solid<span class="sy0">;</span>
        <span class="br0">&#125;</span>
&nbsp;
        .<span class="me1">input_style</span> <span class="br0">&#123;</span>
            width<span class="sy0">:</span> 75px<span class="sy0">;</span>
            text<span class="sy0">-</span>align<span class="sy0">:</span> center<span class="sy0">;</span>
        <span class="br0">&#125;</span>
&nbsp;
        .<span class="me1">title</span> <span class="br0">&#123;</span>
            width<span class="sy0">:</span> 150px<span class="sy0">;</span>
            text<span class="sy0">-</span>align<span class="sy0">:</span> center<span class="sy0">;</span>
            margin<span class="sy0">:</span> auto auto<span class="sy0">;</span>
            font<span class="sy0">-</span>size<span class="sy0">:</span> 22px<span class="sy0">;</span>
            font<span class="sy0">-</span>weight<span class="sy0">:</span> bold<span class="sy0">;</span>
        <span class="br0">&#125;</span>
&nbsp;
        .<span class="me1">current</span> <span class="br0">&#123;</span>
            font<span class="sy0">-</span>weight<span class="sy0">:</span> bold<span class="sy0">;</span>
            color<span class="sy0">:</span> red<span class="sy0">;</span>
            <span class="coMULTI">/*font-size: 18px;*/</span>
            text<span class="sy0">-</span>decoration<span class="sy0">:</span> underline<span class="sy0">;</span>
        <span class="br0">&#125;</span>
&nbsp;
        .<span class="me1">normal</span> <span class="br0">&#123;</span>
        <span class="br0">&#125;</span>
    <span class="sy0">&lt;/</span>style<span class="sy0">&gt;</span>
    <span class="sy0">&lt;</span>title<span class="sy0">&gt;</span>Graph theory tools<span class="sy0">&lt;/</span>title<span class="sy0">&gt;</span>
    <span class="sy0">&lt;</span>link href<span class="sy0">=</span><span class="st0">&quot;css/cytoscape-context-menus.min.css&quot;</span> rel<span class="sy0">=</span><span class="st0">&quot;stylesheet&quot;</span> type<span class="sy0">=</span><span class="st0">&quot;text/css&quot;</span><span class="sy0">&gt;</span>
    <span class="sy0">&lt;</span>link href<span class="sy0">=</span><span class="st0">&quot;css/cytoscape.js-panzoom.min.css&quot;</span> rel<span class="sy0">=</span><span class="st0">&quot;stylesheet&quot;</span> type<span class="sy0">=</span><span class="st0">&quot;text/css&quot;</span><span class="sy0">&gt;</span>
    <span class="sy0">&lt;</span>link href<span class="sy0">=</span><span class="st0">&quot;css/font-awesome.min.css&quot;</span> rel<span class="sy0">=</span><span class="st0">&quot;stylesheet&quot;</span> type<span class="sy0">=</span><span class="st0">&quot;text/css&quot;</span><span class="sy0">&gt;</span>
    <span class="sy0">&lt;</span>script src<span class="sy0">=</span><span class="st0">&quot;js/cytoscape-3.2.1.min.js&quot;</span><span class="sy0">&gt;&lt;/</span>script<span class="sy0">&gt;</span>
    <span class="sy0">&lt;</span>script src<span class="sy0">=</span><span class="st0">&quot;../js/jquery-3.2.1.min.js&quot;</span><span class="sy0">&gt;&lt;/</span>script<span class="sy0">&gt;</span>
    <span class="sy0">&lt;</span>link href<span class="sy0">=</span><span class="st0">&quot;../css/bootstrap.min.css&quot;</span> rel<span class="sy0">=</span><span class="st0">&quot;stylesheet&quot;</span> type<span class="sy0">=</span><span class="st0">&quot;text/css&quot;</span><span class="sy0">&gt;</span>
    <span class="sy0">&lt;</span>link href<span class="sy0">=</span><span class="st0">&quot;../css/bootstrap-responsive.min.css&quot;</span> rel<span class="sy0">=</span><span class="st0">&quot;stylesheet&quot;</span> type<span class="sy0">=</span><span class="st0">&quot;text/css&quot;</span><span class="sy0">&gt;</span>
    <span class="sy0">&lt;</span>script src<span class="sy0">=</span><span class="st0">&quot;../js/bootstrap.min.js&quot;</span><span class="sy0">&gt;&lt;/</span>script<span class="sy0">&gt;</span>
    <span class="sy0">&lt;</span>script src<span class="sy0">=</span><span class="st0">&quot;js/cytoscape-context-menus.min.js&quot;</span><span class="sy0">&gt;&lt;/</span>script<span class="sy0">&gt;</span>
    <span class="sy0">&lt;</span>script src<span class="sy0">=</span><span class="st0">&quot;js/lodash.min.js&quot;</span><span class="sy0">&gt;&lt;/</span>script<span class="sy0">&gt;</span>
    <span class="sy0">&lt;</span>script src<span class="sy0">=</span><span class="st0">&quot;js/cytoscape-edgehandles.min.js&quot;</span><span class="sy0">&gt;&lt;/</span>script<span class="sy0">&gt;</span>
    <span class="sy0">&lt;</span>script src<span class="sy0">=</span><span class="st0">&quot;js/cytoscape-cxtmenu.min.js&quot;</span><span class="sy0">&gt;&lt;/</span>script<span class="sy0">&gt;</span>
    <span class="sy0">&lt;</span>script src<span class="sy0">=</span><span class="st0">&quot;js/cytoscape-panzoom.min.js&quot;</span><span class="sy0">&gt;&lt;/</span>script<span class="sy0">&gt;</span>
    <span class="sy0">&lt;</span>script src<span class="sy0">=</span><span class="st0">&quot;js/cytoscape-snap-to-grid.min.js&quot;</span><span class="sy0">&gt;&lt;/</span>script<span class="sy0">&gt;</span>
    <span class="sy0">&lt;</span>script src<span class="sy0">=</span><span class="st0">&quot;js/cola.min.js&quot;</span><span class="sy0">&gt;&lt;/</span>script<span class="sy0">&gt;</span>
    <span class="sy0">&lt;</span>script src<span class="sy0">=</span><span class="st0">&quot;js/cytoscape-cola.min.js&quot;</span><span class="sy0">&gt;&lt;/</span>script<span class="sy0">&gt;</span>
    <span class="sy0">&lt;</span>script src<span class="sy0">=</span><span class="st0">&quot;js/cytoscape-cose-bilkent.min.js&quot;</span><span class="sy0">&gt;&lt;/</span>script<span class="sy0">&gt;</span>
    <span class="sy0">&lt;</span>script src<span class="sy0">=</span><span class="st0">&quot;js/cytoscape-graphml.min.js&quot;</span><span class="sy0">&gt;&lt;/</span>script<span class="sy0">&gt;</span>
    <span class="sy0">&lt;</span>script src<span class="sy0">=</span><span class="st0">&quot;js/weaver.min.js&quot;</span><span class="sy0">&gt;&lt;/</span>script<span class="sy0">&gt;</span>
    <span class="sy0">&lt;</span>script src<span class="sy0">=</span><span class="st0">&quot;js/cytoscape-spread.js&quot;</span><span class="sy0">&gt;&lt;/</span>script<span class="sy0">&gt;</span>
    <span class="sy0">&lt;</span>script src<span class="sy0">=</span><span class="st0">&quot;js/es-checker.js&quot;</span><span class="sy0">&gt;&lt;/</span>script<span class="sy0">&gt;</span>
    <span class="sy0">&lt;</span>script src<span class="sy0">=</span><span class="st0">&quot;js/gui-layout.min.js?ver=1.5&quot;</span><span class="sy0">&gt;&lt;/</span>script<span class="sy0">&gt;</span>
<span class="sy0">&lt;/</span>head<span class="sy0">&gt;</span>
<span class="sy0">&lt;</span>body style<span class="sy0">=</span><span class="st0">&quot;width: 1440px; margin: auto auto; text-align: center&quot;</span><span class="sy0">&gt;</span>
<span class="sy0">&lt;</span>table <span class="kw2">class</span><span class="sy0">=</span><span class="st0">&quot;form-inline&quot;</span><span class="sy0">&gt;</span>
    <span class="sy0">&lt;</span>tr<span class="sy0">&gt;</span>
        <span class="sy0">&lt;</span>td style<span class="sy0">=</span><span class="st0">&quot;width: 250px; text-align: center; vertical-align: top&quot;</span><span class="sy0">&gt;</span>
            <span class="sy0">&lt;</span>div <span class="kw2">class</span><span class="sy0">=</span><span class="st0">&quot;SH&quot;</span> onclick<span class="sy0">=</span><span class="st0">&quot;ShowHide('layout_div', this)&quot;</span> style<span class="sy0">=</span><span class="st0">&quot;margin-top: 2px;&quot;</span><span class="sy0">&gt;</span>◢ Layout<span class="sy0">&lt;/</span>div<span class="sy0">&gt;</span>
            <span class="sy0">&lt;</span>div id<span class="sy0">=</span><span class="st0">&quot;layout_div&quot;</span><span class="sy0">&gt;</span>
                <span class="sy0">&lt;</span>p style<span class="sy0">=</span><span class="st0">&quot;margin-top: 2px;margin-bottom: 3px; vertical-align: middle&quot;</span><span class="sy0">&gt;</span>
                    <span class="sy0">&lt;</span>label <span class="kw1">for</span><span class="sy0">=</span><span class="st0">&quot;layout&quot;</span><span class="sy0">&gt;&lt;/</span>label<span class="sy0">&gt;</span>
                    <span class="sy0">&lt;</span>select style<span class="sy0">=</span><span class="st0">&quot;font-size: 17px; margin: 2px; width: 160px;&quot;</span> id<span class="sy0">=</span><span class="st0">&quot;layout&quot;</span>
                            onchange<span class="sy0">=</span><span class="st0">&quot;changeLayout(this.selectedIndex)&quot;</span><span class="sy0">&gt;</span>
                        <span class="sy0">&lt;</span>option value<span class="sy0">=</span><span class="st0">&quot;breadthfirst&quot;</span><span class="sy0">&gt;</span>Breadth First<span class="sy0">&lt;/</span>option<span class="sy0">&gt;</span>
                        <span class="sy0">&lt;</span>option value<span class="sy0">=</span><span class="st0">&quot;circle&quot;</span><span class="sy0">&gt;</span>Circle<span class="sy0">&lt;/</span>option<span class="sy0">&gt;</span>
                        <span class="sy0">&lt;</span>option value<span class="sy0">=</span><span class="st0">&quot;cose-bilkent&quot;</span><span class="sy0">&gt;</span>CoSE<span class="sy0">-</span>Bilkent<span class="sy0">&lt;/</span>option<span class="sy0">&gt;</span>
                        <span class="sy0">&lt;</span>option value<span class="sy0">=</span><span class="st0">&quot;cola&quot;</span><span class="sy0">&gt;</span>Cola<span class="sy0">&lt;/</span>option<span class="sy0">&gt;</span>
                        <span class="sy0">&lt;</span>option value<span class="sy0">=</span><span class="st0">&quot;grid&quot;</span><span class="sy0">&gt;</span>Grid<span class="sy0">&lt;/</span>option<span class="sy0">&gt;</span>
                        <span class="sy0">&lt;</span>option value<span class="sy0">=</span><span class="st0">&quot;random&quot;</span><span class="sy0">&gt;</span>Random<span class="sy0">&lt;/</span>option<span class="sy0">&gt;</span>
                        <span class="sy0">&lt;</span>option value<span class="sy0">=</span><span class="st0">&quot;snapToGrid&quot;</span><span class="sy0">&gt;</span>Snap to grid<span class="sy0">&lt;/</span>option<span class="sy0">&gt;</span>
                        <span class="sy0">&lt;</span>option value<span class="sy0">=</span><span class="st0">&quot;spread&quot;</span> selected<span class="sy0">&gt;</span>Spread<span class="sy0">&lt;/</span>option<span class="sy0">&gt;</span>
                    <span class="sy0">&lt;/</span>select<span class="sy0">&gt;</span>
                    <span class="sy0">&lt;</span>button <span class="kw2">class</span><span class="sy0">=</span><span class="st0">&quot;btn btn-info&quot;</span> onclick<span class="sy0">=</span><span class="st0">&quot;reLayout()&quot;</span><span class="sy0">&gt;</span>
                        <span class="sy0">&lt;</span>i <span class="kw2">class</span><span class="sy0">=</span><span class="st0">&quot;fa fa-refresh fa-1x&quot;</span> aria<span class="sy0">-</span>hidden<span class="sy0">=</span><span class="st0">&quot;true&quot;</span><span class="sy0">&gt;&lt;/</span>i<span class="sy0">&gt;</span>
                    <span class="sy0">&lt;/</span>button<span class="sy0">&gt;</span>
                <span class="sy0">&lt;/</span>p<span class="sy0">&gt;</span>
                <span class="sy0">&lt;</span>label <span class="kw1">for</span><span class="sy0">=</span><span class="st0">&quot;autorefresh&quot;</span> <span class="kw2">class</span><span class="sy0">=</span><span class="st0">&quot;cb checkbox&quot;</span><span class="sy0">&gt;</span>
                    <span class="sy0">&lt;</span>input id<span class="sy0">=</span><span class="st0">&quot;autorefresh&quot;</span> type<span class="sy0">=</span><span class="st0">&quot;checkbox&quot;</span> checked<span class="sy0">/&gt;</span>Auto<span class="sy0">-</span>refresh
                <span class="sy0">&lt;/</span>label<span class="sy0">&gt;&amp;</span>nbsp<span class="sy0">;</span>
                <span class="sy0">&lt;</span>label <span class="kw1">for</span><span class="sy0">=</span><span class="st0">&quot;hide_result&quot;</span> <span class="kw2">class</span><span class="sy0">=</span><span class="st0">&quot;cb checkbox&quot;</span><span class="sy0">&gt;</span>
                    <span class="sy0">&lt;</span>input id<span class="sy0">=</span><span class="st0">&quot;hide_result&quot;</span> type<span class="sy0">=</span><span class="st0">&quot;checkbox&quot;</span> onclick<span class="sy0">=</span><span class="st0">&quot;hideResult(this);&quot;</span><span class="sy0">/&gt;</span>Hide result
                <span class="sy0">&lt;/</span>label<span class="sy0">&gt;&lt;</span>br<span class="sy0">/&gt;</span>
                <span class="sy0">&lt;</span>script<span class="sy0">&gt;</span>
                    <span class="kw2">function</span> hideResult<span class="br0">&#40;</span>c<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                        <span class="kw2">var</span> cy_div <span class="sy0">=</span> $<span class="br0">&#40;</span><span class="st0">'#cy'</span><span class="br0">&#41;</span><span class="sy0">;</span>
                        <span class="kw2">var</span> ca_div <span class="sy0">=</span> $<span class="br0">&#40;</span><span class="st0">'#ca_tab'</span><span class="br0">&#41;</span><span class="sy0">;</span>
                        <span class="kw1">if</span> <span class="br0">&#40;</span>c.<span class="me1">checked</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
                            ca_div.<span class="me1">hide</span><span class="br0">&#40;</span><span class="nu0">300</span><span class="sy0">,</span> <span class="kw2">function</span> <span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
                                cy_div.<span class="me1">animate</span><span class="br0">&#40;</span><span class="br0">&#123;</span>width<span class="sy0">:</span> <span class="st0">'1170px'</span><span class="br0">&#125;</span><span class="sy0">,</span> <span class="nu0">500</span><span class="sy0">,</span> <span class="kw2">function</span> <span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
                                    cyReLayout<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                                <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                            <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                        <span class="br0">&#125;</span>
                        <span class="kw1">else</span> <span class="br0">&#123;</span>
                            cy_div.<span class="me1">animate</span><span class="br0">&#40;</span><span class="br0">&#123;</span>width<span class="sy0">:</span> <span class="st0">'580px'</span><span class="br0">&#125;</span><span class="sy0">,</span> <span class="nu0">300</span><span class="sy0">,</span> <span class="kw2">function</span> <span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
                                ca_div.<span class="me1">show</span><span class="br0">&#40;</span><span class="nu0">500</span><span class="sy0">,</span> <span class="kw2">function</span> <span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
                                    reLayout<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                                <span class="br0">&#125;</span><span class="br0">&#41;</span>
                            <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                        <span class="br0">&#125;</span>
                    <span class="br0">&#125;</span>
                <span class="sy0">&lt;/</span>script<span class="sy0">&gt;</span>
            <span class="sy0">&lt;/</span>div<span class="sy0">&gt;</span>
            <span class="sy0">&lt;</span>div <span class="kw2">class</span><span class="sy0">=</span><span class="st0">&quot;SH&quot;</span> onclick<span class="sy0">=</span><span class="st0">&quot;ShowHide('inputs_div', this)&quot;</span><span class="sy0">&gt;</span>◢ Inputs<span class="sy0">&lt;/</span>div<span class="sy0">&gt;</span>
            <span class="sy0">&lt;</span>div id<span class="sy0">=</span><span class="st0">&quot;inputs_div&quot;</span><span class="sy0">&gt;</span>
                <span class="sy0">&lt;</span>table id<span class="sy0">=</span><span class="st0">&quot;inputs&quot;</span><span class="sy0">&gt;</span>
                    <span class="sy0">&lt;</span>tr<span class="sy0">&gt;</span>
                        <span class="sy0">&lt;</span>td<span class="sy0">&gt;</span>
                            <span class="sy0">&lt;</span>label <span class="kw1">for</span><span class="sy0">=</span><span class="st0">&quot;nid&quot;</span><span class="sy0">&gt;&lt;/</span>label<span class="sy0">&gt;</span>
                            <span class="sy0">&lt;</span>input <span class="kw2">class</span><span class="sy0">=</span><span class="st0">&quot;input_style&quot;</span> type<span class="sy0">=</span><span class="st0">&quot;text&quot;</span> id<span class="sy0">=</span><span class="st0">&quot;nid&quot;</span> value<span class="sy0">=</span><span class="st0">&quot;&quot;</span> placeholder<span class="sy0">=</span><span class="st0">&quot;number&quot;</span><span class="sy0">/&gt;&lt;</span>br<span class="sy0">/&gt;</span>
                            <span class="sy0">&lt;</span>button <span class="kw2">class</span><span class="sy0">=</span><span class="st0">&quot;btn btn-default&quot;</span> onclick<span class="sy0">=</span><span class="st0">&quot;addNode(true, null)&quot;</span><span class="sy0">&gt;</span>Add nodes<span class="sy0">&lt;/</span>button<span class="sy0">&gt;</span>
                        <span class="sy0">&lt;/</span>td<span class="sy0">&gt;</span>
                        <span class="sy0">&lt;</span>td<span class="sy0">&gt;</span>
                            <span class="sy0">&lt;</span>label <span class="kw1">for</span><span class="sy0">=</span><span class="st0">&quot;weight&quot;</span><span class="sy0">&gt;&lt;/</span>label<span class="sy0">&gt;</span>
                            <span class="sy0">&lt;</span>input <span class="kw2">class</span><span class="sy0">=</span><span class="st0">&quot;input_style&quot;</span> type<span class="sy0">=</span><span class="st0">&quot;text&quot;</span> id<span class="sy0">=</span><span class="st0">&quot;weight&quot;</span> <span class="kw3">name</span><span class="sy0">=</span><span class="st0">&quot;weight&quot;</span> value<span class="sy0">=</span><span class="st0">&quot;&quot;</span>
                                   placeholder<span class="sy0">=</span><span class="st0">&quot;weight&quot;</span><span class="sy0">/&gt;&lt;</span>br<span class="sy0">/&gt;</span>
                            <span class="sy0">&lt;</span>label <span class="kw1">for</span><span class="sy0">=</span><span class="st0">&quot;src_tg&quot;</span><span class="sy0">&gt;&lt;/</span>label<span class="sy0">&gt;</span>
                            <span class="sy0">&lt;</span>input <span class="kw2">class</span><span class="sy0">=</span><span class="st0">&quot;input_style&quot;</span> type<span class="sy0">=</span><span class="st0">&quot;text&quot;</span> id<span class="sy0">=</span><span class="st0">&quot;src_tg&quot;</span> <span class="kw3">name</span><span class="sy0">=</span><span class="st0">&quot;src_tg&quot;</span> value<span class="sy0">=</span><span class="st0">&quot;&quot;</span>
                                   placeholder<span class="sy0">=</span><span class="st0">&quot;src-tg-num&quot;</span><span class="sy0">/&gt;&lt;</span>br<span class="sy0">/&gt;</span>
                            <span class="sy0">&lt;</span>button <span class="kw2">class</span><span class="sy0">=</span><span class="st0">&quot;btn btn-default&quot;</span> onclick<span class="sy0">=</span><span class="st0">&quot;addEdge()&quot;</span><span class="sy0">&gt;</span>Add edges<span class="sy0">&lt;/</span>button<span class="sy0">&gt;</span>
                        <span class="sy0">&lt;/</span>td<span class="sy0">&gt;</span>
                    <span class="sy0">&lt;/</span>tr<span class="sy0">&gt;</span>
                    <span class="sy0">&lt;</span>tr<span class="sy0">&gt;</span>
                        <span class="sy0">&lt;</span>td<span class="sy0">&gt;</span>
                            <span class="sy0">&lt;</span>label <span class="kw1">for</span><span class="sy0">=</span><span class="st0">&quot;nodeid&quot;</span><span class="sy0">&gt;&lt;/</span>label<span class="sy0">&gt;</span>
                            <span class="sy0">&lt;</span>input <span class="kw2">class</span><span class="sy0">=</span><span class="st0">&quot;input_style&quot;</span> type<span class="sy0">=</span><span class="st0">&quot;text&quot;</span> id<span class="sy0">=</span><span class="st0">&quot;nodeid&quot;</span> <span class="kw3">name</span><span class="sy0">=</span><span class="st0">&quot;nodeid&quot;</span> value<span class="sy0">=</span><span class="st0">&quot;&quot;</span>
                                   placeholder<span class="sy0">=</span><span class="st0">&quot;Node ID&quot;</span><span class="sy0">/&gt;&lt;</span>br<span class="sy0">/&gt;</span>
                            <span class="sy0">&lt;</span>button <span class="kw2">class</span><span class="sy0">=</span><span class="st0">&quot;btn btn-default&quot;</span> onclick<span class="sy0">=</span><span class="st0">&quot;removeNode()&quot;</span><span class="sy0">&gt;</span>Remove nodes<span class="sy0">&lt;/</span>button<span class="sy0">&gt;</span>
                        <span class="sy0">&lt;/</span>td<span class="sy0">&gt;</span>
                        <span class="sy0">&lt;</span>td<span class="sy0">&gt;</span>
                            <span class="sy0">&lt;</span>label <span class="kw1">for</span><span class="sy0">=</span><span class="st0">&quot;r_src_tg&quot;</span><span class="sy0">&gt;&lt;/</span>label<span class="sy0">&gt;</span>
                            <span class="sy0">&lt;</span>input <span class="kw2">class</span><span class="sy0">=</span><span class="st0">&quot;input_style&quot;</span> type<span class="sy0">=</span><span class="st0">&quot;text&quot;</span> id<span class="sy0">=</span><span class="st0">&quot;r_src_tg&quot;</span> value<span class="sy0">=</span><span class="st0">&quot;&quot;</span>
                                   placeholder<span class="sy0">=</span><span class="st0">&quot;src-tg-num&quot;</span><span class="sy0">/&gt;&lt;</span>br<span class="sy0">/&gt;</span>
                            <span class="sy0">&lt;</span>button <span class="kw2">class</span><span class="sy0">=</span><span class="st0">&quot;btn btn-default&quot;</span> onclick<span class="sy0">=</span><span class="st0">&quot;removeEdge()&quot;</span><span class="sy0">&gt;</span>Remove edges<span class="sy0">&lt;/</span>button<span class="sy0">&gt;</span>
                        <span class="sy0">&lt;/</span>td<span class="sy0">&gt;</span>
                    <span class="sy0">&lt;/</span>tr<span class="sy0">&gt;</span>
                <span class="sy0">&lt;/</span>table<span class="sy0">&gt;</span>
                <span class="sy0">&lt;</span>button <span class="kw2">class</span><span class="sy0">=</span><span class="st0">&quot;btn&quot;</span> onclick<span class="sy0">=</span><span class="st0">&quot;removeSelected()&quot;</span><span class="sy0">&gt;</span>Remove selected<span class="sy0">&lt;/</span>button<span class="sy0">&gt;</span>
                <span class="sy0">&lt;</span>button <span class="kw2">class</span><span class="sy0">=</span><span class="st0">&quot;btn btn-default&quot;</span> onclick<span class="sy0">=</span><span class="st0">&quot;addEdgeBetweenSelected()&quot;</span><span class="sy0">&gt;</span>Add edges between selected<span class="sy0">&lt;/</span>button<span class="sy0">&gt;</span>
            <span class="sy0">&lt;/</span>div<span class="sy0">&gt;</span>
            <span class="sy0">&lt;</span>div <span class="kw2">class</span><span class="sy0">=</span><span class="st0">&quot;SH&quot;</span> onclick<span class="sy0">=</span><span class="st0">&quot;ShowHide('action_div', this)&quot;</span><span class="sy0">&gt;</span>◢ Actions<span class="sy0">&lt;/</span>div<span class="sy0">&gt;</span>
            <span class="sy0">&lt;</span>div id<span class="sy0">=</span><span class="st0">&quot;action_div&quot;</span><span class="sy0">&gt;</span>
                <span class="sy0">&lt;</span>script<span class="sy0">&gt;</span>
                    <span class="kw2">function</span> hideWeight<span class="br0">&#40;</span>isSimple<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                        <span class="kw2">var</span> a <span class="sy0">=</span> $<span class="br0">&#40;</span><span class="st0">'#weighted'</span><span class="br0">&#41;</span><span class="sy0">;</span>
                        <span class="kw1">if</span> <span class="br0">&#40;</span>isSimple.<span class="me1">checked</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
                            a.<span class="me1">show</span><span class="br0">&#40;</span><span class="nu0">500</span><span class="br0">&#41;</span><span class="sy0">;</span>
                            $<span class="br0">&#40;</span><span class="st0">'#wlabel'</span><span class="br0">&#41;</span>.<span class="me1">show</span><span class="br0">&#40;</span><span class="nu0">500</span><span class="br0">&#41;</span><span class="sy0">;</span>
                        <span class="br0">&#125;</span> <span class="kw1">else</span> <span class="br0">&#123;</span>
                            a.<span class="me1">hide</span><span class="br0">&#40;</span><span class="nu0">500</span><span class="br0">&#41;</span><span class="sy0">;</span>
                            $<span class="br0">&#40;</span><span class="st0">'#wlabel'</span><span class="br0">&#41;</span>.<span class="me1">hide</span><span class="br0">&#40;</span><span class="nu0">500</span><span class="br0">&#41;</span><span class="sy0">;</span>
                        <span class="br0">&#125;</span>
                    <span class="br0">&#125;</span>
                <span class="sy0">&lt;/</span>script<span class="sy0">&gt;</span>
                <span class="sy0">&lt;</span>button <span class="kw2">class</span><span class="sy0">=</span><span class="st0">&quot;btn btn-default&quot;</span> onclick<span class="sy0">=</span><span class="st0">&quot;generateGraph()&quot;</span><span class="sy0">&gt;</span>Generate Random Graph<span class="sy0">&lt;/</span>button<span class="sy0">&gt;</span>
                <span class="sy0">&lt;</span>br<span class="sy0">/&gt;</span>
&nbsp;
                <span class="sy0">&lt;</span>label <span class="kw1">for</span><span class="sy0">=</span><span class="st0">&quot;simple&quot;</span> <span class="kw2">class</span><span class="sy0">=</span><span class="st0">&quot;cb checkbox&quot;</span><span class="sy0">&gt;</span>
                    <span class="sy0">&lt;</span>input type<span class="sy0">=</span><span class="st0">&quot;checkbox&quot;</span> id<span class="sy0">=</span><span class="st0">&quot;simple&quot;</span> checked onchange<span class="sy0">=</span><span class="st0">&quot;hideWeight(this)&quot;</span><span class="sy0">/&gt;</span>Simple
                <span class="sy0">&lt;/</span>label<span class="sy0">&gt;&amp;</span>nbsp<span class="sy0">;</span>
                <span class="sy0">&lt;</span>label id<span class="sy0">=</span><span class="st0">&quot;wlabel&quot;</span> <span class="kw1">for</span><span class="sy0">=</span><span class="st0">&quot;weighted&quot;</span> <span class="kw2">class</span><span class="sy0">=</span><span class="st0">&quot;cb checkbox&quot;</span><span class="sy0">&gt;</span>
                    <span class="sy0">&lt;</span>input type<span class="sy0">=</span><span class="st0">&quot;checkbox&quot;</span> id<span class="sy0">=</span><span class="st0">&quot;weighted&quot;</span><span class="sy0">/&gt;</span>Weighted
                <span class="sy0">&lt;/</span>label<span class="sy0">&gt;&lt;</span>br<span class="sy0">/&gt;</span>
                <span class="sy0">&lt;</span>button <span class="kw2">class</span><span class="sy0">=</span><span class="st0">&quot;btn btn-default&quot;</span> onclick<span class="sy0">=</span><span class="st0">&quot;Kn()&quot;</span><span class="sy0">&gt;</span>K<span class="sy0">&lt;</span>sub<span class="sy0">&gt;</span>n<span class="sy0">&lt;/</span>sub<span class="sy0">&gt;&lt;/</span>button<span class="sy0">&gt;</span>
                <span class="sy0">&lt;</span>button <span class="kw2">class</span><span class="sy0">=</span><span class="st0">&quot;btn btn-default&quot;</span> onclick<span class="sy0">=</span><span class="st0">&quot;Kn_n()&quot;</span><span class="sy0">&gt;</span>K<span class="sy0">&lt;</span>sub<span class="sy0">&gt;</span>n<span class="sy0">,</span>n<span class="sy0">&lt;/</span>sub<span class="sy0">&gt;&lt;/</span>button<span class="sy0">&gt;</span>
                <span class="sy0">&lt;</span>br<span class="sy0">/&gt;</span>
            <span class="sy0">&lt;/</span>div<span class="sy0">&gt;</span>
            <span class="sy0">&lt;</span>div <span class="kw2">class</span><span class="sy0">=</span><span class="st0">&quot;SH&quot;</span> onclick<span class="sy0">=</span><span class="st0">&quot;ShowHide('matrix_div', this)&quot;</span><span class="sy0">&gt;</span>◢ Create from Matrix<span class="sy0">&lt;/</span>div<span class="sy0">&gt;</span>
            <span class="sy0">&lt;</span>div id<span class="sy0">=</span><span class="st0">&quot;matrix_div&quot;</span><span class="sy0">&gt;</span>
                <span class="sy0">&lt;</span>label <span class="kw1">for</span><span class="sy0">=</span><span class="st0">&quot;matrix_input&quot;</span><span class="sy0">&gt;&lt;/</span>label<span class="sy0">&gt;</span>
                <span class="sy0">&lt;</span>textarea id<span class="sy0">=</span><span class="st0">&quot;matrix_input&quot;</span> rows<span class="sy0">=</span><span class="st0">&quot;5&quot;</span> cols<span class="sy0">=</span><span class="st0">&quot;28&quot;</span> wrap<span class="sy0">=</span><span class="st0">&quot;off&quot;</span>
                          style<span class="sy0">=</span><span class="st0">&quot;overflow-x: auto;overflow-y: auto&quot;</span><span class="sy0">&gt;&lt;/</span>textarea<span class="sy0">&gt;&lt;</span>br<span class="sy0">/&gt;</span>
                <span class="sy0">&lt;</span>button <span class="kw2">class</span><span class="sy0">=</span><span class="st0">&quot;btn btn-default&quot;</span> onclick<span class="sy0">=</span><span class="st0">&quot;readAM()&quot;</span><span class="sy0">&gt;</span>From AM<span class="sy0">&lt;/</span>button<span class="sy0">&gt;</span>
                <span class="sy0">&lt;</span>button <span class="kw2">class</span><span class="sy0">=</span><span class="st0">&quot;btn btn-default&quot;</span> onclick<span class="sy0">=</span><span class="st0">&quot;readWM()&quot;</span><span class="sy0">&gt;</span>From WM<span class="sy0">&lt;/</span>button<span class="sy0">&gt;</span>
                <span class="sy0">&lt;!--&lt;</span>button onclick<span class="sy0">=</span><span class="st0">&quot;readGraphML()&quot;</span><span class="sy0">&gt;</span>From XML<span class="sy0">&lt;/</span>button<span class="sy0">&gt;--&gt;</span>
                <span class="sy0">&lt;</span>br<span class="sy0">/&gt;</span>
            <span class="sy0">&lt;/</span>div<span class="sy0">&gt;</span>
            <span class="sy0">&lt;</span>div <span class="kw2">class</span><span class="sy0">=</span><span class="st0">&quot;SH&quot;</span> onclick<span class="sy0">=</span><span class="st0">&quot;ShowHide('algorithms_div', this)&quot;</span><span class="sy0">&gt;</span>◢ Algorithms<span class="sy0">&lt;/</span>div<span class="sy0">&gt;</span>
            <span class="sy0">&lt;</span>div id<span class="sy0">=</span><span class="st0">&quot;algorithms_div&quot;</span><span class="sy0">&gt;</span>
                <span class="sy0">&lt;</span>label <span class="kw1">for</span><span class="sy0">=</span><span class="st0">&quot;algorithms&quot;</span><span class="sy0">&gt;&lt;/</span>label<span class="sy0">&gt;</span>
                <span class="sy0">&lt;</span>select id<span class="sy0">=</span><span class="st0">&quot;algorithms&quot;</span> style<span class="sy0">=</span><span class="st0">&quot;font-size: 16px; margin-bottom: 5px;&quot;</span><span class="sy0">&gt;</span>
                    <span class="sy0">&lt;</span>option value<span class="sy0">=</span><span class="st0">&quot;breadthFirstSearch()&quot;</span><span class="sy0">&gt;</span>Breadth First Search<span class="sy0">&lt;/</span>option<span class="sy0">&gt;</span>
                    <span class="sy0">&lt;</span>option value<span class="sy0">=</span><span class="st0">&quot;depthFirstSearch()&quot;</span><span class="sy0">&gt;</span>Depth First Search<span class="sy0">&lt;/</span>option<span class="sy0">&gt;</span>
                    <span class="sy0">&lt;</span>option value<span class="sy0">=</span><span class="st0">&quot;performKruskal()&quot;</span><span class="sy0">&gt;</span>Kruskal<span class="sy0">&lt;/</span>option<span class="sy0">&gt;</span>
                    <span class="sy0">&lt;</span>option value<span class="sy0">=</span><span class="st0">&quot;prim()&quot;</span><span class="sy0">&gt;</span>Prim<span class="sy0">&lt;/</span>option<span class="sy0">&gt;</span>
                    <span class="sy0">&lt;</span>option value<span class="sy0">=</span><span class="st0">&quot;performDijkstra()&quot;</span><span class="sy0">&gt;</span>Dijkstra<span class="sy0">&lt;/</span>option<span class="sy0">&gt;</span>
                    <span class="sy0">&lt;</span>option value<span class="sy0">=</span><span class="st0">&quot;myDijkstra()&quot;</span><span class="sy0">&gt;</span>Dijkstra <span class="br0">&#40;</span>detailed<span class="br0">&#41;</span><span class="sy0">&lt;/</span>option<span class="sy0">&gt;</span>
                    <span class="sy0">&lt;</span>option value<span class="sy0">=</span><span class="st0">&quot;minimalWeightCycle()&quot;</span><span class="sy0">&gt;</span>Minimal Weight Cycle<span class="sy0">&lt;/</span>option<span class="sy0">&gt;</span>
                    <span class="sy0">&lt;</span>option value<span class="sy0">=</span><span class="st0">&quot;eulerianCycle()&quot;</span><span class="sy0">&gt;</span>Eulerian Trial<span class="sy0">/</span>Cycle<span class="sy0">&lt;/</span>option<span class="sy0">&gt;</span>
                    <span class="sy0">&lt;</span>option value<span class="sy0">=</span><span class="st0">&quot;minimalWeightMatching()&quot;</span><span class="sy0">&gt;</span>Minimal Weight Matching<span class="sy0">&lt;/</span>option<span class="sy0">&gt;</span>
                    <span class="sy0">&lt;</span>option value<span class="sy0">=</span><span class="st0">&quot;CPP()&quot;</span><span class="sy0">&gt;</span>Chinese Postman Problem<span class="sy0">&lt;/</span>option<span class="sy0">&gt;</span>
                    <span class="sy0">&lt;</span>option value<span class="sy0">=</span><span class="st0">&quot;nearestNeighbor()&quot;</span><span class="sy0">&gt;</span>Nearest Neighbor Algorithm<span class="sy0">&lt;/</span>option<span class="sy0">&gt;</span>
                    <span class="sy0">&lt;</span>option value<span class="sy0">=</span><span class="st0">&quot;TSPGlobalLowerBound()&quot;</span><span class="sy0">&gt;</span>TSP Lower Bound<span class="sy0">&lt;/</span>option<span class="sy0">&gt;</span>
                <span class="sy0">&lt;/</span>select<span class="sy0">&gt;</span>
                <span class="sy0">&lt;</span>br<span class="sy0">/&gt;</span>
                <span class="sy0">&lt;</span>label <span class="kw1">for</span><span class="sy0">=</span><span class="st0">&quot;animation&quot;</span> <span class="kw2">class</span><span class="sy0">=</span><span class="st0">&quot;cb checkbox&quot;</span><span class="sy0">&gt;</span>
                    <span class="sy0">&lt;</span>input id<span class="sy0">=</span><span class="st0">&quot;animation&quot;</span> type<span class="sy0">=</span><span class="st0">&quot;checkbox&quot;</span> value<span class="sy0">=</span><span class="st0">&quot;Animation&quot;</span> style<span class="sy0">=</span><span class="st0">&quot;font-size: 16px;&quot;</span> checked
                           onclick<span class="sy0">=</span><span class="st0">&quot;hideDuration(this)&quot;</span><span class="sy0">/&gt;</span>Animation
                <span class="sy0">&lt;/</span>label<span class="sy0">&gt;&amp;</span>nbsp<span class="sy0">;</span>
                <span class="sy0">&lt;</span>label id<span class="sy0">=</span><span class="st0">&quot;label-duration&quot;</span> <span class="kw1">for</span><span class="sy0">=</span><span class="st0">&quot;duration&quot;</span><span class="sy0">&gt;</span>
                    <span class="sy0">&lt;</span>input type<span class="sy0">=</span><span class="st0">&quot;number&quot;</span> value<span class="sy0">=</span><span class="st0">&quot;700&quot;</span> step<span class="sy0">=</span><span class="st0">&quot;10&quot;</span> min<span class="sy0">=</span><span class="st0">&quot;0&quot;</span> max<span class="sy0">=</span><span class="st0">&quot;100000&quot;</span> style<span class="sy0">=</span><span class="st0">&quot;width: 50px;&quot;</span>
                           id<span class="sy0">=</span><span class="st0">&quot;duration&quot;</span><span class="sy0">/&gt;&amp;</span>nbsp<span class="sy0">;</span>ms
                <span class="sy0">&lt;/</span>label<span class="sy0">&gt;&lt;</span>br<span class="sy0">/&gt;</span>
                <span class="sy0">&lt;</span>script<span class="sy0">&gt;</span>
                    <span class="kw2">function</span> hideDuration<span class="br0">&#40;</span>cb<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                        <span class="kw2">var</span> d <span class="sy0">=</span> $<span class="br0">&#40;</span><span class="st0">'#label-duration'</span><span class="br0">&#41;</span><span class="sy0">;</span>
                        <span class="kw1">if</span> <span class="br0">&#40;</span>cb.<span class="me1">checked</span><span class="br0">&#41;</span>
                            d.<span class="me1">show</span><span class="br0">&#40;</span><span class="nu0">400</span><span class="br0">&#41;</span><span class="sy0">;</span>
                        <span class="kw1">else</span>
                            d.<span class="me1">hide</span><span class="br0">&#40;</span><span class="nu0">400</span><span class="br0">&#41;</span><span class="sy0">;</span>
                    <span class="br0">&#125;</span>
                <span class="sy0">&lt;/</span>script<span class="sy0">&gt;</span>
                <span class="sy0">&lt;</span>button <span class="kw2">class</span><span class="sy0">=</span><span class="st0">&quot;btn btn-primary&quot;</span> id<span class="sy0">=</span><span class="st0">&quot;perform&quot;</span> onclick<span class="sy0">=</span><span class="st0">&quot;callToAlgorithms()&quot;</span>
                        style<span class="sy0">=</span><span class="st0">&quot;font-size: 15px; font-weight: bold;&quot;</span><span class="sy0">&gt;</span>Perform
                <span class="sy0">&lt;/</span>button<span class="sy0">&gt;</span>
                <span class="sy0">&lt;</span>button <span class="kw2">class</span><span class="sy0">=</span><span class="st0">&quot;btn btn-primary&quot;</span> style<span class="sy0">=</span><span class="st0">&quot;font-size: 15px; font-weight: bold;&quot;</span>
                        onclick<span class="sy0">=</span><span class="st0">&quot;stopAnimation()&quot;</span><span class="sy0">&gt;</span><span class="kw3">Stop</span> Animation
                <span class="sy0">&lt;/</span>button<span class="sy0">&gt;</span>
                <span class="sy0">&lt;</span>script<span class="sy0">&gt;</span>
                    <span class="kw2">function</span> callToAlgorithms<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
                        <span class="kw2">var</span> algo <span class="sy0">=</span> document.<span class="me1">getElementById</span><span class="br0">&#40;</span><span class="st0">'algorithms'</span><span class="br0">&#41;</span><span class="sy0">;</span>
                        <span class="kw1">eval</span><span class="br0">&#40;</span>algo.<span class="me1">options</span><span class="br0">&#91;</span>algo.<span class="me1">selectedIndex</span><span class="br0">&#93;</span>.<span class="me1">value</span><span class="br0">&#41;</span><span class="sy0">;</span>
                    <span class="br0">&#125;</span>
                <span class="sy0">&lt;/</span>script<span class="sy0">&gt;</span>
                <span class="sy0">&lt;</span>br<span class="sy0">/&gt;</span>
            <span class="sy0">&lt;/</span>div<span class="sy0">&gt;</span>
        <span class="sy0">&lt;/</span>td<span class="sy0">&gt;</span>
        <span class="sy0">&lt;</span>td style<span class="sy0">=</span><span class="st0">&quot;text-align: left; vertical-align: top;&quot;</span><span class="sy0">&gt;</span>
            <span class="sy0">&lt;</span>table<span class="sy0">&gt;</span>
                <span class="sy0">&lt;</span>tr<span class="sy0">&gt;</span>
                    <span class="sy0">&lt;</span>td style<span class="sy0">=</span><span class="st0">&quot;vertical-align: top&quot;</span><span class="sy0">&gt;</span>
                        <span class="sy0">&lt;</span>p <span class="kw2">class</span><span class="sy0">=</span><span class="st0">&quot;title&quot;</span> style<span class="sy0">=</span><span class="st0">&quot;margin: 5px auto 5px auto&quot;</span><span class="sy0">&gt;</span>Source<span class="sy0">&lt;/</span>p<span class="sy0">&gt;</span>
                        <span class="sy0">&lt;</span>div id<span class="sy0">=</span><span class="st0">&quot;cy&quot;</span><span class="sy0">&gt;&lt;/</span>div<span class="sy0">&gt;</span>
                        <span class="sy0">&lt;</span>div style<span class="sy0">=</span><span class="st0">&quot;width: 500px; margin: auto auto; text-align: center&quot;</span><span class="sy0">&gt;</span>
                            <span class="sy0">&lt;</span>span style<span class="sy0">=</span><span class="st0">&quot;font-weight: bold&quot;</span><span class="sy0">&gt;</span>Total Weight<span class="sy0">:&amp;</span>nbsp<span class="sy0">;&lt;/</span>span<span class="sy0">&gt;</span>
                            <span class="sy0">&lt;</span>span id<span class="sy0">=</span><span class="st0">&quot;cy_weight&quot;</span><span class="sy0">&gt;</span><span class="nu0">0</span><span class="sy0">&lt;/</span>span<span class="sy0">&gt;&lt;</span>br<span class="sy0">/&gt;</span>
                            <span class="sy0">&lt;</span>button <span class="kw2">class</span><span class="sy0">=</span><span class="st0">&quot;btn btn-small&quot;</span> onclick<span class="sy0">=</span><span class="st0">&quot;getGraphML(cy)&quot;</span><span class="sy0">&gt;</span><span class="kw2">Export</span> to GraphML<span class="sy0">&lt;/</span>button<span class="sy0">&gt;</span>
                            <span class="sy0">&lt;</span>button <span class="kw2">class</span><span class="sy0">=</span><span class="st0">&quot;btn btn-small&quot;</span> onclick<span class="sy0">=</span><span class="st0">&quot;getAM(cy, true)&quot;</span><span class="sy0">&gt;</span>Get AM<span class="sy0">&lt;/</span>button<span class="sy0">&gt;</span>
                            <span class="sy0">&lt;</span>button <span class="kw2">class</span><span class="sy0">=</span><span class="st0">&quot;btn btn-small&quot;</span> onclick<span class="sy0">=</span><span class="st0">&quot;getWM(cy, true)&quot;</span><span class="sy0">&gt;</span>Get WM<span class="sy0">&lt;/</span>button<span class="sy0">&gt;</span>
                            <span class="sy0">&lt;</span>button <span class="kw2">class</span><span class="sy0">=</span><span class="st0">&quot;btn btn-small&quot;</span> onclick<span class="sy0">=</span><span class="st0">&quot;clearCyStyle()&quot;</span><span class="sy0">&gt;</span>Clear Color<span class="sy0">&lt;/</span>button<span class="sy0">&gt;</span>
                            <span class="sy0">&lt;</span>button <span class="kw2">class</span><span class="sy0">=</span><span class="st0">&quot;btn btn-small btn-danger&quot;</span> onclick<span class="sy0">=</span><span class="st0">&quot;clearSource()&quot;</span><span class="sy0">&gt;</span>Clear Elements<span class="sy0">&lt;/</span>button<span class="sy0">&gt;</span>
                        <span class="sy0">&lt;/</span>div<span class="sy0">&gt;</span>
                    <span class="sy0">&lt;/</span>td<span class="sy0">&gt;</span>
                    <span class="sy0">&lt;</span>td id<span class="sy0">=</span><span class="st0">&quot;ca_tab&quot;</span> style<span class="sy0">=</span><span class="st0">&quot;vertical-align: top;&quot;</span><span class="sy0">&gt;</span>
                        <span class="sy0">&lt;</span>p <span class="kw2">class</span><span class="sy0">=</span><span class="st0">&quot;title&quot;</span> style<span class="sy0">=</span><span class="st0">&quot;margin: 5px auto 5px auto&quot;</span><span class="sy0">&gt;</span>Result<span class="sy0">&lt;/</span>p<span class="sy0">&gt;</span>
                        <span class="sy0">&lt;</span>div id<span class="sy0">=</span><span class="st0">&quot;ca&quot;</span><span class="sy0">&gt;&lt;/</span>div<span class="sy0">&gt;</span>
                        <span class="sy0">&lt;</span>div style<span class="sy0">=</span><span class="st0">&quot;width: 500px; margin: auto auto; text-align: center&quot;</span><span class="sy0">&gt;</span>
                            <span class="sy0">&lt;</span>span style<span class="sy0">=</span><span class="st0">&quot;font-weight: bold&quot;</span><span class="sy0">&gt;</span>Total Weight<span class="sy0">:&amp;</span>nbsp<span class="sy0">;&lt;/</span>span<span class="sy0">&gt;</span>
                            <span class="sy0">&lt;</span>span id<span class="sy0">=</span><span class="st0">&quot;ca_weight&quot;</span><span class="sy0">&gt;</span><span class="nu0">0</span><span class="sy0">&lt;/</span>span<span class="sy0">&gt;&lt;</span>br<span class="sy0">/&gt;</span>
                            <span class="sy0">&lt;</span>div id<span class="sy0">=</span><span class="st0">&quot;path&quot;</span> style<span class="sy0">=</span><span class="st0">&quot;width: 500px;&quot;</span><span class="sy0">&gt;&lt;/</span>div<span class="sy0">&gt;</span>
                            <span class="sy0">&lt;</span>button <span class="kw2">class</span><span class="sy0">=</span><span class="st0">&quot;btn btn-small&quot;</span> onclick<span class="sy0">=</span><span class="st0">&quot;getGraphML(ca)&quot;</span><span class="sy0">&gt;</span><span class="kw2">Export</span> to GraphML<span class="sy0">&lt;/</span>button<span class="sy0">&gt;</span>
                            <span class="sy0">&lt;</span>button <span class="kw2">class</span><span class="sy0">=</span><span class="st0">&quot;btn btn-small&quot;</span> onclick<span class="sy0">=</span><span class="st0">&quot;getAM(ca, true)&quot;</span><span class="sy0">&gt;</span>Get AM<span class="sy0">&lt;/</span>button<span class="sy0">&gt;</span>
                            <span class="sy0">&lt;</span>button <span class="kw2">class</span><span class="sy0">=</span><span class="st0">&quot;btn btn-small&quot;</span> onclick<span class="sy0">=</span><span class="st0">&quot;getWM(ca, true)&quot;</span><span class="sy0">&gt;</span>Get WM<span class="sy0">&lt;/</span>button<span class="sy0">&gt;</span>
                            <span class="sy0">&lt;</span>button <span class="kw2">class</span><span class="sy0">=</span><span class="st0">&quot;btn btn-small&quot;</span> onclick<span class="sy0">=</span><span class="st0">&quot;clearCaStyle()&quot;</span><span class="sy0">&gt;</span>Clear Color<span class="sy0">&lt;/</span>button<span class="sy0">&gt;</span>
                            <span class="sy0">&lt;</span>button <span class="kw2">class</span><span class="sy0">=</span><span class="st0">&quot;btn btn-small btn-danger&quot;</span> onclick<span class="sy0">=</span><span class="st0">&quot;clearResult()&quot;</span><span class="sy0">&gt;</span>Clear Elements<span class="sy0">&lt;/</span>button<span class="sy0">&gt;</span>
                        <span class="sy0">&lt;/</span>div<span class="sy0">&gt;</span>
                    <span class="sy0">&lt;/</span>td<span class="sy0">&gt;</span>
                <span class="sy0">&lt;/</span>tr<span class="sy0">&gt;</span>
                <span class="sy0">&lt;</span>tr<span class="sy0">&gt;</span>
                    <span class="sy0">&lt;</span>td colspan<span class="sy0">=</span><span class="st0">&quot;2&quot;</span> style<span class="sy0">=</span><span class="st0">&quot;text-align: center&quot;</span><span class="sy0">&gt;</span>
                        <span class="sy0">&lt;</span>p style<span class="sy0">=</span><span class="st0">&quot;margin-top: 5px; margin-bottom: 5px;&quot;</span><span class="sy0">&gt;</span>
                            Click <span class="sy0">&lt;</span>a href<span class="sy0">=</span><span class="st0">&quot;help.html&quot;</span> target<span class="sy0">=</span><span class="st0">&quot;_blank&quot;</span>
                                     style<span class="sy0">=</span><span class="st0">&quot;font-size: 18px; font-weight: bold&quot;</span><span class="sy0">&gt;</span>here<span class="sy0">&lt;/</span>a<span class="sy0">&gt;</span> to see instructions.
                            <span class="me1">Developed</span> and maintained by Hanzhi Zhou<span class="sy0">,</span> based on Cytoscape.<span class="me1">js</span><span class="sy0">&lt;</span>br<span class="sy0">/&gt;</span>
                            <span class="sy0">&lt;</span>span style<span class="sy0">=</span><span class="st0">&quot;font-size: 14px&quot;</span><span class="sy0">&gt;</span>Compatible <span class="kw1">with</span> most modern browsers of the latest versions<span class="sy0">,</span> including but not limited to Chrome<span class="sy0">,</span> Safari<span class="sy0">,</span> FireFox<span class="sy0">,</span> Edge<span class="sy0">,</span> IE and Opera.<span class="sy0">&lt;/</span>span<span class="sy0">&gt;</span>
                        <span class="sy0">&lt;/</span>p<span class="sy0">&gt;</span>
                    <span class="sy0">&lt;/</span>td<span class="sy0">&gt;</span>
                <span class="sy0">&lt;/</span>tr<span class="sy0">&gt;</span>
            <span class="sy0">&lt;/</span>table<span class="sy0">&gt;</span>
        <span class="sy0">&lt;/</span>td<span class="sy0">&gt;</span>
    <span class="sy0">&lt;/</span>tr<span class="sy0">&gt;</span>
<span class="sy0">&lt;/</span>table<span class="sy0">&gt;</span>
<span class="sy0">&lt;</span>script<span class="sy0">&gt;</span>
    <span class="coMULTI">/**
     * @author Hanzhi Zhou (Tom)
     * */</span>
    <span class="coMULTI">/**
     * @type {object} cy
     * The cytoscape instance of the source
     * */</span>
    <span class="kw2">var</span> cy<span class="sy0">;</span>
    <span class="coMULTI">/**
     * @type {object} ca
     * The cytoscape instance of the result
     * */</span>
    <span class="kw2">var</span> ca<span class="sy0">;</span>
    <span class="coMULTI">/**
     * @type {JSON} default node style
     * */</span>
    <span class="kw2">var</span> defaultNodeStyle <span class="sy0">=</span> <span class="br0">&#123;</span>
        <span class="st0">'background-color'</span><span class="sy0">:</span> <span class="st0">'#666'</span><span class="sy0">,</span>
        <span class="st0">'label'</span><span class="sy0">:</span> <span class="st0">'data(id)'</span><span class="sy0">,</span>
        <span class="st0">'height'</span><span class="sy0">:</span> <span class="st0">'25px'</span><span class="sy0">,</span>
        <span class="st0">'width'</span><span class="sy0">:</span> <span class="st0">'25px'</span><span class="sy0">,</span>
        <span class="st0">'font-size'</span><span class="sy0">:</span> <span class="st0">'20px'</span>
    <span class="br0">&#125;</span><span class="sy0">;</span>
    <span class="coMULTI">/**
     * @type {JSON} default edge style
     * */</span>
    <span class="kw2">var</span> defaultEdgeStyle <span class="sy0">=</span> <span class="br0">&#123;</span>
        <span class="st0">'width'</span><span class="sy0">:</span> <span class="nu0">2</span><span class="sy0">,</span>
        <span class="st0">'line-color'</span><span class="sy0">:</span> <span class="st0">'#ccc'</span><span class="sy0">,</span>
        <span class="st0">'curve-style'</span><span class="sy0">:</span> <span class="st0">'bezier'</span><span class="sy0">,</span>
        <span class="st0">'label'</span><span class="sy0">:</span> <span class="kw2">function</span> <span class="br0">&#40;</span>edge<span class="br0">&#41;</span> <span class="br0">&#123;</span>
            <span class="kw1">return</span> isNaN<span class="br0">&#40;</span>edge.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'weight'</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="sy0">?</span> <span class="st0">''</span> <span class="sy0">:</span> edge.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'weight'</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="br0">&#125;</span><span class="sy0">,</span>
        <span class="st0">'color'</span><span class="sy0">:</span> <span class="st0">'red'</span><span class="sy0">,</span>
        <span class="st0">'font-size'</span><span class="sy0">:</span> <span class="st0">'20px'</span>
    <span class="br0">&#125;</span><span class="sy0">;</span>
    <span class="coMULTI">/**
     * @type {string} layoutname
     * */</span>
    <span class="kw2">var</span> layoutname <span class="sy0">=</span> <span class="st0">&quot;spread&quot;</span><span class="sy0">;</span>
    <span class="coMULTI">/**
     * @type {object} CyLayout
     * */</span>
    <span class="kw2">var</span> CyLayout<span class="sy0">;</span>
    <span class="coMULTI">/**
     * @type {object} CaLayout
     * */</span>
    <span class="kw2">var</span> CaLayout<span class="sy0">;</span>
    <span class="coMULTI">/**
     * @type {boolean} animationFlag
     * */</span>
    <span class="kw2">var</span> animationFlag <span class="sy0">=</span> <span class="kw2">true</span><span class="sy0">;</span>
    <span class="coMULTI">/**
     * @type {object} copied elements
     * */</span>
    <span class="kw2">var</span> copiedEles<span class="sy0">;</span>
    <span class="coMULTI">/**
     * @type {boolean} drawOn
     * */</span>
    <span class="kw2">var</span> drawOn <span class="sy0">=</span> <span class="kw2">false</span><span class="sy0">;</span>
    <span class="coMULTI">/**
     * @type {object} weight_input text box
     * */</span>
    <span class="kw2">var</span> weight_input <span class="sy0">=</span> document.<span class="me1">getElementById</span><span class="br0">&#40;</span><span class="st0">'weight'</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="coMULTI">/**
     * @type {object} matrix_input text box
     * */</span>
    <span class="kw2">var</span> matrix_input <span class="sy0">=</span> document.<span class="me1">getElementById</span><span class="br0">&#40;</span><span class="st0">'matrix_input'</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="coMULTI">/**
     * @type {object} auto_refresh checkbox
     * */</span>
    <span class="kw2">var</span> auto_refresh <span class="sy0">=</span> document.<span class="me1">getElementById</span><span class="br0">&#40;</span><span class="st0">'autorefresh'</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="coMULTI">/**
     * @type {object} &quot;perform animation&quot; button
     * */</span>
    <span class="kw2">var</span> perform_button <span class="sy0">=</span> document.<span class="me1">getElementById</span><span class="br0">&#40;</span><span class="st0">'perform'</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="coMULTI">/**
     * @type {object} the animation checkbox
     * */</span>
    <span class="kw2">var</span> animation <span class="sy0">=</span> document.<span class="me1">getElementById</span><span class="br0">&#40;</span><span class="st0">'animation'</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="coMULTI">/**
     * @type {object} animation duration
     * */</span>
    <span class="kw2">var</span> duration <span class="sy0">=</span> document.<span class="me1">getElementById</span><span class="br0">&#40;</span><span class="st0">'duration'</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
    <span class="co1">// initialization function</span>
    $<span class="br0">&#40;</span><span class="kw2">function</span> <span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
        <span class="kw1">if</span> <span class="br0">&#40;</span><span class="sy0">!</span>Supports.<span class="me1">generator</span><span class="br0">&#41;</span>
            <span class="kw3">alert</span><span class="br0">&#40;</span><span class="st0">&quot;This browser doesn't support the ECMAScript 2015 standard.<span class="es0">\n</span>&quot;</span> <span class="sy0">+</span>
                <span class="st0">&quot;I recommend you to use the latest version of Chrome/Safari/FireFox.<span class="es0">\n</span>&quot;</span> <span class="sy0">+</span>
                <span class="st0">&quot;Multi-threading support will be automatically disabled.&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        cy <span class="sy0">=</span> initializeCytoscapeObjects<span class="br0">&#40;</span><span class="st0">&quot;cy&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        ca <span class="sy0">=</span> initializeCytoscapeObjects<span class="br0">&#40;</span><span class="st0">&quot;ca&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        clearCyStyle<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        clearCaStyle<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        initCircularMenu<span class="br0">&#40;</span>cy<span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
        cy.<span class="me1">graphml</span><span class="br0">&#40;</span><span class="br0">&#123;</span>layoutBy<span class="sy0">:</span> <span class="st0">'circle'</span><span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        ca.<span class="me1">graphml</span><span class="br0">&#40;</span><span class="br0">&#123;</span>layoutBy<span class="sy0">:</span> <span class="st0">'circle'</span><span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
        cy.<span class="me1">edgehandles</span><span class="br0">&#40;</span><span class="br0">&#123;</span>
            preview<span class="sy0">:</span> <span class="kw2">true</span><span class="sy0">,</span> <span class="co1">// whether to show added edges preview before releasing selection</span>
            stackOrder<span class="sy0">:</span> <span class="nu0">4</span><span class="sy0">,</span> <span class="co1">// Controls stack order of edgehandles canvas element by setting it's z-index</span>
            handleSize<span class="sy0">:</span> <span class="nu0">10</span><span class="sy0">,</span> <span class="co1">// the size of the edge handle put on nodes</span>
            handleHitThreshold<span class="sy0">:</span> <span class="nu0">6</span><span class="sy0">,</span> <span class="co1">// a threshold for hit detection that makes it easier to grab the handle</span>
            handleIcon<span class="sy0">:</span> <span class="kw2">false</span><span class="sy0">,</span> <span class="co1">// an image to put on the handle</span>
            handleColor<span class="sy0">:</span> <span class="st0">'#ff0000'</span><span class="sy0">,</span> <span class="co1">// the colour of the handle and the line drawn from it</span>
            handleLineType<span class="sy0">:</span> <span class="st0">'ghost'</span><span class="sy0">,</span> <span class="co1">// can be 'ghost' for real edge, 'straight' for a straight line, or 'draw' for a draw-as-you-go line</span>
            handleLineWidth<span class="sy0">:</span> <span class="nu0">3</span><span class="sy0">,</span> <span class="co1">// width of handle line in pixels</span>
            handleOutlineColor<span class="sy0">:</span> <span class="st0">'#000000'</span><span class="sy0">,</span> <span class="co1">// the colour of the handle outline</span>
            handleOutlineWidth<span class="sy0">:</span> <span class="nu0">0</span><span class="sy0">,</span> <span class="co1">// the width of the handle outline in pixels</span>
            handleNodes<span class="sy0">:</span> <span class="st0">'node'</span><span class="sy0">,</span> <span class="co1">// selector/filter function for whether edges can be made from a given node</span>
            handlePosition<span class="sy0">:</span> <span class="st0">'middle top'</span><span class="sy0">,</span> <span class="co1">// sets the position of the handle in the format of &quot;X-AXIS Y-AXIS&quot; such as &quot;left top&quot;, &quot;middle top&quot;</span>
            hoverDelay<span class="sy0">:</span> <span class="nu0">100</span><span class="sy0">,</span> <span class="co1">// time spend over a target node before it is considered a target selection</span>
            cxt<span class="sy0">:</span> <span class="kw2">false</span><span class="sy0">,</span> <span class="co1">// whether cxt events trigger edgehandles (useful on touch)</span>
            enabled<span class="sy0">:</span> <span class="kw2">true</span><span class="sy0">,</span> <span class="co1">// whether to start the plugin in the enabled state</span>
            toggleOffOnLeave<span class="sy0">:</span> <span class="kw2">false</span><span class="sy0">,</span> <span class="co1">// whether an edge is cancelled by leaving a node (true), or whether you need to go over again to cancel (false; allows multiple edges in one pass)</span>
            edgeType<span class="sy0">:</span> <span class="kw2">function</span> <span class="br0">&#40;</span>sourceNode<span class="sy0">,</span> targetNode<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                <span class="co1">// can return 'flat' for flat edges between nodes or 'node' for intermediate node between them</span>
                <span class="co1">// returning null/undefined means an edge can't be added between the two nodes</span>
                <span class="kw1">return</span> <span class="st0">'flat'</span><span class="sy0">;</span>
            <span class="br0">&#125;</span><span class="sy0">,</span>
            loopAllowed<span class="sy0">:</span> <span class="kw2">function</span> <span class="br0">&#40;</span>node<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                <span class="co1">// for the specified node, return whether edges from itself to itself are allowed</span>
                <span class="kw1">return</span> <span class="kw2">true</span><span class="sy0">;</span>
            <span class="br0">&#125;</span><span class="sy0">,</span>
            nodeLoopOffset<span class="sy0">:</span> <span class="sy0">-</span><span class="nu0">50</span><span class="sy0">,</span> <span class="co1">// offset for edgeType: 'node' loops</span>
            nodeParams<span class="sy0">:</span> <span class="kw2">function</span> <span class="br0">&#40;</span>sourceNode<span class="sy0">,</span> targetNode<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                <span class="co1">// for edges between the specified source and target</span>
                <span class="co1">// return element object to be passed to cy.add() for intermediary node</span>
                <span class="kw1">return</span> <span class="br0">&#123;</span><span class="br0">&#125;</span><span class="sy0">;</span>
            <span class="br0">&#125;</span><span class="sy0">,</span>
            edgeParams<span class="sy0">:</span> <span class="kw2">function</span> <span class="br0">&#40;</span>sourceNode<span class="sy0">,</span> targetNode<span class="sy0">,</span> i<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                <span class="co1">// for edges between the specified source and target</span>
                <span class="co1">// return element object to be passed to cy.add() for edge</span>
                <span class="co1">// NB: i indicates edge index in case of edgeType: 'node'</span>
                <span class="kw2">var</span> id_pre <span class="sy0">=</span> sourceNode.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'id'</span><span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">'-'</span> <span class="sy0">+</span> targetNode.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'id'</span><span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">'-'</span><span class="sy0">;</span>
                <span class="kw2">var</span> x <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span>
                <span class="kw1">while</span> <span class="br0">&#40;</span>cy.$id<span class="br0">&#40;</span>id_pre <span class="sy0">+</span> x<span class="br0">&#41;</span>.<span class="me1">length</span> <span class="sy0">!==</span> <span class="nu0">0</span><span class="br0">&#41;</span>
                    x <span class="sy0">+=</span> <span class="nu0">1</span><span class="sy0">;</span>
                <span class="kw1">return</span> <span class="br0">&#123;</span>
                    data<span class="sy0">:</span> <span class="br0">&#123;</span>
                        id<span class="sy0">:</span> id_pre <span class="sy0">+</span> x<span class="sy0">,</span>
                        source<span class="sy0">:</span> sourceNode.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'id'</span><span class="br0">&#41;</span><span class="sy0">,</span>
                        target<span class="sy0">:</span> targetNode.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'id'</span><span class="br0">&#41;</span><span class="sy0">,</span>
                        weight<span class="sy0">:</span> parseInt<span class="br0">&#40;</span>weight_input.<span class="me1">value</span><span class="br0">&#41;</span>
                    <span class="br0">&#125;</span>
                <span class="br0">&#125;</span><span class="sy0">;</span>
            <span class="br0">&#125;</span><span class="sy0">,</span>
            start<span class="sy0">:</span> <span class="kw2">function</span> <span class="br0">&#40;</span>sourceNode<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                <span class="co1">// fired when edgehandles interaction starts (drag on handle)</span>
            <span class="br0">&#125;</span><span class="sy0">,</span>
            complete<span class="sy0">:</span> <span class="kw2">function</span> <span class="br0">&#40;</span>sourceNode<span class="sy0">,</span> targetNodes<span class="sy0">,</span> addedEntities<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                <span class="co1">// fired when edgehandles is done and entities are added</span>
                <span class="kw1">if</span> <span class="br0">&#40;</span>auto_refresh.<span class="me1">checked</span><span class="br0">&#41;</span>
                    cyReLayout<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                addedEntities.<span class="me1">forEach</span><span class="br0">&#40;</span><span class="kw2">function</span> <span class="br0">&#40;</span>ele<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                    <span class="kw1">if</span> <span class="br0">&#40;</span>ele.<span class="me1">isEdge</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
                        ele.<span class="me1">animate</span><span class="br0">&#40;</span><span class="br0">&#123;</span>
                            style<span class="sy0">:</span> <span class="br0">&#123;</span>lineColor<span class="sy0">:</span> <span class="st0">'red'</span><span class="sy0">,</span> width<span class="sy0">:</span> <span class="nu0">5</span><span class="br0">&#125;</span><span class="sy0">,</span>
                            duration<span class="sy0">:</span> <span class="nu0">100</span>
                        <span class="br0">&#125;</span><span class="br0">&#41;</span>.<span class="me1">animate</span><span class="br0">&#40;</span><span class="br0">&#123;</span>
                            style<span class="sy0">:</span> <span class="br0">&#123;</span>lineColor<span class="sy0">:</span> <span class="st0">'#ccc'</span><span class="sy0">,</span> width<span class="sy0">:</span> <span class="nu0">2</span><span class="br0">&#125;</span><span class="sy0">,</span>
                            duration<span class="sy0">:</span> <span class="nu0">500</span>
                        <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                    <span class="br0">&#125;</span>
                <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            <span class="br0">&#125;</span><span class="sy0">,</span>
            <span class="kw3">stop</span><span class="sy0">:</span> <span class="kw2">function</span> <span class="br0">&#40;</span>sourceNode<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                <span class="co1">// fired when edgehandles interaction is stopped (either complete with added edges or incomplete)</span>
            <span class="br0">&#125;</span><span class="sy0">,</span>
            cancel<span class="sy0">:</span> <span class="kw2">function</span> <span class="br0">&#40;</span>sourceNode<span class="sy0">,</span> renderedPosition<span class="sy0">,</span> invalidTarget<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                <span class="co1">// fired when edgehandles are cancelled ( incomplete - nothing has been added ) - renderedPosition is where the edgehandle was released, invalidTarget is</span>
                <span class="co1">// a collection on which the handle was released, but which for other reasons (loopAllowed | edgeType) is an invalid target</span>
            <span class="br0">&#125;</span>
        <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
        <span class="co1">//add key bindings</span>
        document.<span class="me1">addEventListener</span><span class="br0">&#40;</span><span class="st0">&quot;keydown&quot;</span><span class="sy0">,</span> <span class="kw2">function</span> <span class="br0">&#40;</span>e<span class="br0">&#41;</span> <span class="br0">&#123;</span>
            e <span class="sy0">=</span> e <span class="sy0">||</span> event<span class="sy0">;</span>
            <span class="kw2">var</span> which <span class="sy0">=</span> e.<span class="me1">which</span> <span class="sy0">||</span> e.<span class="me1">keyCode</span> <span class="sy0">||</span> e.<span class="me1">charCode</span><span class="sy0">;</span>
&nbsp;
            <span class="kw1">if</span> <span class="br0">&#40;</span>e.<span class="me1">altKey</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
                <span class="co1">// alt + c</span>
                <span class="kw1">if</span> <span class="br0">&#40;</span>which <span class="sy0">==</span> <span class="nu0">67</span><span class="br0">&#41;</span>
                    addEdgeBetweenSelected<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
                <span class="co1">// alt + a</span>
                <span class="kw1">else</span> <span class="kw1">if</span> <span class="br0">&#40;</span>which <span class="sy0">==</span> <span class="nu0">65</span><span class="br0">&#41;</span>
                    addNode<span class="br0">&#40;</span><span class="kw2">true</span><span class="sy0">,</span> <span class="kw2">null</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
                <span class="co1">// alt + f</span>
                <span class="kw1">else</span> <span class="kw1">if</span> <span class="br0">&#40;</span>which <span class="sy0">==</span> <span class="nu0">70</span><span class="br0">&#41;</span>
                    reLayout<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
                <span class="co1">// alt + s</span>
                <span class="kw1">else</span> <span class="kw1">if</span> <span class="br0">&#40;</span>which <span class="sy0">==</span> <span class="nu0">83</span><span class="br0">&#41;</span>
                    clearSource<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
                <span class="co1">// alt + r</span>
                <span class="kw1">else</span> <span class="kw1">if</span> <span class="br0">&#40;</span>which <span class="sy0">==</span> <span class="nu0">82</span><span class="br0">&#41;</span>
                    clearResult<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
            <span class="br0">&#125;</span>
            <span class="kw1">else</span> <span class="kw1">if</span> <span class="br0">&#40;</span>e.<span class="me1">ctrlKey</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
                <span class="co1">// ctrl + c</span>
                <span class="kw1">if</span> <span class="br0">&#40;</span>which <span class="sy0">==</span> <span class="nu0">67</span><span class="br0">&#41;</span>
                    copy<span class="br0">&#40;</span>cy.$<span class="br0">&#40;</span><span class="st0">':selected'</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
                <span class="co1">// ctrl + v</span>
                <span class="kw1">else</span> <span class="kw1">if</span> <span class="br0">&#40;</span>which <span class="sy0">==</span> <span class="nu0">86</span><span class="br0">&#41;</span>
                    paste<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
                <span class="co1">// ctrl + s</span>
                <span class="kw1">else</span> <span class="kw1">if</span> <span class="br0">&#40;</span>which <span class="sy0">==</span> <span class="nu0">83</span><span class="br0">&#41;</span>
                    stopAnimation<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
                <span class="co1">// ctrl + a</span>
                <span class="kw1">else</span> <span class="kw1">if</span> <span class="br0">&#40;</span>which <span class="sy0">==</span> <span class="nu0">65</span><span class="br0">&#41;</span>
                    cy.<span class="me1">elements</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">select</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
                <span class="co1">// ctrl + r</span>
                <span class="kw1">else</span> <span class="kw1">if</span> <span class="br0">&#40;</span>which <span class="sy0">==</span> <span class="nu0">82</span><span class="br0">&#41;</span>
                    clearCaStyle<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
                <span class="co1">// ctrl + f</span>
                <span class="kw1">else</span> <span class="kw1">if</span> <span class="br0">&#40;</span>which <span class="sy0">==</span> <span class="nu0">70</span><span class="br0">&#41;</span>
                    clearCyStyle<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            <span class="br0">&#125;</span>
            <span class="co1">// the delete key</span>
            <span class="kw1">else</span> <span class="br0">&#123;</span>
                <span class="kw1">if</span> <span class="br0">&#40;</span>which <span class="sy0">==</span> <span class="nu0">46</span><span class="br0">&#41;</span>
                    removeSelected<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            <span class="br0">&#125;</span>
        <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        reLayout<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="coMULTI">/**
     * restore the default style of cy elements
     * @function
     * @public
     * @return void
     * */</span>
    <span class="kw2">function</span> clearCyStyle<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
        cy.<span class="me1">elements</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">removeStyle</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        cy.<span class="me1">style</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">resetToDefault</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">selector</span><span class="br0">&#40;</span><span class="st0">'node'</span><span class="br0">&#41;</span>.<span class="me1">style</span><span class="br0">&#40;</span>defaultNodeStyle<span class="br0">&#41;</span>.<span class="me1">selector</span><span class="br0">&#40;</span><span class="st0">'edge'</span><span class="br0">&#41;</span>.<span class="me1">style</span><span class="br0">&#40;</span>defaultEdgeStyle<span class="br0">&#41;</span>.<span class="me1">update</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        cy.$<span class="br0">&#40;</span><span class="st0">':selected'</span><span class="br0">&#41;</span>.<span class="me1">select</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
    <span class="coMULTI">/**
     * @function
     * @public
     * @return void
     * */</span>
    <span class="kw2">function</span> clearCaStyle<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
        ca.<span class="me1">elements</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">removeStyle</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        ca.<span class="me1">style</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">resetToDefault</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">selector</span><span class="br0">&#40;</span><span class="st0">'node'</span><span class="br0">&#41;</span>.<span class="me1">style</span><span class="br0">&#40;</span>defaultNodeStyle<span class="br0">&#41;</span>.<span class="me1">selector</span><span class="br0">&#40;</span><span class="st0">'edge'</span><span class="br0">&#41;</span>.<span class="me1">style</span><span class="br0">&#40;</span>defaultEdgeStyle<span class="br0">&#41;</span>.<span class="me1">update</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        ca.$<span class="br0">&#40;</span><span class="st0">':selected'</span><span class="br0">&#41;</span>.<span class="me1">select</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
    <span class="coMULTI">/**
     * @function
     * @public
     * @param {object} eles
     * @return void
     * */</span>
    <span class="kw2">function</span> copy<span class="br0">&#40;</span>eles<span class="br0">&#41;</span> <span class="br0">&#123;</span>
        copiedEles <span class="sy0">=</span> eles<span class="sy0">;</span>
    <span class="br0">&#125;</span>
&nbsp;
    <span class="coMULTI">/**
     * @function
     * @public
     * @return void
     * paste the copied elements
     * rename their id to avoid duplication
     * */</span>
    <span class="kw2">function</span> paste<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
        <span class="kw1">if</span> <span class="br0">&#40;</span>copiedEles <span class="sy0">===</span> undefined<span class="br0">&#41;</span>
            <span class="kw1">return</span><span class="sy0">;</span>
        idMap <span class="sy0">=</span> <span class="br0">&#123;</span><span class="br0">&#125;</span><span class="sy0">;</span>
        cy.<span class="me1">elements</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">unselect</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        copiedEles.<span class="me1">forEach</span><span class="br0">&#40;</span><span class="kw2">function</span> <span class="br0">&#40;</span>ele<span class="br0">&#41;</span> <span class="br0">&#123;</span>
            <span class="kw1">if</span> <span class="br0">&#40;</span>ele.<span class="me1">isNode</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
                <span class="kw2">var</span> addedNode <span class="sy0">=</span> addOneNode<span class="br0">&#40;</span><span class="kw2">false</span><span class="sy0">,</span> <span class="br0">&#123;</span>
                    x<span class="sy0">:</span> ele.<span class="me1">position</span><span class="br0">&#40;</span><span class="st0">'x'</span><span class="br0">&#41;</span> <span class="sy0">+</span> <span class="nu0">25</span><span class="sy0">,</span>
                    y<span class="sy0">:</span> ele.<span class="me1">position</span><span class="br0">&#40;</span><span class="st0">'y'</span><span class="br0">&#41;</span> <span class="sy0">+</span> <span class="nu0">25</span>
                <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                addedNode.<span class="me1">select</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                idMap<span class="br0">&#91;</span>ele.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'id'</span><span class="br0">&#41;</span><span class="br0">&#93;</span> <span class="sy0">=</span> addedNode.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'id'</span><span class="br0">&#41;</span><span class="sy0">;</span>
            <span class="br0">&#125;</span>
        <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        copiedEles.<span class="me1">forEach</span><span class="br0">&#40;</span><span class="kw2">function</span> <span class="br0">&#40;</span>ele<span class="br0">&#41;</span> <span class="br0">&#123;</span>
            <span class="kw1">if</span> <span class="br0">&#40;</span>ele.<span class="me1">isEdge</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
                <span class="kw1">if</span> <span class="br0">&#40;</span>idMap<span class="br0">&#91;</span>ele.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'source'</span><span class="br0">&#41;</span><span class="br0">&#93;</span> <span class="sy0">!==</span> undefined <span class="sy0">&amp;&amp;</span> idMap<span class="br0">&#91;</span>ele.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'target'</span><span class="br0">&#41;</span><span class="br0">&#93;</span> <span class="sy0">!==</span> undefined<span class="br0">&#41;</span>
                    addEdgeBwt<span class="br0">&#40;</span>idMap<span class="br0">&#91;</span>ele.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'source'</span><span class="br0">&#41;</span><span class="br0">&#93;</span><span class="sy0">,</span> idMap<span class="br0">&#91;</span>ele.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'target'</span><span class="br0">&#41;</span><span class="br0">&#93;</span><span class="sy0">,</span> ele.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'weight'</span><span class="br0">&#41;</span><span class="br0">&#41;</span>.<span class="me1">select</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            <span class="br0">&#125;</span>
        <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
&nbsp;
    <span class="coMULTI">/**
     * @function
     * @param {string} div_name
     * @public
     * @return object
     * */</span>
    <span class="kw2">function</span> initializeCytoscapeObjects<span class="br0">&#40;</span>div_name<span class="br0">&#41;</span> <span class="br0">&#123;</span>
        <span class="kw2">var</span> c <span class="sy0">=</span> cytoscape<span class="br0">&#40;</span><span class="br0">&#123;</span>
            container<span class="sy0">:</span> document.<span class="me1">getElementById</span><span class="br0">&#40;</span>div_name<span class="br0">&#41;</span>
        <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        c.<span class="me1">on</span><span class="br0">&#40;</span><span class="st0">'select'</span><span class="sy0">,</span> <span class="kw2">function</span> <span class="br0">&#40;</span>event<span class="br0">&#41;</span> <span class="br0">&#123;</span>
            event.<span class="me1">target</span>.<span class="me1">style</span><span class="br0">&#40;</span><span class="br0">&#123;</span><span class="st0">'background-color'</span><span class="sy0">:</span> <span class="st0">'green'</span><span class="sy0">,</span> <span class="st0">'line-color'</span><span class="sy0">:</span> <span class="st0">'green'</span><span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        c.<span class="me1">on</span><span class="br0">&#40;</span><span class="st0">'unselect'</span><span class="sy0">,</span> <span class="kw2">function</span> <span class="br0">&#40;</span>event<span class="br0">&#41;</span> <span class="br0">&#123;</span>
            event.<span class="me1">target</span>.<span class="me1">style</span><span class="br0">&#40;</span><span class="br0">&#123;</span><span class="st0">'background-color'</span><span class="sy0">:</span> <span class="st0">'#666'</span><span class="sy0">,</span> <span class="st0">'line-color'</span><span class="sy0">:</span> <span class="st0">'#ccc'</span><span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        c.<span class="me1">panzoom</span><span class="br0">&#40;</span><span class="br0">&#123;</span>
            zoomDelay<span class="sy0">:</span> <span class="nu0">20</span><span class="sy0">,</span>
            zoomFactor<span class="sy0">:</span> <span class="nu0">0.02</span><span class="sy0">,</span>
            panSpeed<span class="sy0">:</span> <span class="nu0">5</span><span class="sy0">,</span>
            panDistance<span class="sy0">:</span> <span class="nu0">1</span><span class="sy0">,</span>
            fitPadding<span class="sy0">:</span> <span class="nu0">20</span><span class="sy0">,</span>
            animateOnFit<span class="sy0">:</span> <span class="kw2">true</span><span class="sy0">,</span>
            fitAnimationDuration<span class="sy0">:</span> <span class="nu0">500</span>
        <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        c.<span class="me1">snapToGrid</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        c.<span class="me1">snapToGrid</span><span class="br0">&#40;</span><span class="st0">'snapOff'</span><span class="br0">&#41;</span><span class="sy0">;</span>
        c.<span class="me1">snapToGrid</span><span class="br0">&#40;</span><span class="st0">'gridOff'</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw1">return</span> c<span class="sy0">;</span>
    <span class="br0">&#125;</span>
&nbsp;
    <span class="coMULTI">/**
     * @function
     * @param {object} ele
     * @public
     * @return void
     * */</span>
    <span class="kw2">function</span> selectAllOfTheSameType<span class="br0">&#40;</span>ele<span class="br0">&#41;</span> <span class="br0">&#123;</span>
        cy.<span class="me1">elements</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">unselect</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw1">if</span> <span class="br0">&#40;</span>ele.<span class="me1">isNode</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span>
            cy.<span class="me1">nodes</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">select</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw1">else</span> <span class="kw1">if</span> <span class="br0">&#40;</span>ele.<span class="me1">isEdge</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span>
            cy.<span class="me1">edges</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">select</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
&nbsp;
    <span class="coMULTI">/**
     * @function
     * @param {object} c
     * @public
     * @return void
     * */</span>
    <span class="kw2">function</span> initConventionalMenu<span class="br0">&#40;</span>c<span class="br0">&#41;</span> <span class="br0">&#123;</span>
        c.<span class="me1">contextMenus</span><span class="br0">&#40;</span><span class="br0">&#123;</span>
            menuItems<span class="sy0">:</span> <span class="br0">&#91;</span>
                <span class="br0">&#123;</span>
                    id<span class="sy0">:</span> <span class="st0">'remove'</span><span class="sy0">,</span>
                    content<span class="sy0">:</span> <span class="st0">'remove'</span><span class="sy0">,</span>
                    tooltipText<span class="sy0">:</span> <span class="st0">'remove this element only'</span><span class="sy0">,</span>
                    selector<span class="sy0">:</span> <span class="st0">'node, edge'</span><span class="sy0">,</span>
                    onClickFunction<span class="sy0">:</span> <span class="kw2">function</span> <span class="br0">&#40;</span>event<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                        <span class="kw2">var</span> target <span class="sy0">=</span> event.<span class="me1">target</span> <span class="sy0">||</span> event.<span class="me1">cyTarget</span><span class="sy0">;</span>
                        target.<span class="me1">remove</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                    <span class="br0">&#125;</span>
                <span class="br0">&#125;</span><span class="sy0">,</span>
                <span class="br0">&#123;</span>
                    id<span class="sy0">:</span> <span class="st0">'duplicate-edge'</span><span class="sy0">,</span>
                    content<span class="sy0">:</span> <span class="st0">'duplicate edge'</span><span class="sy0">,</span>
                    tooltipText<span class="sy0">:</span> <span class="st0">'duplicate this edge'</span><span class="sy0">,</span>
                    selector<span class="sy0">:</span> <span class="st0">'edge'</span><span class="sy0">,</span>
                    onClickFunction<span class="sy0">:</span> <span class="kw2">function</span> <span class="br0">&#40;</span>event<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                        duplicateEdge<span class="br0">&#40;</span>event.<span class="me1">target</span><span class="sy0">,</span> cy<span class="br0">&#41;</span><span class="sy0">;</span>
                    <span class="br0">&#125;</span>
                <span class="br0">&#125;</span><span class="sy0">,</span>
                <span class="br0">&#123;</span>
                    id<span class="sy0">:</span> <span class="st0">'change-weight'</span><span class="sy0">,</span>
                    content<span class="sy0">:</span> <span class="st0">'change weight'</span><span class="sy0">,</span>
                    tooltipText<span class="sy0">:</span> <span class="st0">'set a new weight for this edge'</span><span class="sy0">,</span>
                    selector<span class="sy0">:</span> <span class="st0">'edge'</span><span class="sy0">,</span>
                    onClickFunction<span class="sy0">:</span> <span class="kw2">function</span> <span class="br0">&#40;</span>event<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                        <span class="kw2">var</span> weight <span class="sy0">=</span> parseInt<span class="br0">&#40;</span><span class="kw3">prompt</span><span class="br0">&#40;</span><span class="st0">'Please enter a weight for this edge.'</span><span class="sy0">,</span> <span class="st0">'1'</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                        <span class="kw1">if</span> <span class="br0">&#40;</span><span class="sy0">!</span>isNaN<span class="br0">&#40;</span>weight<span class="br0">&#41;</span><span class="br0">&#41;</span>
                            event.<span class="me1">target</span>.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'weight'</span><span class="sy0">,</span> weight<span class="br0">&#41;</span><span class="sy0">;</span>
                        <span class="kw1">else</span>
                            event.<span class="me1">target</span>.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'weight'</span><span class="sy0">,</span> <span class="st0">''</span><span class="br0">&#41;</span><span class="sy0">;</span>
                    <span class="br0">&#125;</span>
                <span class="br0">&#125;</span><span class="sy0">,</span>
                <span class="br0">&#123;</span>
                    id<span class="sy0">:</span> <span class="st0">'add-node'</span><span class="sy0">,</span>
                    content<span class="sy0">:</span> <span class="st0">'add node'</span><span class="sy0">,</span>
                    tooltipText<span class="sy0">:</span> <span class="st0">'add node'</span><span class="sy0">,</span>
                    coreAsWell<span class="sy0">:</span> <span class="kw2">true</span><span class="sy0">,</span>
                    onClickFunction<span class="sy0">:</span> <span class="kw2">function</span> <span class="br0">&#40;</span>event<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                        <span class="kw2">var</span> pos <span class="sy0">=</span> event.<span class="me1">position</span> <span class="sy0">||</span> event.<span class="me1">cyPosition</span><span class="sy0">;</span>
                        addNode<span class="br0">&#40;</span><span class="kw2">false</span><span class="sy0">,</span> <span class="br0">&#123;</span>
                            x<span class="sy0">:</span> pos.<span class="me1">x</span><span class="sy0">,</span>
                            y<span class="sy0">:</span> pos.<span class="me1">y</span>
                        <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                    <span class="br0">&#125;</span>
                <span class="br0">&#125;</span><span class="sy0">,</span>
                <span class="br0">&#123;</span>
                    id<span class="sy0">:</span> <span class="st0">'add-edge'</span><span class="sy0">,</span>
                    content<span class="sy0">:</span> <span class="st0">'add edge'</span><span class="sy0">,</span>
                    tooltipText<span class="sy0">:</span> <span class="st0">'add edge(s) between selected nodes'</span><span class="sy0">,</span>
                    selector<span class="sy0">:</span> <span class="st0">'node'</span><span class="sy0">,</span>
                    onClickFunction<span class="sy0">:</span> <span class="kw2">function</span> <span class="br0">&#40;</span>event<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                        addEdgeBetweenSelected<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                    <span class="br0">&#125;</span>
                <span class="br0">&#125;</span><span class="sy0">,</span>
                <span class="br0">&#123;</span>
                    id<span class="sy0">:</span> <span class="st0">'remove-selected'</span><span class="sy0">,</span>
                    content<span class="sy0">:</span> <span class="st0">'remove selected'</span><span class="sy0">,</span>
                    tooltipText<span class="sy0">:</span> <span class="st0">'remove selected elements'</span><span class="sy0">,</span>
                    selector<span class="sy0">:</span> <span class="st0">'node, edge'</span><span class="sy0">,</span>
                    coreAsWell<span class="sy0">:</span> <span class="kw2">true</span><span class="sy0">,</span>
                    onClickFunction<span class="sy0">:</span> <span class="kw2">function</span> <span class="br0">&#40;</span>event<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                        removeSelected<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                    <span class="br0">&#125;</span><span class="sy0">,</span>
                    hasTrailingDivider<span class="sy0">:</span> <span class="kw2">true</span>
                <span class="br0">&#125;</span><span class="sy0">,</span>
                <span class="br0">&#123;</span>
                    id<span class="sy0">:</span> <span class="st0">'select-all-nodes'</span><span class="sy0">,</span>
                    content<span class="sy0">:</span> <span class="st0">'select all nodes'</span><span class="sy0">,</span>
                    tooltipText<span class="sy0">:</span> <span class="st0">'select all nodes'</span><span class="sy0">,</span>
                    selector<span class="sy0">:</span> <span class="st0">'node'</span><span class="sy0">,</span>
                    onClickFunction<span class="sy0">:</span> <span class="kw2">function</span> <span class="br0">&#40;</span>event<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                        selectAllOfTheSameType<span class="br0">&#40;</span>event.<span class="me1">target</span> <span class="sy0">||</span> event.<span class="me1">cyTarget</span><span class="br0">&#41;</span><span class="sy0">;</span>
                    <span class="br0">&#125;</span><span class="sy0">,</span>
                    hasTrailingDivider<span class="sy0">:</span> <span class="kw2">true</span>
                <span class="br0">&#125;</span><span class="sy0">,</span>
                <span class="br0">&#123;</span>
                    id<span class="sy0">:</span> <span class="st0">'select-all-edges'</span><span class="sy0">,</span>
                    content<span class="sy0">:</span> <span class="st0">'select all edges'</span><span class="sy0">,</span>
                    tooltipText<span class="sy0">:</span> <span class="st0">'select all edges'</span><span class="sy0">,</span>
                    selector<span class="sy0">:</span> <span class="st0">'edge'</span><span class="sy0">,</span>
                    onClickFunction<span class="sy0">:</span> <span class="kw2">function</span> <span class="br0">&#40;</span>event<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                        selectAllOfTheSameType<span class="br0">&#40;</span>event.<span class="me1">target</span> <span class="sy0">||</span> event.<span class="me1">cyTarget</span><span class="br0">&#41;</span><span class="sy0">;</span>
                    <span class="br0">&#125;</span><span class="sy0">,</span>
                    hasTrailingDivider<span class="sy0">:</span> <span class="kw2">true</span>
                <span class="br0">&#125;</span><span class="sy0">,</span>
                <span class="br0">&#123;</span>
                    id<span class="sy0">:</span> <span class="st0">'bfs'</span><span class="sy0">,</span>
                    content<span class="sy0">:</span> <span class="st0">'start BFS'</span><span class="sy0">,</span>
                    tooltipText<span class="sy0">:</span> <span class="st0">'start breadth first search at this node'</span><span class="sy0">,</span>
                    selector<span class="sy0">:</span> <span class="st0">'node'</span><span class="sy0">,</span>
                    onClickFunction<span class="sy0">:</span> <span class="kw2">function</span> <span class="br0">&#40;</span>event<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                        cy.<span class="me1">elements</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">unselect</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                        <span class="kw2">var</span> tg <span class="sy0">=</span> event.<span class="me1">target</span> <span class="sy0">||</span> event.<span class="me1">cyTarget</span><span class="sy0">;</span>
                        tg.<span class="me1">select</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                        breadthFirstSearch<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                    <span class="br0">&#125;</span>
                <span class="br0">&#125;</span><span class="sy0">,</span>
                <span class="br0">&#123;</span>
                    id<span class="sy0">:</span> <span class="st0">'dfs'</span><span class="sy0">,</span>
                    content<span class="sy0">:</span> <span class="st0">'start DFS'</span><span class="sy0">,</span>
                    tooltipText<span class="sy0">:</span> <span class="st0">'start depth first search at this node'</span><span class="sy0">,</span>
                    selector<span class="sy0">:</span> <span class="st0">'node'</span><span class="sy0">,</span>
                    onClickFunction<span class="sy0">:</span> <span class="kw2">function</span> <span class="br0">&#40;</span>event<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                        cy.<span class="me1">elements</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">unselect</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                        <span class="kw2">var</span> tg <span class="sy0">=</span> event.<span class="me1">target</span> <span class="sy0">||</span> event.<span class="me1">cyTarget</span><span class="sy0">;</span>
                        tg.<span class="me1">select</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                        depthFirstSearch<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                    <span class="br0">&#125;</span>
                <span class="br0">&#125;</span>
            <span class="br0">&#93;</span>
        <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
    <span class="coMULTI">/**
     * @function
     * @param {object} c
     * @public
     * @return void
     * */</span>
    <span class="kw2">function</span> initCircularMenu<span class="br0">&#40;</span>c<span class="br0">&#41;</span> <span class="br0">&#123;</span>
        c.<span class="me1">cxtmenu</span><span class="br0">&#40;</span><span class="br0">&#123;</span>
            menuRadius<span class="sy0">:</span> <span class="nu0">75</span><span class="sy0">,</span>
            activePadding<span class="sy0">:</span> <span class="nu0">10</span><span class="sy0">,</span>
            selector<span class="sy0">:</span> <span class="st0">'node'</span><span class="sy0">,</span>
            commands<span class="sy0">:</span> <span class="br0">&#91;</span>
                <span class="br0">&#123;</span>
                    content<span class="sy0">:</span> <span class="st0">'&lt;i class=&quot;fa fa-road fa-2x&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;'</span><span class="sy0">,</span>
                    select<span class="sy0">:</span> <span class="kw2">function</span> <span class="br0">&#40;</span>ele<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                        ele.<span class="me1">select</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                        addEdgeBetweenSelected<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                    <span class="br0">&#125;</span>
                <span class="br0">&#125;</span><span class="sy0">,</span>
                <span class="br0">&#123;</span>
                    content<span class="sy0">:</span> <span class="st0">'&lt;i class=&quot;fa fa-trash fa-2x&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;'</span><span class="sy0">,</span>
                    select<span class="sy0">:</span> <span class="kw2">function</span> <span class="br0">&#40;</span>ele<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                        cy.<span class="me1">remove</span><span class="br0">&#40;</span>ele<span class="br0">&#41;</span><span class="sy0">;</span>
                        <span class="kw1">if</span> <span class="br0">&#40;</span>auto_refresh.<span class="me1">checked</span><span class="br0">&#41;</span>
                            cyReLayout<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                    <span class="br0">&#125;</span>
                <span class="br0">&#125;</span><span class="sy0">,</span>
                <span class="br0">&#123;</span>
                    content<span class="sy0">:</span> <span class="st0">'BFS'</span><span class="sy0">,</span>
                    select<span class="sy0">:</span> <span class="kw2">function</span> <span class="br0">&#40;</span>ele<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                        cy.<span class="me1">elements</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">unselect</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                        ele.<span class="me1">select</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                        breadthFirstSearch<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                    <span class="br0">&#125;</span>
                <span class="br0">&#125;</span><span class="sy0">,</span>
                <span class="br0">&#123;</span>
                    content<span class="sy0">:</span> <span class="st0">'DFS'</span><span class="sy0">,</span>
                    select<span class="sy0">:</span> <span class="kw2">function</span> <span class="br0">&#40;</span>ele<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                        cy.<span class="me1">elements</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">unselect</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                        ele.<span class="me1">select</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                        depthFirstSearch<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                    <span class="br0">&#125;</span>
                <span class="br0">&#125;</span>
            <span class="br0">&#93;</span>
        <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        c.<span class="me1">cxtmenu</span><span class="br0">&#40;</span><span class="br0">&#123;</span>
            menuRadius<span class="sy0">:</span> <span class="nu0">75</span><span class="sy0">,</span>
            activePadding<span class="sy0">:</span> <span class="nu0">10</span><span class="sy0">,</span>
            selector<span class="sy0">:</span> <span class="st0">'edge'</span><span class="sy0">,</span>
            commands<span class="sy0">:</span> <span class="br0">&#91;</span>
                <span class="br0">&#123;</span>
                    content<span class="sy0">:</span> <span class="st0">'&lt;i class=&quot;fa fa-trash fa-2x&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;'</span><span class="sy0">,</span>
                    select<span class="sy0">:</span> <span class="kw2">function</span> <span class="br0">&#40;</span>ele<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                        cy.<span class="me1">remove</span><span class="br0">&#40;</span>ele<span class="br0">&#41;</span><span class="sy0">;</span>
                        <span class="kw1">if</span> <span class="br0">&#40;</span>auto_refresh.<span class="me1">checked</span><span class="br0">&#41;</span>
                            cyReLayout<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                    <span class="br0">&#125;</span>
                <span class="br0">&#125;</span><span class="sy0">,</span>
                <span class="br0">&#123;</span>
                    content<span class="sy0">:</span> <span class="st0">'&lt;i class=&quot;fa fa-plus fa-2x&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;'</span><span class="sy0">,</span>
                    select<span class="sy0">:</span> <span class="kw2">function</span> <span class="br0">&#40;</span>ele<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                        duplicateEdge<span class="br0">&#40;</span>ele<span class="sy0">,</span> cy<span class="br0">&#41;</span><span class="sy0">;</span>
                    <span class="br0">&#125;</span>
                <span class="br0">&#125;</span><span class="sy0">,</span>
                <span class="br0">&#123;</span>
                    content<span class="sy0">:</span> <span class="st0">'&lt;i class=&quot;fa fa-tag fa-2x&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;'</span><span class="sy0">,</span>
                    select<span class="sy0">:</span> <span class="kw2">function</span> <span class="br0">&#40;</span>ele<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                        <span class="kw2">var</span> weight <span class="sy0">=</span> parseInt<span class="br0">&#40;</span><span class="kw3">prompt</span><span class="br0">&#40;</span><span class="st0">&quot;Please enter a weight for this edge.&quot;</span><span class="sy0">,</span> <span class="st0">&quot;1&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                        <span class="kw1">if</span> <span class="br0">&#40;</span><span class="sy0">!</span>isNaN<span class="br0">&#40;</span>weight<span class="br0">&#41;</span><span class="br0">&#41;</span>
                            ele.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'weight'</span><span class="sy0">,</span> weight<span class="br0">&#41;</span><span class="sy0">;</span>
                        <span class="kw1">else</span>
                            ele.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'weight'</span><span class="sy0">,</span> <span class="st0">''</span><span class="br0">&#41;</span><span class="sy0">;</span>
                    <span class="br0">&#125;</span>
                <span class="br0">&#125;</span>
            <span class="br0">&#93;</span>
        <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        c.<span class="me1">cxtmenu</span><span class="br0">&#40;</span><span class="br0">&#123;</span>
            menuRadius<span class="sy0">:</span> <span class="nu0">75</span><span class="sy0">,</span>
            activePadding<span class="sy0">:</span> <span class="nu0">10</span><span class="sy0">,</span>
            selector<span class="sy0">:</span> <span class="st0">'core'</span><span class="sy0">,</span>
            commands<span class="sy0">:</span> <span class="br0">&#91;</span>
                <span class="br0">&#123;</span>
                    content<span class="sy0">:</span> <span class="st0">'&lt;i class=&quot;fa fa-plus fa-2x&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;'</span><span class="sy0">,</span>
                    select<span class="sy0">:</span> <span class="kw2">function</span> <span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
                        addNode<span class="br0">&#40;</span><span class="kw2">false</span><span class="sy0">,</span> <span class="kw2">null</span><span class="br0">&#41;</span><span class="sy0">;</span>
                    <span class="br0">&#125;</span>
                <span class="br0">&#125;</span><span class="sy0">,</span>
                <span class="br0">&#123;</span>
                    content<span class="sy0">:</span> <span class="st0">'&lt;i class=&quot;fa fa-trash fa-2x&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;'</span><span class="sy0">,</span>
                    select<span class="sy0">:</span> <span class="kw2">function</span> <span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
                        cy.<span class="me1">remove</span><span class="br0">&#40;</span>cy.<span class="me1">elements</span><span class="br0">&#40;</span><span class="st0">':selected'</span><span class="br0">&#41;</span><span class="br0">&#41;</span>
                    <span class="br0">&#125;</span>
                <span class="br0">&#125;</span><span class="sy0">,</span>
                <span class="br0">&#123;</span>
                    content<span class="sy0">:</span> <span class="st0">'&lt;i class=&quot;fa fa-crosshairs fa-2x&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;'</span><span class="sy0">,</span>
                    select<span class="sy0">:</span> <span class="kw2">function</span> <span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
                        cy.<span class="me1">elements</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">select</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                    <span class="br0">&#125;</span>
                <span class="br0">&#125;</span><span class="sy0">,</span>
                <span class="br0">&#123;</span>
                    content<span class="sy0">:</span> <span class="st0">'&lt;i class=&quot;fa fa-refresh fa-2x&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;'</span><span class="sy0">,</span>
                    select<span class="sy0">:</span> <span class="kw2">function</span> <span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
                        reLayout<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                    <span class="br0">&#125;</span>
                <span class="br0">&#125;</span><span class="sy0">,</span>
                <span class="br0">&#123;</span>
                    content<span class="sy0">:</span> <span class="st0">'&lt;i class=&quot;fa fa-external-link fa-2x&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;'</span><span class="sy0">,</span>
                    select<span class="sy0">:</span> <span class="kw2">function</span> <span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
                        <span class="kw1">if</span> <span class="br0">&#40;</span>drawOn<span class="br0">&#41;</span>
                            c.<span class="me1">edgehandles</span><span class="br0">&#40;</span><span class="st0">'drawoff'</span><span class="br0">&#41;</span><span class="sy0">;</span>
                        <span class="kw1">else</span>
                            c.<span class="me1">edgehandles</span><span class="br0">&#40;</span><span class="st0">'drawon'</span><span class="br0">&#41;</span><span class="sy0">;</span>
                        drawOn <span class="sy0">=</span> <span class="sy0">!</span>drawOn<span class="sy0">;</span>
                    <span class="br0">&#125;</span>
                <span class="br0">&#125;</span>
            <span class="br0">&#93;</span>
        <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
&nbsp;
    <span class="coMULTI">/**
     * @function
     * @param {boolean} random
     * @param {object} position
     * @public
     * @return void
     * */</span>
    <span class="kw2">function</span> addNode<span class="br0">&#40;</span>random<span class="sy0">,</span> position<span class="br0">&#41;</span> <span class="br0">&#123;</span>
        stopAnimation<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw2">var</span> t <span class="sy0">=</span> document.<span class="me1">getElementById</span><span class="br0">&#40;</span><span class="st0">'nid'</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw2">var</span> num <span class="sy0">=</span> parseInt<span class="br0">&#40;</span>t.<span class="me1">value</span><span class="br0">&#41;</span><span class="sy0">;</span>
        num <span class="sy0">=</span> isNaN<span class="br0">&#40;</span>num<span class="br0">&#41;</span> <span class="sy0">?</span> <span class="nu0">1</span> <span class="sy0">:</span> num <span class="sy0">&lt;</span> <span class="nu0">1</span> <span class="sy0">?</span> <span class="nu0">1</span> <span class="sy0">:</span> num<span class="sy0">;</span>
        <span class="kw1">for</span> <span class="br0">&#40;</span><span class="kw2">var</span> i <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> i <span class="sy0">&lt;</span> num<span class="sy0">;</span> i<span class="sy0">++</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
            addOneNode<span class="br0">&#40;</span>random<span class="sy0">,</span> position<span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="br0">&#125;</span>
        <span class="kw1">if</span> <span class="br0">&#40;</span>auto_refresh.<span class="me1">checked</span><span class="br0">&#41;</span>
            cyReLayout<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
&nbsp;
    <span class="coMULTI">/**
     * @function
     * @param {boolean} random
     * @param {object} position
     * @public
     * @return object : the added node
     * */</span>
    <span class="kw2">function</span> addOneNode<span class="br0">&#40;</span>random<span class="sy0">,</span> position<span class="br0">&#41;</span> <span class="br0">&#123;</span>
        <span class="kw2">var</span> v <span class="sy0">=</span> <span class="nu0">1</span><span class="sy0">;</span>
        <span class="kw1">while</span> <span class="br0">&#40;</span>cy.$id<span class="br0">&#40;</span>v <span class="sy0">+</span> <span class="st0">''</span><span class="br0">&#41;</span>.<span class="me1">length</span> <span class="sy0">!==</span> <span class="nu0">0</span><span class="br0">&#41;</span>
            v <span class="sy0">+=</span> <span class="nu0">1</span><span class="sy0">;</span>
        <span class="kw1">if</span> <span class="br0">&#40;</span>random<span class="br0">&#41;</span>
            <span class="kw1">return</span> cy.<span class="me1">add</span><span class="br0">&#40;</span><span class="br0">&#123;</span>
                group<span class="sy0">:</span> <span class="st0">'nodes'</span><span class="sy0">,</span>
                data<span class="sy0">:</span> <span class="br0">&#123;</span>id<span class="sy0">:</span> v<span class="br0">&#125;</span><span class="sy0">,</span>
                position<span class="sy0">:</span> <span class="br0">&#123;</span>
                    x<span class="sy0">:</span> parseInt<span class="br0">&#40;</span>Math.<span class="me1">random</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy0">*</span> <span class="nu0">500</span> <span class="sy0">+</span> <span class="nu0">25</span><span class="br0">&#41;</span><span class="sy0">,</span> y<span class="sy0">:</span> parseInt<span class="br0">&#40;</span>Math.<span class="me1">random</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy0">*</span> <span class="nu0">500</span> <span class="sy0">+</span> <span class="nu0">25</span><span class="br0">&#41;</span>
                <span class="br0">&#125;</span>
            <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw1">else</span> <span class="br0">&#123;</span>
            <span class="kw1">if</span> <span class="br0">&#40;</span>position <span class="sy0">===</span> <span class="kw2">null</span><span class="br0">&#41;</span>
                <span class="kw1">return</span> cy.<span class="me1">add</span><span class="br0">&#40;</span><span class="br0">&#123;</span>
                    group<span class="sy0">:</span> <span class="st0">'nodes'</span><span class="sy0">,</span>
                    data<span class="sy0">:</span> <span class="br0">&#123;</span>id<span class="sy0">:</span> v<span class="br0">&#125;</span>
                <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            <span class="kw1">else</span>
                <span class="kw1">return</span> cy.<span class="me1">add</span><span class="br0">&#40;</span><span class="br0">&#123;</span>
                    group<span class="sy0">:</span> <span class="st0">'nodes'</span><span class="sy0">,</span>
                    data<span class="sy0">:</span> <span class="br0">&#123;</span>id<span class="sy0">:</span> v<span class="br0">&#125;</span><span class="sy0">,</span>
                    position<span class="sy0">:</span> position
                <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="br0">&#125;</span>
    <span class="br0">&#125;</span>
    <span class="coMULTI">/**
     * @function
     * @public
     * @return void
     * */</span>
    <span class="kw2">function</span> addEdge<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
        stopAnimation<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw2">var</span> src_tg <span class="sy0">=</span> document.<span class="me1">getElementById</span><span class="br0">&#40;</span><span class="st0">'src_tg'</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw2">var</span> s <span class="sy0">=</span> src_tg.<span class="me1">value</span><span class="sy0">;</span>
        <span class="kw2">var</span> ns <span class="sy0">=</span> s.<span class="me1">split</span><span class="br0">&#40;</span><span class="st0">'-'</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw2">var</span> n1 <span class="sy0">=</span> ns<span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span><span class="sy0">;</span>
        <span class="kw2">var</span> n2 <span class="sy0">=</span> ns<span class="br0">&#91;</span><span class="nu0">1</span><span class="br0">&#93;</span><span class="sy0">;</span>
        <span class="kw2">var</span> num <span class="sy0">=</span> ns<span class="br0">&#91;</span><span class="nu0">2</span><span class="br0">&#93;</span> <span class="sy0">===</span> undefined <span class="sy0">?</span> <span class="nu0">1</span> <span class="sy0">:</span> <span class="br0">&#40;</span>isNaN<span class="br0">&#40;</span>parseInt<span class="br0">&#40;</span>ns<span class="br0">&#91;</span><span class="nu0">2</span><span class="br0">&#93;</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="sy0">?</span> <span class="nu0">1</span> <span class="sy0">:</span> parseInt<span class="br0">&#40;</span>ns<span class="br0">&#91;</span><span class="nu0">2</span><span class="br0">&#93;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw1">if</span> <span class="br0">&#40;</span>num <span class="sy0">&lt;</span> <span class="nu0">1</span><span class="br0">&#41;</span> num <span class="sy0">=</span> <span class="nu0">1</span><span class="sy0">;</span>
        <span class="kw2">var</span> v <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span>
        <span class="kw2">var</span> id_pre <span class="sy0">=</span> n1 <span class="sy0">+</span> <span class="st0">'-'</span> <span class="sy0">+</span> n2 <span class="sy0">+</span> <span class="st0">'-'</span><span class="sy0">;</span>
        <span class="kw1">for</span> <span class="br0">&#40;</span><span class="kw2">var</span> i <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> i <span class="sy0">&lt;</span> num<span class="sy0">;</span> i<span class="sy0">++</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
            <span class="kw1">while</span> <span class="br0">&#40;</span>cy.$id<span class="br0">&#40;</span>id_pre <span class="sy0">+</span> v<span class="br0">&#41;</span>.<span class="me1">length</span> <span class="sy0">!==</span> <span class="nu0">0</span><span class="br0">&#41;</span>
                v <span class="sy0">+=</span> <span class="nu0">1</span><span class="sy0">;</span>
            cy.<span class="me1">add</span><span class="br0">&#40;</span><span class="br0">&#123;</span>
                group<span class="sy0">:</span> <span class="st0">'edges'</span><span class="sy0">,</span>
                data<span class="sy0">:</span> <span class="br0">&#123;</span>
                    id<span class="sy0">:</span> id_pre <span class="sy0">+</span> v<span class="sy0">,</span>
                    source<span class="sy0">:</span> n1<span class="sy0">,</span>
                    target<span class="sy0">:</span> n2<span class="sy0">,</span>
                    weight<span class="sy0">:</span> parseInt<span class="br0">&#40;</span>weight_input.<span class="me1">value</span><span class="br0">&#41;</span>
                <span class="br0">&#125;</span>
            <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="br0">&#125;</span>
        <span class="kw1">if</span> <span class="br0">&#40;</span>auto_refresh.<span class="me1">checked</span><span class="br0">&#41;</span>
            cyReLayout<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="co1">//        src_tg.value = &quot;&quot;;</span>
    <span class="br0">&#125;</span>
    <span class="coMULTI">/**
     * @function
     * @public
     * @param {object} c
     * @param {boolean} flag
     * @return void
     * */</span>
    <span class="kw2">function</span> snapToGrid<span class="br0">&#40;</span>c<span class="sy0">,</span> flag<span class="br0">&#41;</span> <span class="br0">&#123;</span>
        <span class="kw1">if</span> <span class="br0">&#40;</span>flag<span class="br0">&#41;</span> <span class="br0">&#123;</span>
            c.<span class="me1">snapToGrid</span><span class="br0">&#40;</span><span class="st0">'snapOn'</span><span class="br0">&#41;</span><span class="sy0">;</span>
            c.<span class="me1">snapToGrid</span><span class="br0">&#40;</span><span class="st0">'gridOn'</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="br0">&#125;</span>
        <span class="kw1">else</span> <span class="br0">&#123;</span>
            c.<span class="me1">snapToGrid</span><span class="br0">&#40;</span><span class="st0">'snapOff'</span><span class="br0">&#41;</span><span class="sy0">;</span>
            c.<span class="me1">snapToGrid</span><span class="br0">&#40;</span><span class="st0">'gridOff'</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="br0">&#125;</span>
    <span class="br0">&#125;</span>
    <span class="coMULTI">/**
     * @function
     * @public
     * @param {int} idx
     * @return void
     * */</span>
    <span class="kw2">function</span> changeLayout<span class="br0">&#40;</span>idx<span class="br0">&#41;</span> <span class="br0">&#123;</span>
        <span class="kw2">var</span> <span class="kw3">name</span> <span class="sy0">=</span> document.<span class="me1">getElementById</span><span class="br0">&#40;</span><span class="st0">'layout'</span><span class="br0">&#41;</span>.<span class="me1">options</span><span class="br0">&#91;</span>idx<span class="br0">&#93;</span>.<span class="me1">value</span><span class="sy0">;</span>
        <span class="kw1">if</span> <span class="br0">&#40;</span><span class="kw3">name</span> <span class="sy0">===</span> <span class="st0">'snapToGrid'</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
            snapToGrid<span class="br0">&#40;</span>cy<span class="sy0">,</span> <span class="kw2">true</span><span class="br0">&#41;</span><span class="sy0">;</span>
            snapToGrid<span class="br0">&#40;</span>ca<span class="sy0">,</span> <span class="kw2">true</span><span class="br0">&#41;</span><span class="sy0">;</span>
            layoutname <span class="sy0">=</span> <span class="st0">''</span><span class="sy0">;</span>
        <span class="br0">&#125;</span>
        <span class="kw1">else</span> <span class="br0">&#123;</span>
            snapToGrid<span class="br0">&#40;</span>cy<span class="sy0">,</span> <span class="kw2">false</span><span class="br0">&#41;</span><span class="sy0">;</span>
            snapToGrid<span class="br0">&#40;</span>ca<span class="sy0">,</span> <span class="kw2">false</span><span class="br0">&#41;</span><span class="sy0">;</span>
            layoutname <span class="sy0">=</span> <span class="kw3">name</span><span class="sy0">;</span>
        <span class="br0">&#125;</span>
        reLayout<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
    <span class="coMULTI">/**
     * @function
     * @public
     * @return void
     * */</span>
    <span class="kw2">function</span> reLayout<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
        cyReLayout<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        caReLayout<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
    <span class="coMULTI">/**
     * @function
     * @public
     * @return void
     * Rerun the layout for the graph and recalculate its total weight
     * */</span>
    <span class="kw2">function</span> cyReLayout<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
        <span class="kw2">var</span> totalWeight <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span>
        <span class="kw1">for</span> <span class="br0">&#40;</span><span class="kw2">var</span> i <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> i <span class="sy0">&lt;</span> cy.<span class="me1">edges</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">length</span><span class="sy0">;</span> i<span class="sy0">++</span><span class="br0">&#41;</span>
            totalWeight <span class="sy0">+=</span> getWeight<span class="br0">&#40;</span>cy.<span class="me1">edges</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#91;</span>i<span class="br0">&#93;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        document.<span class="me1">getElementById</span><span class="br0">&#40;</span><span class="st0">'cy_weight'</span><span class="br0">&#41;</span>.<span class="me1">innerHTML</span> <span class="sy0">=</span> totalWeight.<span class="me1">toString</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw1">if</span> <span class="br0">&#40;</span>CyLayout <span class="sy0">!==</span> undefined<span class="br0">&#41;</span>
            CyLayout.<span class="kw3">stop</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw1">if</span> <span class="br0">&#40;</span>layoutname <span class="sy0">===</span> <span class="st0">''</span><span class="br0">&#41;</span>
            <span class="kw1">return</span><span class="sy0">;</span>
        CyLayout <span class="sy0">=</span> cy.<span class="me1">layout</span><span class="br0">&#40;</span>layout_options<span class="br0">&#91;</span>layoutname<span class="br0">&#93;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        CyLayout.<span class="me1">run</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
    <span class="coMULTI">/**
     * @function
     * @public
     * @return void
     * Rerun the layout for the graph and recalculate its total weight
     * */</span>
    <span class="kw2">function</span> caReLayout<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
        <span class="kw2">var</span> totalWeight <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span>
        <span class="kw1">for</span> <span class="br0">&#40;</span><span class="kw2">var</span> i <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> i <span class="sy0">&lt;</span> ca.<span class="me1">edges</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">length</span><span class="sy0">;</span> i<span class="sy0">++</span><span class="br0">&#41;</span>
            totalWeight <span class="sy0">+=</span> getWeight<span class="br0">&#40;</span>ca.<span class="me1">edges</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#91;</span>i<span class="br0">&#93;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        document.<span class="me1">getElementById</span><span class="br0">&#40;</span><span class="st0">'ca_weight'</span><span class="br0">&#41;</span>.<span class="me1">innerHTML</span> <span class="sy0">=</span> totalWeight.<span class="me1">toString</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw1">if</span> <span class="br0">&#40;</span>CaLayout <span class="sy0">!==</span> undefined<span class="br0">&#41;</span>
            CaLayout.<span class="kw3">stop</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw1">if</span> <span class="br0">&#40;</span>layoutname <span class="sy0">===</span> <span class="st0">''</span><span class="br0">&#41;</span>
            <span class="kw1">return</span><span class="sy0">;</span>
        CaLayout <span class="sy0">=</span> ca.<span class="me1">layout</span><span class="br0">&#40;</span>layout_options<span class="br0">&#91;</span>layoutname<span class="br0">&#93;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        CaLayout.<span class="me1">run</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
    <span class="coMULTI">/**
     * @function
     * @public
     * @return void
     * */</span>
    <span class="kw2">function</span> removeNode<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
        stopAnimation<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw2">var</span> n_id <span class="sy0">=</span> document.<span class="me1">getElementById</span><span class="br0">&#40;</span><span class="st0">'nodeid'</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw2">var</span> v <span class="sy0">=</span> n_id.<span class="me1">value</span><span class="sy0">;</span>
        <span class="kw2">var</span> ids <span class="sy0">=</span> v.<span class="me1">split</span><span class="br0">&#40;</span><span class="st0">','</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw1">if</span> <span class="br0">&#40;</span>ids.<span class="me1">length</span> <span class="sy0">===</span> <span class="nu0">1</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
            <span class="kw2">var</span> range <span class="sy0">=</span> v.<span class="me1">split</span><span class="br0">&#40;</span><span class="st0">'-'</span><span class="br0">&#41;</span><span class="sy0">;</span>
            <span class="kw1">if</span> <span class="br0">&#40;</span>range.<span class="me1">length</span> <span class="sy0">===</span> <span class="nu0">1</span><span class="br0">&#41;</span>
                cy.<span class="me1">remove</span><span class="br0">&#40;</span>cy.<span class="me1">nodes</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.$id<span class="br0">&#40;</span>v<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            <span class="kw1">else</span> <span class="br0">&#123;</span>
                <span class="kw2">var</span> lower <span class="sy0">=</span> parseInt<span class="br0">&#40;</span>range<span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                <span class="kw2">var</span> upper <span class="sy0">=</span> parseInt<span class="br0">&#40;</span>range<span class="br0">&#91;</span><span class="nu0">1</span><span class="br0">&#93;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                <span class="kw1">for</span> <span class="br0">&#40;</span>v <span class="sy0">=</span> lower<span class="sy0">;</span> v <span class="sy0">&lt;=</span> upper<span class="sy0">;</span> v<span class="sy0">++</span><span class="br0">&#41;</span>
                    cy.<span class="me1">remove</span><span class="br0">&#40;</span>cy.<span class="me1">nodes</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.$id<span class="br0">&#40;</span>v<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            <span class="br0">&#125;</span>
        <span class="br0">&#125;</span>
        <span class="kw1">else</span> <span class="br0">&#123;</span>
            <span class="kw1">for</span> <span class="br0">&#40;</span>v <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> v <span class="sy0">&lt;</span> ids.<span class="me1">length</span><span class="sy0">;</span> v<span class="sy0">++</span><span class="br0">&#41;</span>
                cy.<span class="me1">remove</span><span class="br0">&#40;</span>cy.<span class="me1">nodes</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.$id<span class="br0">&#40;</span>parseInt<span class="br0">&#40;</span>ids<span class="br0">&#91;</span>v<span class="br0">&#93;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="br0">&#125;</span>
        n_id.<span class="me1">value</span> <span class="sy0">=</span> <span class="st0">&quot;&quot;</span><span class="sy0">;</span>
        <span class="kw1">if</span> <span class="br0">&#40;</span>auto_refresh.<span class="me1">checked</span><span class="br0">&#41;</span>
            cyReLayout<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
    <span class="coMULTI">/**
     * @function
     * @public
     * @return void
     * */</span>
    <span class="kw2">function</span> removeEdge<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
        stopAnimation<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw2">var</span> rid <span class="sy0">=</span> document.<span class="me1">getElementById</span><span class="br0">&#40;</span><span class="st0">'r_src_tg'</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw2">var</span> v <span class="sy0">=</span> rid.<span class="me1">value</span><span class="sy0">;</span>
        <span class="kw2">var</span> n <span class="sy0">=</span> v.<span class="me1">split</span><span class="br0">&#40;</span><span class="st0">'-'</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw1">if</span> <span class="br0">&#40;</span>n<span class="br0">&#91;</span><span class="nu0">1</span><span class="br0">&#93;</span> <span class="sy0">===</span> undefined<span class="br0">&#41;</span> <span class="kw1">return</span><span class="sy0">;</span>
        <span class="kw2">var</span> l <span class="sy0">=</span> n<span class="br0">&#91;</span><span class="nu0">2</span><span class="br0">&#93;</span> <span class="sy0">===</span> undefined <span class="sy0">?</span> <span class="nu0">1</span> <span class="sy0">:</span> parseInt<span class="br0">&#40;</span>n<span class="br0">&#91;</span><span class="nu0">2</span><span class="br0">&#93;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw2">var</span> eles <span class="sy0">=</span> cy.<span class="me1">edges</span><span class="br0">&#40;</span><span class="st0">&quot;[id ^='&quot;</span> <span class="sy0">+</span> n<span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span> <span class="sy0">+</span> <span class="st0">'-'</span> <span class="sy0">+</span> n<span class="br0">&#91;</span><span class="nu0">1</span><span class="br0">&#93;</span> <span class="sy0">+</span> <span class="st0">&quot;-']&quot;</span><span class="br0">&#41;</span>.<span class="me1">union</span><span class="br0">&#40;</span>cy.<span class="me1">edges</span><span class="br0">&#40;</span><span class="st0">&quot;[id ^='&quot;</span> <span class="sy0">+</span> n<span class="br0">&#91;</span><span class="nu0">1</span><span class="br0">&#93;</span> <span class="sy0">+</span> <span class="st0">'-'</span> <span class="sy0">+</span> n<span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span> <span class="sy0">+</span> <span class="st0">&quot;-']&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw2">var</span> numToRemove <span class="sy0">=</span> l <span class="sy0">&gt;</span> eles.<span class="me1">length</span> <span class="sy0">?</span> eles.<span class="me1">length</span> <span class="sy0">:</span> l<span class="sy0">;</span>
        <span class="kw1">for</span> <span class="br0">&#40;</span><span class="kw2">var</span> i <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> i <span class="sy0">&lt;</span> numToRemove<span class="sy0">;</span> i<span class="sy0">++</span><span class="br0">&#41;</span>
            cy.<span class="me1">remove</span><span class="br0">&#40;</span>eles<span class="br0">&#91;</span>i<span class="br0">&#93;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw1">if</span> <span class="br0">&#40;</span>auto_refresh.<span class="me1">checked</span><span class="br0">&#41;</span>
            cyReLayout<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="co1">//        rid.value = &quot;&quot;;</span>
    <span class="br0">&#125;</span>
    <span class="coMULTI">/**
     * @public
     * @function
     * @param {object} edge
     * @param {object} c
     * @return object
     * */</span>
    <span class="kw2">function</span> duplicateEdge<span class="br0">&#40;</span>edge<span class="sy0">,</span> c<span class="br0">&#41;</span> <span class="br0">&#123;</span>
        <span class="kw2">var</span> temp <span class="sy0">=</span> edge.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'id'</span><span class="br0">&#41;</span>.<span class="me1">split</span><span class="br0">&#40;</span><span class="st0">'-'</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw2">var</span> last <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span>
&nbsp;
        <span class="co1">// make sure that the id of an edge is not duplicated</span>
        <span class="kw1">while</span> <span class="br0">&#40;</span>c.$id<span class="br0">&#40;</span>temp<span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span> <span class="sy0">+</span> <span class="st0">'-'</span> <span class="sy0">+</span> temp<span class="br0">&#91;</span><span class="nu0">1</span><span class="br0">&#93;</span> <span class="sy0">+</span> <span class="st0">'-'</span> <span class="sy0">+</span> last<span class="br0">&#41;</span>.<span class="me1">length</span> <span class="sy0">!==</span> <span class="nu0">0</span><span class="br0">&#41;</span>
            last <span class="sy0">+=</span> <span class="nu0">1</span><span class="sy0">;</span>
&nbsp;
        <span class="kw1">return</span> c.<span class="me1">add</span><span class="br0">&#40;</span><span class="br0">&#123;</span>
            group<span class="sy0">:</span> <span class="st0">'edges'</span><span class="sy0">,</span>
            data<span class="sy0">:</span> <span class="br0">&#123;</span>
                id<span class="sy0">:</span> temp<span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span> <span class="sy0">+</span> <span class="st0">'-'</span> <span class="sy0">+</span> temp<span class="br0">&#91;</span><span class="nu0">1</span><span class="br0">&#93;</span> <span class="sy0">+</span> <span class="st0">'-'</span> <span class="sy0">+</span> last<span class="sy0">,</span>
                source<span class="sy0">:</span> temp<span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span><span class="sy0">,</span>
                target<span class="sy0">:</span> temp<span class="br0">&#91;</span><span class="nu0">1</span><span class="br0">&#93;</span><span class="sy0">,</span>
                weight<span class="sy0">:</span> edge.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'weight'</span><span class="br0">&#41;</span>
            <span class="br0">&#125;</span>
        <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
    <span class="coMULTI">/**
     * @function
     * @public
     * @return void
     * */</span>
    <span class="kw2">function</span> removeSelected<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
        stopAnimation<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        cy.<span class="me1">remove</span><span class="br0">&#40;</span>cy.$<span class="br0">&#40;</span><span class="st0">':selected'</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw1">if</span> <span class="br0">&#40;</span>auto_refresh.<span class="me1">checked</span><span class="br0">&#41;</span>
            cyReLayout<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
    <span class="coMULTI">/**
     * @function
     * @public
     * @return void
     * */</span>
    <span class="kw2">function</span> addEdgeBetweenSelected<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
        stopAnimation<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw2">var</span> nodes <span class="sy0">=</span> cy.<span class="me1">nodes</span><span class="br0">&#40;</span><span class="st0">':selected'</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw2">var</span> weight <span class="sy0">=</span> parseInt<span class="br0">&#40;</span>weight_input.<span class="me1">value</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw2">var</span> x <span class="sy0">=</span> nodes.<span class="me1">length</span><span class="sy0">;</span>
        <span class="kw1">if</span> <span class="br0">&#40;</span>x <span class="sy0">&gt;</span> <span class="nu0">1</span><span class="br0">&#41;</span>
            <span class="kw1">for</span> <span class="br0">&#40;</span><span class="kw2">var</span> i <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> i <span class="sy0">&lt;</span> nodes.<span class="me1">length</span><span class="sy0">;</span> i<span class="sy0">++</span><span class="br0">&#41;</span>
                <span class="kw1">for</span> <span class="br0">&#40;</span><span class="kw2">var</span> j <span class="sy0">=</span> i <span class="sy0">+</span> <span class="nu0">1</span><span class="sy0">;</span> j <span class="sy0">&lt;</span> nodes.<span class="me1">length</span><span class="sy0">;</span> j<span class="sy0">++</span><span class="br0">&#41;</span>
                    addEdgeBwt<span class="br0">&#40;</span>nodes<span class="br0">&#91;</span>i<span class="br0">&#93;</span>.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'id'</span><span class="br0">&#41;</span><span class="sy0">,</span> nodes<span class="br0">&#91;</span>j<span class="br0">&#93;</span>.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'id'</span><span class="br0">&#41;</span><span class="sy0">,</span> weight<span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw1">else</span> <span class="kw1">if</span> <span class="br0">&#40;</span>x <span class="sy0">===</span> <span class="nu0">1</span><span class="br0">&#41;</span>
            addEdgeBwt<span class="br0">&#40;</span>nodes<span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span>.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'id'</span><span class="br0">&#41;</span><span class="sy0">,</span> nodes<span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span>.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'id'</span><span class="br0">&#41;</span><span class="sy0">,</span> weight<span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw1">if</span> <span class="br0">&#40;</span>auto_refresh.<span class="me1">checked</span><span class="br0">&#41;</span>
            cyReLayout<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
    <span class="coMULTI">/**
     * @function
     * @public
     * @param {string} src
     * @param {string} tg
     * @param {int} w
     * @return object the edge added
     * */</span>
    <span class="kw2">function</span> addEdgeBwt<span class="br0">&#40;</span>src<span class="sy0">,</span> tg<span class="sy0">,</span> w<span class="br0">&#41;</span> <span class="br0">&#123;</span>
        <span class="kw2">var</span> id_pre <span class="sy0">=</span> src <span class="sy0">+</span> <span class="st0">'-'</span> <span class="sy0">+</span> tg <span class="sy0">+</span> <span class="st0">'-'</span><span class="sy0">;</span>
        <span class="kw2">var</span> x <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span>
        <span class="kw1">while</span> <span class="br0">&#40;</span>cy.$id<span class="br0">&#40;</span>id_pre <span class="sy0">+</span> x<span class="br0">&#41;</span>.<span class="me1">length</span> <span class="sy0">!==</span> <span class="nu0">0</span><span class="br0">&#41;</span>
            x <span class="sy0">+=</span> <span class="nu0">1</span><span class="sy0">;</span>
        <span class="kw1">return</span> cy.<span class="me1">add</span><span class="br0">&#40;</span><span class="br0">&#123;</span>group<span class="sy0">:</span> <span class="st0">'edges'</span><span class="sy0">,</span> data<span class="sy0">:</span> <span class="br0">&#123;</span>id<span class="sy0">:</span> id_pre <span class="sy0">+</span> x<span class="sy0">,</span> source<span class="sy0">:</span> src<span class="sy0">,</span> target<span class="sy0">:</span> tg<span class="sy0">,</span> weight<span class="sy0">:</span> w<span class="br0">&#125;</span><span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
    <span class="coMULTI">/**
     * @function
     * @public
     * @param {object} edge
     * @return int weight
     * */</span>
    <span class="kw2">function</span> getWeight<span class="br0">&#40;</span>edge<span class="br0">&#41;</span> <span class="br0">&#123;</span>
        <span class="kw2">var</span> weight <span class="sy0">=</span> edge.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'weight'</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw1">return</span> isNaN<span class="br0">&#40;</span>weight<span class="br0">&#41;</span> <span class="sy0">?</span> <span class="nu0">1</span> <span class="sy0">:</span> weight<span class="sy0">;</span>
    <span class="br0">&#125;</span>
    <span class="coMULTI">/**
     * @function
     * @public
     * @param {object} node
     * @param {object} edge
     * @return {object} the target node
     * given a node and the edge connected to it
     * get the other node
     * */</span>
    <span class="kw2">function</span> getTarget<span class="br0">&#40;</span>node<span class="sy0">,</span> edge<span class="br0">&#41;</span> <span class="br0">&#123;</span>
        <span class="kw2">var</span> targetNode<span class="sy0">;</span>
        <span class="kw1">if</span> <span class="br0">&#40;</span>edge.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'source'</span><span class="br0">&#41;</span> <span class="sy0">===</span> node.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'id'</span><span class="br0">&#41;</span><span class="br0">&#41;</span>
            targetNode <span class="sy0">=</span> cy.$id<span class="br0">&#40;</span>edge.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'target'</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw1">else</span>
            targetNode <span class="sy0">=</span> cy.$id<span class="br0">&#40;</span>edge.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'source'</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw1">return</span> targetNode<span class="sy0">;</span>
    <span class="br0">&#125;</span>
    <span class="coMULTI">/**
     * @function
     * @public
     * @param {object} node
     * @param {object} edge
     * @return {object} the target node
     * */</span>
    <span class="kw2">function</span> getCaTarget<span class="br0">&#40;</span>node<span class="sy0">,</span> edge<span class="br0">&#41;</span> <span class="br0">&#123;</span>
        <span class="kw2">var</span> targetNode<span class="sy0">;</span>
        <span class="kw1">if</span> <span class="br0">&#40;</span>edge.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'source'</span><span class="br0">&#41;</span> <span class="sy0">===</span> node.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'id'</span><span class="br0">&#41;</span><span class="br0">&#41;</span>
            targetNode <span class="sy0">=</span> ca.$id<span class="br0">&#40;</span>edge.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'target'</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw1">else</span>
            targetNode <span class="sy0">=</span> ca.$id<span class="br0">&#40;</span>edge.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'source'</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw1">return</span> targetNode<span class="sy0">;</span>
    <span class="br0">&#125;</span>
    <span class="coMULTI">/**
     * @function
     * @public
     * @return void
     * */</span>
    <span class="kw2">function</span> clearSource<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
        stopAnimation<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        cy.<span class="me1">remove</span><span class="br0">&#40;</span>cy.<span class="me1">elements</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        document.<span class="me1">getElementById</span><span class="br0">&#40;</span><span class="st0">'cy_weight'</span><span class="br0">&#41;</span>.<span class="me1">innerHTML</span> <span class="sy0">=</span> <span class="st0">''</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
    <span class="coMULTI">/**
     * @function
     * @public
     * @return void
     * */</span>
    <span class="kw2">function</span> clearResult<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
        stopAnimation<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        ca.<span class="me1">remove</span><span class="br0">&#40;</span>ca.<span class="me1">elements</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        document.<span class="me1">getElementById</span><span class="br0">&#40;</span><span class="st0">'ca_weight'</span><span class="br0">&#41;</span>.<span class="me1">innerHTML</span> <span class="sy0">=</span> <span class="st0">''</span><span class="sy0">;</span>
        document.<span class="me1">getElementById</span><span class="br0">&#40;</span><span class="st0">'path'</span><span class="br0">&#41;</span>.<span class="me1">innerHTML</span> <span class="sy0">=</span> <span class="st0">''</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
    <span class="coMULTI">/**
     * @function
     * @public
     * @return void
     * */</span>
    <span class="kw2">function</span> stopAnimation<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
        cy.<span class="me1">elements</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="kw3">stop</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        ca.<span class="me1">elements</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="kw3">stop</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        animationFlag <span class="sy0">=</span> <span class="kw2">false</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
    <span class="coMULTI">/**
     * @function
     * @public
     * @return void
     * */</span>
    <span class="kw2">function</span> readAM<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
        clearCyStyle<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        createFromAM<span class="br0">&#40;</span><span class="kw1">eval</span><span class="br0">&#40;</span>matrix_input.<span class="me1">value</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
    <span class="coMULTI">/**
     * @function
     * @public
     * @return void
     * */</span>
    <span class="kw2">function</span> readWM<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
        clearCyStyle<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        createFromWM<span class="br0">&#40;</span><span class="kw1">eval</span><span class="br0">&#40;</span>matrix_input.<span class="me1">value</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
    <span class="coMULTI">/**
     * create graph from an adjacency matrix
     * @function
     * @public
     * @param {Object|Array} m
     * @return void
     * */</span>
    <span class="kw2">function</span> createFromAM<span class="br0">&#40;</span>m<span class="br0">&#41;</span> <span class="br0">&#123;</span>
        stopAnimation<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
        <span class="co1">// this must be a square matrix...</span>
        <span class="kw1">if</span> <span class="br0">&#40;</span>m.<span class="me1">length</span> <span class="sy0">!==</span> m<span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span>.<span class="me1">length</span><span class="br0">&#41;</span>
            <span class="kw1">return</span><span class="sy0">;</span>
&nbsp;
        clearSource<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw2">var</span> numOfNodes <span class="sy0">=</span> m.<span class="me1">length</span><span class="sy0">;</span>
        <span class="kw2">var</span> i<span class="sy0">;</span>
        cy.<span class="me1">startBatch</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="co1">// add all nodes</span>
        <span class="kw1">if</span> <span class="br0">&#40;</span>layoutname <span class="sy0">===</span> <span class="st0">''</span><span class="br0">&#41;</span>
            <span class="kw1">for</span> <span class="br0">&#40;</span>i <span class="sy0">=</span> <span class="nu0">1</span><span class="sy0">;</span> i <span class="sy0">&lt;=</span> numOfNodes<span class="sy0">;</span> i<span class="sy0">++</span><span class="br0">&#41;</span>
                cy.<span class="me1">add</span><span class="br0">&#40;</span><span class="br0">&#123;</span>
                    group<span class="sy0">:</span> <span class="st0">'nodes'</span><span class="sy0">,</span>
                    data<span class="sy0">:</span> <span class="br0">&#123;</span>id<span class="sy0">:</span> i<span class="br0">&#125;</span><span class="sy0">,</span>
                    position<span class="sy0">:</span> <span class="br0">&#123;</span>
                        x<span class="sy0">:</span> <span class="br0">&#40;</span>Math.<span class="me1">random</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy0">*</span> <span class="nu0">250</span> <span class="sy0">+</span> <span class="nu0">25</span><span class="br0">&#41;</span><span class="sy0">,</span>
                        y<span class="sy0">:</span> <span class="br0">&#40;</span>Math.<span class="me1">random</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy0">*</span> <span class="nu0">250</span> <span class="sy0">+</span> <span class="nu0">25</span><span class="br0">&#41;</span>
                    <span class="br0">&#125;</span>
                <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw1">else</span>
            <span class="kw1">for</span> <span class="br0">&#40;</span>i <span class="sy0">=</span> <span class="nu0">1</span><span class="sy0">;</span> i <span class="sy0">&lt;=</span> numOfNodes<span class="sy0">;</span> i<span class="sy0">++</span><span class="br0">&#41;</span>
                cy.<span class="me1">add</span><span class="br0">&#40;</span><span class="br0">&#123;</span>
                    group<span class="sy0">:</span> <span class="st0">'nodes'</span><span class="sy0">,</span>
                    data<span class="sy0">:</span> <span class="br0">&#123;</span>id<span class="sy0">:</span> i<span class="br0">&#125;</span>
                <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
        <span class="kw1">for</span> <span class="br0">&#40;</span>i <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> i <span class="sy0">&lt;</span> numOfNodes<span class="sy0">;</span> i<span class="sy0">++</span><span class="br0">&#41;</span>
            <span class="kw1">for</span> <span class="br0">&#40;</span><span class="kw2">var</span> j <span class="sy0">=</span> i<span class="sy0">;</span> j <span class="sy0">&lt;</span> numOfNodes<span class="sy0">;</span> j<span class="sy0">++</span><span class="br0">&#41;</span>
&nbsp;
                <span class="co1">// add the correct number of edges connecting this two nodes</span>
                <span class="kw1">for</span> <span class="br0">&#40;</span><span class="kw2">var</span> x <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> x <span class="sy0">&lt;</span> m<span class="br0">&#91;</span>i<span class="br0">&#93;</span><span class="br0">&#91;</span>j<span class="br0">&#93;</span><span class="sy0">;</span> x<span class="sy0">++</span><span class="br0">&#41;</span>
                    cy.<span class="me1">add</span><span class="br0">&#40;</span><span class="br0">&#123;</span>
                        group<span class="sy0">:</span> <span class="st0">'edges'</span><span class="sy0">,</span>
                        data<span class="sy0">:</span> <span class="br0">&#123;</span>id<span class="sy0">:</span> <span class="br0">&#40;</span>i <span class="sy0">+</span> <span class="nu0">1</span><span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">'-'</span> <span class="sy0">+</span> <span class="br0">&#40;</span>j <span class="sy0">+</span> <span class="nu0">1</span><span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">'-'</span> <span class="sy0">+</span> x<span class="sy0">,</span> source<span class="sy0">:</span> i <span class="sy0">+</span> <span class="nu0">1</span><span class="sy0">,</span> target<span class="sy0">:</span> j <span class="sy0">+</span> <span class="nu0">1</span><span class="br0">&#125;</span>
                    <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        cy.<span class="me1">endBatch</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        cyReLayout<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
    <span class="coMULTI">/**
     * create the graph from a weight matrix
     * @function
     * @public
     * @param {Object|Array} m
     * @return void
     * */</span>
    <span class="kw2">function</span> createFromWM<span class="br0">&#40;</span>m<span class="br0">&#41;</span> <span class="br0">&#123;</span>
        stopAnimation<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw1">if</span> <span class="br0">&#40;</span>m.<span class="me1">length</span> <span class="sy0">!==</span> m<span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span>.<span class="me1">length</span><span class="br0">&#41;</span> <span class="kw1">return</span><span class="sy0">;</span>
        clearSource<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw2">var</span> numOfNodes <span class="sy0">=</span> m.<span class="me1">length</span><span class="sy0">;</span>
        <span class="kw2">var</span> i<span class="sy0">;</span>
        cy.<span class="me1">startBatch</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw1">if</span> <span class="br0">&#40;</span>layoutname <span class="sy0">===</span> <span class="st0">''</span><span class="br0">&#41;</span>
            <span class="kw1">for</span> <span class="br0">&#40;</span>i <span class="sy0">=</span> <span class="nu0">1</span><span class="sy0">;</span> i <span class="sy0">&lt;=</span> numOfNodes<span class="sy0">;</span> i<span class="sy0">++</span><span class="br0">&#41;</span>
                cy.<span class="me1">add</span><span class="br0">&#40;</span><span class="br0">&#123;</span>
                    group<span class="sy0">:</span> <span class="st0">'nodes'</span><span class="sy0">,</span>
                    data<span class="sy0">:</span> <span class="br0">&#123;</span>id<span class="sy0">:</span> i<span class="br0">&#125;</span><span class="sy0">,</span>
                    position<span class="sy0">:</span> <span class="br0">&#123;</span>
                        x<span class="sy0">:</span> <span class="br0">&#40;</span>Math.<span class="me1">random</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy0">*</span> <span class="nu0">250</span> <span class="sy0">+</span> <span class="nu0">25</span><span class="br0">&#41;</span><span class="sy0">,</span>
                        y<span class="sy0">:</span> <span class="br0">&#40;</span>Math.<span class="me1">random</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy0">*</span> <span class="nu0">250</span> <span class="sy0">+</span> <span class="nu0">25</span><span class="br0">&#41;</span>
                    <span class="br0">&#125;</span>
                <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw1">else</span>
            <span class="kw1">for</span> <span class="br0">&#40;</span>i <span class="sy0">=</span> <span class="nu0">1</span><span class="sy0">;</span> i <span class="sy0">&lt;=</span> numOfNodes<span class="sy0">;</span> i<span class="sy0">++</span><span class="br0">&#41;</span>
                cy.<span class="me1">add</span><span class="br0">&#40;</span><span class="br0">&#123;</span>
                    group<span class="sy0">:</span> <span class="st0">'nodes'</span><span class="sy0">,</span>
                    data<span class="sy0">:</span> <span class="br0">&#123;</span>id<span class="sy0">:</span> i<span class="br0">&#125;</span>
                <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw1">for</span> <span class="br0">&#40;</span>i <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> i <span class="sy0">&lt;</span> numOfNodes<span class="sy0">;</span> i<span class="sy0">++</span><span class="br0">&#41;</span>
            <span class="kw1">for</span> <span class="br0">&#40;</span><span class="kw2">var</span> j <span class="sy0">=</span> i<span class="sy0">;</span> j <span class="sy0">&lt;</span> numOfNodes<span class="sy0">;</span> j<span class="sy0">++</span><span class="br0">&#41;</span>
                <span class="kw1">if</span> <span class="br0">&#40;</span>m<span class="br0">&#91;</span>i<span class="br0">&#93;</span><span class="br0">&#91;</span>j<span class="br0">&#93;</span> <span class="sy0">&gt;</span> <span class="nu0">0</span><span class="br0">&#41;</span>
                    cy.<span class="me1">add</span><span class="br0">&#40;</span><span class="br0">&#123;</span>
                        group<span class="sy0">:</span> <span class="st0">'edges'</span><span class="sy0">,</span>
                        data<span class="sy0">:</span> <span class="br0">&#123;</span>id<span class="sy0">:</span> <span class="br0">&#40;</span>i <span class="sy0">+</span> <span class="nu0">1</span><span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">'-'</span> <span class="sy0">+</span> <span class="br0">&#40;</span>j <span class="sy0">+</span> <span class="nu0">1</span><span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">'-0'</span><span class="sy0">,</span> source<span class="sy0">:</span> i <span class="sy0">+</span> <span class="nu0">1</span><span class="sy0">,</span> target<span class="sy0">:</span> j <span class="sy0">+</span> <span class="nu0">1</span><span class="sy0">,</span> weight<span class="sy0">:</span> m<span class="br0">&#91;</span>i<span class="br0">&#93;</span><span class="br0">&#91;</span>j<span class="br0">&#93;</span><span class="br0">&#125;</span>
                    <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        cy.<span class="me1">endBatch</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        cyReLayout<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
    <span class="coMULTI">/**
     * generate a random graph
     * @function
     * @public
     * @return void
     * */</span>
    <span class="kw2">function</span> generateGraph<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
        stopAnimation<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        clearCyStyle<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw2">var</span> simple <span class="sy0">=</span> document.<span class="me1">getElementById</span><span class="br0">&#40;</span><span class="st0">'simple'</span><span class="br0">&#41;</span>.<span class="me1">checked</span><span class="sy0">;</span>
        <span class="kw2">var</span> weighted <span class="sy0">=</span> document.<span class="me1">getElementById</span><span class="br0">&#40;</span><span class="st0">'weighted'</span><span class="br0">&#41;</span>.<span class="me1">checked</span><span class="sy0">;</span>
        <span class="kw2">var</span> numOfNodes <span class="sy0">=</span> parseInt<span class="br0">&#40;</span><span class="kw3">prompt</span><span class="br0">&#40;</span><span class="st0">&quot;Please enter the number of nodes&quot;</span><span class="sy0">,</span> <span class="st0">&quot;6&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw2">var</span> matrix <span class="sy0">=</span> <span class="kw2">new</span> Array<span class="br0">&#40;</span>numOfNodes<span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw2">var</span> i<span class="sy0">,</span> j<span class="sy0">;</span>
        <span class="kw1">for</span> <span class="br0">&#40;</span>i <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> i <span class="sy0">&lt;</span> matrix.<span class="me1">length</span><span class="sy0">;</span> i<span class="sy0">++</span><span class="br0">&#41;</span>
            matrix<span class="br0">&#91;</span>i<span class="br0">&#93;</span> <span class="sy0">=</span> <span class="kw2">new</span> Array<span class="br0">&#40;</span>numOfNodes<span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw1">if</span> <span class="br0">&#40;</span>simple<span class="br0">&#41;</span> <span class="br0">&#123;</span>
            <span class="kw2">var</span> pConnected <span class="sy0">=</span> parseFloat<span class="br0">&#40;</span><span class="kw3">prompt</span><span class="br0">&#40;</span><span class="st0">&quot;Please specify the propability that two nodes are connected.<span class="es0">\n</span>Range: 0 to 1&quot;</span><span class="sy0">,</span> <span class="st0">&quot;0.5&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            <span class="kw1">if</span> <span class="br0">&#40;</span>weighted<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                <span class="kw2">var</span> weightRange <span class="sy0">=</span> <span class="kw3">prompt</span><span class="br0">&#40;</span><span class="st0">&quot;Please specify the weight range.<span class="es0">\n</span>Example: 1-5 represents range from 1 to 5.<span class="es0">\n</span> Lower limit must be greater than 0.&quot;</span><span class="sy0">,</span> <span class="st0">&quot;1-4&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                <span class="kw2">var</span> temp <span class="sy0">=</span> weightRange.<span class="me1">split</span><span class="br0">&#40;</span><span class="st0">'-'</span><span class="br0">&#41;</span><span class="sy0">;</span>
                <span class="kw2">var</span> lower <span class="sy0">=</span> parseInt<span class="br0">&#40;</span>temp<span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span><span class="br0">&#41;</span> <span class="sy0">&gt;</span> <span class="nu0">0</span> <span class="sy0">?</span> parseInt<span class="br0">&#40;</span>temp<span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span><span class="br0">&#41;</span> <span class="sy0">:</span> <span class="nu0">1</span><span class="sy0">;</span>
                <span class="kw2">var</span> range <span class="sy0">=</span> parseInt<span class="br0">&#40;</span>temp<span class="br0">&#91;</span><span class="nu0">1</span><span class="br0">&#93;</span><span class="br0">&#41;</span> <span class="sy0">&gt;=</span> lower <span class="sy0">?</span> parseInt<span class="br0">&#40;</span>temp<span class="br0">&#91;</span><span class="nu0">1</span><span class="br0">&#93;</span><span class="br0">&#41;</span> <span class="sy0">-</span> lower <span class="sy0">+</span> <span class="nu0">1</span> <span class="sy0">:</span> lower <span class="sy0">+</span> <span class="nu0">4</span><span class="sy0">;</span>
                <span class="kw1">for</span> <span class="br0">&#40;</span>i <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> i <span class="sy0">&lt;</span> numOfNodes<span class="sy0">;</span> i<span class="sy0">++</span><span class="br0">&#41;</span>
                    <span class="kw1">for</span> <span class="br0">&#40;</span>j <span class="sy0">=</span> i <span class="sy0">+</span> <span class="nu0">1</span><span class="sy0">;</span> j <span class="sy0">&lt;</span> numOfNodes<span class="sy0">;</span> j<span class="sy0">++</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
                        <span class="kw1">if</span> <span class="br0">&#40;</span>Math.<span class="me1">random</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy0">&lt;</span> pConnected<span class="br0">&#41;</span>
                            matrix<span class="br0">&#91;</span>i<span class="br0">&#93;</span><span class="br0">&#91;</span>j<span class="br0">&#93;</span> <span class="sy0">=</span> Math.<span class="me1">floor</span><span class="br0">&#40;</span>Math.<span class="me1">random</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy0">*</span> range <span class="sy0">+</span> lower<span class="br0">&#41;</span><span class="sy0">;</span>
                        <span class="kw1">else</span>
                            matrix<span class="br0">&#91;</span>i<span class="br0">&#93;</span><span class="br0">&#91;</span>j<span class="br0">&#93;</span> <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span>
                    <span class="br0">&#125;</span>
                createFromWM<span class="br0">&#40;</span>matrix<span class="br0">&#41;</span><span class="sy0">;</span>
            <span class="br0">&#125;</span>
            <span class="kw1">else</span> <span class="br0">&#123;</span>
                <span class="kw1">for</span> <span class="br0">&#40;</span>i <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> i <span class="sy0">&lt;</span> numOfNodes<span class="sy0">;</span> i<span class="sy0">++</span><span class="br0">&#41;</span>
                    <span class="kw1">for</span> <span class="br0">&#40;</span>j <span class="sy0">=</span> i <span class="sy0">+</span> <span class="nu0">1</span><span class="sy0">;</span> j <span class="sy0">&lt;</span> numOfNodes<span class="sy0">;</span> j<span class="sy0">++</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
                        <span class="kw1">if</span> <span class="br0">&#40;</span>Math.<span class="me1">random</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy0">&lt;</span> pConnected<span class="br0">&#41;</span>
                            matrix<span class="br0">&#91;</span>i<span class="br0">&#93;</span><span class="br0">&#91;</span>j<span class="br0">&#93;</span> <span class="sy0">=</span> <span class="nu0">1</span><span class="sy0">;</span>
                        <span class="kw1">else</span>
                            matrix<span class="br0">&#91;</span>i<span class="br0">&#93;</span><span class="br0">&#91;</span>j<span class="br0">&#93;</span> <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span>
                    <span class="br0">&#125;</span>
                createFromAM<span class="br0">&#40;</span>matrix<span class="br0">&#41;</span><span class="sy0">;</span>
            <span class="br0">&#125;</span>
        <span class="br0">&#125;</span>
        <span class="kw1">else</span> <span class="br0">&#123;</span>
            <span class="kw2">var</span> nMultiple <span class="sy0">=</span> parseInt<span class="br0">&#40;</span><span class="kw3">prompt</span><span class="br0">&#40;</span><span class="st0">&quot;Please specify the max number of edges connecting two nodes.<span class="es0">\n</span>Range: 2 to infinity&quot;</span><span class="sy0">,</span> <span class="st0">&quot;2&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            <span class="kw2">var</span> pMultiple <span class="sy0">=</span> parseFloat<span class="br0">&#40;</span><span class="kw3">prompt</span><span class="br0">&#40;</span><span class="st0">&quot;Please specify the the probability of having multiple edges&quot;</span><span class="sy0">,</span> <span class="st0">&quot;0.25&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            <span class="kw1">for</span> <span class="br0">&#40;</span>i <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> i <span class="sy0">&lt;</span> numOfNodes<span class="sy0">;</span> i<span class="sy0">++</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
                <span class="kw1">for</span> <span class="br0">&#40;</span>j <span class="sy0">=</span> i<span class="sy0">;</span> j <span class="sy0">&lt;</span> numOfNodes<span class="sy0">;</span> j<span class="sy0">++</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
                    <span class="kw1">if</span> <span class="br0">&#40;</span>i <span class="sy0">===</span> j<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                        <span class="kw1">if</span> <span class="br0">&#40;</span>Math.<span class="me1">random</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy0">&lt;</span> pMultiple <span class="sy0">/</span> <span class="nu0">2</span><span class="br0">&#41;</span>
                            matrix<span class="br0">&#91;</span>i<span class="br0">&#93;</span><span class="br0">&#91;</span>j<span class="br0">&#93;</span> <span class="sy0">=</span> Math.<span class="me1">floor</span><span class="br0">&#40;</span><span class="br0">&#40;</span>Math.<span class="me1">random</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy0">*</span> nMultiple <span class="sy0">+</span> <span class="nu0">1</span><span class="br0">&#41;</span> <span class="sy0">/</span> <span class="nu0">2</span><span class="br0">&#41;</span><span class="sy0">;</span>
                    <span class="br0">&#125;</span>
                    <span class="kw1">else</span> <span class="br0">&#123;</span>
                        <span class="kw1">if</span> <span class="br0">&#40;</span>Math.<span class="me1">random</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy0">&lt;</span> pMultiple<span class="br0">&#41;</span>
                            matrix<span class="br0">&#91;</span>i<span class="br0">&#93;</span><span class="br0">&#91;</span>j<span class="br0">&#93;</span> <span class="sy0">=</span> Math.<span class="me1">floor</span><span class="br0">&#40;</span>Math.<span class="me1">random</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy0">*</span> nMultiple <span class="sy0">+</span> <span class="nu0">1</span><span class="br0">&#41;</span><span class="sy0">;</span>
                        <span class="kw1">else</span> <span class="br0">&#123;</span>
                            <span class="kw1">if</span> <span class="br0">&#40;</span>Math.<span class="me1">random</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy0">&gt;</span> <span class="br0">&#40;</span><span class="nu0">1</span> <span class="sy0">/</span> nMultiple<span class="br0">&#41;</span><span class="br0">&#41;</span>
                                matrix<span class="br0">&#91;</span>i<span class="br0">&#93;</span><span class="br0">&#91;</span>j<span class="br0">&#93;</span> <span class="sy0">=</span> <span class="nu0">1</span><span class="sy0">;</span>
                            <span class="kw1">else</span>
                                matrix<span class="br0">&#91;</span>i<span class="br0">&#93;</span><span class="br0">&#91;</span>j<span class="br0">&#93;</span> <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span>
                        <span class="br0">&#125;</span>
                    <span class="br0">&#125;</span>
                <span class="br0">&#125;</span>
&nbsp;
            <span class="br0">&#125;</span>
            createFromAM<span class="br0">&#40;</span>matrix<span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="br0">&#125;</span>
    <span class="br0">&#125;</span>
    <span class="coMULTI">/**
     * @function
     * @public
     * @return void
     * Generate a complete graph of n vertices by first generating its corresponding adjacency matrix
     * */</span>
    <span class="kw2">function</span> Kn<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
        stopAnimation<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        clearSource<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw2">var</span> numOfNodes <span class="sy0">=</span> parseInt<span class="br0">&#40;</span><span class="kw3">prompt</span><span class="br0">&#40;</span><span class="st0">&quot;Please enter the number of vertices&quot;</span><span class="sy0">,</span> <span class="st0">&quot;5&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw2">var</span> weightRange <span class="sy0">=</span> <span class="kw3">prompt</span><span class="br0">&#40;</span><span class="st0">&quot;Please specify the weight range.<span class="es0">\n</span>Leave this blank if you want an unweighted graph.<span class="es0">\n</span>Example: 1-5 represents range from 1 to 5.<span class="es0">\n</span>Lower limit must be greater than 0.&quot;</span><span class="sy0">,</span> <span class="st0">&quot;&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw2">var</span> i<span class="sy0">,</span> j<span class="sy0">;</span>
        <span class="kw2">var</span> matrix <span class="sy0">=</span> <span class="kw2">new</span> Array<span class="br0">&#40;</span>numOfNodes<span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw1">if</span> <span class="br0">&#40;</span>weightRange.<span class="me1">length</span> <span class="sy0">&gt;</span> <span class="nu0">0</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
            <span class="kw2">var</span> temp <span class="sy0">=</span> weightRange.<span class="me1">split</span><span class="br0">&#40;</span><span class="st0">'-'</span><span class="br0">&#41;</span><span class="sy0">;</span>
            <span class="kw2">var</span> lower <span class="sy0">=</span> parseInt<span class="br0">&#40;</span>temp<span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span><span class="br0">&#41;</span> <span class="sy0">&gt;</span> <span class="nu0">0</span> <span class="sy0">?</span> parseInt<span class="br0">&#40;</span>temp<span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span><span class="br0">&#41;</span> <span class="sy0">:</span> <span class="nu0">1</span><span class="sy0">;</span>
            <span class="kw2">var</span> range <span class="sy0">=</span> parseInt<span class="br0">&#40;</span>temp<span class="br0">&#91;</span><span class="nu0">1</span><span class="br0">&#93;</span><span class="br0">&#41;</span> <span class="sy0">&gt;</span> lower <span class="sy0">?</span> parseInt<span class="br0">&#40;</span>temp<span class="br0">&#91;</span><span class="nu0">1</span><span class="br0">&#93;</span><span class="br0">&#41;</span> <span class="sy0">-</span> lower <span class="sy0">+</span> <span class="nu0">1</span> <span class="sy0">:</span> lower <span class="sy0">+</span> <span class="nu0">4</span><span class="sy0">;</span>
&nbsp;
            <span class="co1">// fill in the half above the major diagonal (exclude major diagonal) with random weights in the give range</span>
            <span class="kw1">for</span> <span class="br0">&#40;</span>i <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> i <span class="sy0">&lt;</span> numOfNodes<span class="sy0">;</span> i<span class="sy0">++</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
                matrix<span class="br0">&#91;</span>i<span class="br0">&#93;</span> <span class="sy0">=</span> <span class="kw2">new</span> Array<span class="br0">&#40;</span>numOfNodes<span class="br0">&#41;</span><span class="sy0">;</span>
                <span class="kw1">for</span> <span class="br0">&#40;</span>j <span class="sy0">=</span> i <span class="sy0">+</span> <span class="nu0">1</span><span class="sy0">;</span> j <span class="sy0">&lt;</span> numOfNodes<span class="sy0">;</span> j<span class="sy0">++</span><span class="br0">&#41;</span>
                    matrix<span class="br0">&#91;</span>i<span class="br0">&#93;</span><span class="br0">&#91;</span>j<span class="br0">&#93;</span> <span class="sy0">=</span> parseInt<span class="br0">&#40;</span>Math.<span class="me1">random</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy0">*</span> range <span class="sy0">+</span> lower<span class="br0">&#41;</span><span class="sy0">;</span>
            <span class="br0">&#125;</span>
            createFromWM<span class="br0">&#40;</span>matrix<span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="br0">&#125;</span>
        <span class="kw1">else</span> <span class="br0">&#123;</span>
&nbsp;
            <span class="co1">// fill in the half above the major diagonal (exclude major diagonal) with 1</span>
            <span class="kw1">for</span> <span class="br0">&#40;</span>i <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> i <span class="sy0">&lt;</span> numOfNodes<span class="sy0">;</span> i<span class="sy0">++</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
                matrix<span class="br0">&#91;</span>i<span class="br0">&#93;</span> <span class="sy0">=</span> <span class="kw2">new</span> Array<span class="br0">&#40;</span>numOfNodes<span class="br0">&#41;</span><span class="sy0">;</span>
                <span class="kw1">for</span> <span class="br0">&#40;</span>j <span class="sy0">=</span> i <span class="sy0">+</span> <span class="nu0">1</span><span class="sy0">;</span> j <span class="sy0">&lt;</span> numOfNodes<span class="sy0">;</span> j<span class="sy0">++</span><span class="br0">&#41;</span>
                    matrix<span class="br0">&#91;</span>i<span class="br0">&#93;</span><span class="br0">&#91;</span>j<span class="br0">&#93;</span> <span class="sy0">=</span> <span class="nu0">1</span><span class="sy0">;</span>
            <span class="br0">&#125;</span>
            createFromAM<span class="br0">&#40;</span>matrix<span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="br0">&#125;</span>
    <span class="br0">&#125;</span>
&nbsp;
    <span class="coMULTI">/**
     * generate a complete bipartile graph by first generating its adjacency matrix
     * @function
     * @public
     * @return void
     * */</span>
    <span class="kw2">function</span> Kn_n<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
        stopAnimation<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw2">var</span> n <span class="sy0">=</span> <span class="kw3">prompt</span><span class="br0">&#40;</span><span class="st0">&quot;Please enter n,n.<span class="es0">\n</span>Example: 3,3 represents K3,3&quot;</span><span class="sy0">,</span> <span class="st0">&quot;3,3&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        n <span class="sy0">=</span> n.<span class="me1">split</span><span class="br0">&#40;</span><span class="st0">','</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw2">var</span> n1 <span class="sy0">=</span> parseInt<span class="br0">&#40;</span>n<span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw2">var</span> n2 <span class="sy0">=</span> parseInt<span class="br0">&#40;</span>n<span class="br0">&#91;</span><span class="nu0">1</span><span class="br0">&#93;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw2">var</span> numOfNodes <span class="sy0">=</span> n1 <span class="sy0">+</span> n2<span class="sy0">;</span>
        <span class="kw2">var</span> i<span class="sy0">,</span> j<span class="sy0">;</span>
        <span class="kw2">var</span> matrix <span class="sy0">=</span> <span class="kw2">new</span> Array<span class="br0">&#40;</span>numOfNodes<span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw1">for</span> <span class="br0">&#40;</span>i <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> i <span class="sy0">&lt;</span> numOfNodes<span class="sy0">;</span> i<span class="sy0">++</span><span class="br0">&#41;</span>
            matrix<span class="br0">&#91;</span>i<span class="br0">&#93;</span> <span class="sy0">=</span> <span class="kw2">new</span> Array<span class="br0">&#40;</span>numOfNodes<span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
        <span class="kw2">var</span> weightRange <span class="sy0">=</span> <span class="kw3">prompt</span><span class="br0">&#40;</span><span class="st0">&quot;Please specify the weight range.<span class="es0">\n</span>Leave this blank if you want an unweighted graph.<span class="es0">\n</span>Example: 1-5 represents range from 1 to 5.<span class="es0">\n</span>Lower limit must be greater than 0.&quot;</span><span class="sy0">,</span> <span class="st0">&quot;&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw1">if</span> <span class="br0">&#40;</span>weightRange.<span class="me1">length</span> <span class="sy0">&gt;</span> <span class="nu0">0</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
            <span class="kw2">var</span> temp <span class="sy0">=</span> weightRange.<span class="me1">split</span><span class="br0">&#40;</span><span class="st0">'-'</span><span class="br0">&#41;</span><span class="sy0">;</span>
            <span class="kw2">var</span> lower <span class="sy0">=</span> parseInt<span class="br0">&#40;</span>temp<span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span><span class="br0">&#41;</span> <span class="sy0">&gt;</span> <span class="nu0">0</span> <span class="sy0">?</span> parseInt<span class="br0">&#40;</span>temp<span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span><span class="br0">&#41;</span> <span class="sy0">:</span> <span class="nu0">1</span><span class="sy0">;</span>
&nbsp;
            <span class="co1">// upper bound must be greater than the lower bound...</span>
            <span class="kw2">var</span> range <span class="sy0">=</span> parseInt<span class="br0">&#40;</span>temp<span class="br0">&#91;</span><span class="nu0">1</span><span class="br0">&#93;</span><span class="br0">&#41;</span> <span class="sy0">&gt;</span> lower <span class="sy0">?</span> parseInt<span class="br0">&#40;</span>temp<span class="br0">&#91;</span><span class="nu0">1</span><span class="br0">&#93;</span><span class="br0">&#41;</span> <span class="sy0">:</span> lower <span class="sy0">+</span> <span class="nu0">4</span><span class="sy0">;</span>
&nbsp;
            <span class="co1">// I think you can understand this</span>
            <span class="kw1">for</span> <span class="br0">&#40;</span>i <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> i <span class="sy0">&lt;</span> n1<span class="sy0">;</span> i<span class="sy0">++</span><span class="br0">&#41;</span>
                <span class="kw1">for</span> <span class="br0">&#40;</span>j <span class="sy0">=</span> n1<span class="sy0">;</span> j <span class="sy0">&lt;</span> numOfNodes<span class="sy0">;</span> j<span class="sy0">++</span><span class="br0">&#41;</span>
                    matrix<span class="br0">&#91;</span>i<span class="br0">&#93;</span><span class="br0">&#91;</span>j<span class="br0">&#93;</span> <span class="sy0">=</span> parseInt<span class="br0">&#40;</span>Math.<span class="me1">random</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy0">*</span> range <span class="sy0">+</span> lower<span class="br0">&#41;</span><span class="sy0">;</span>
            createFromWM<span class="br0">&#40;</span>matrix<span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="br0">&#125;</span>
        <span class="kw1">else</span> <span class="br0">&#123;</span>
            <span class="kw1">for</span> <span class="br0">&#40;</span>i <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> i <span class="sy0">&lt;</span> n1<span class="sy0">;</span> i<span class="sy0">++</span><span class="br0">&#41;</span>
                <span class="kw1">for</span> <span class="br0">&#40;</span>j <span class="sy0">=</span> n1<span class="sy0">;</span> j <span class="sy0">&lt;</span> numOfNodes<span class="sy0">;</span> j<span class="sy0">++</span><span class="br0">&#41;</span>
                    matrix<span class="br0">&#91;</span>i<span class="br0">&#93;</span><span class="br0">&#91;</span>j<span class="br0">&#93;</span> <span class="sy0">=</span> <span class="nu0">1</span><span class="sy0">;</span>
            createFromAM<span class="br0">&#40;</span>matrix<span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="br0">&#125;</span>
    <span class="br0">&#125;</span>
    <span class="coMULTI">/**
     * @public
     * @function
     * @param {string} prompt_text
     * @param {string} default_value
     * @return {object}
     * */</span>
    <span class="kw2">function</span> getCyStartNode<span class="br0">&#40;</span>prompt_text<span class="sy0">,</span> default_value<span class="br0">&#41;</span> <span class="br0">&#123;</span>
        <span class="kw2">var</span> root <span class="sy0">=</span> cy.<span class="me1">nodes</span><span class="br0">&#40;</span><span class="st0">':selected'</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw1">if</span> <span class="br0">&#40;</span>root.<span class="me1">length</span> <span class="sy0">&lt;=</span> <span class="nu0">0</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
            root <span class="sy0">=</span> cy.$id<span class="br0">&#40;</span><span class="kw3">prompt</span><span class="br0">&#40;</span>prompt_text<span class="sy0">,</span> default_value<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            <span class="kw1">if</span> <span class="br0">&#40;</span>root.<span class="me1">length</span> <span class="sy0">&lt;=</span> <span class="nu0">0</span><span class="br0">&#41;</span>
                <span class="kw1">return</span> undefined<span class="sy0">;</span>
        <span class="br0">&#125;</span>
        <span class="kw1">else</span>
            root <span class="sy0">=</span> root<span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span><span class="sy0">;</span>
        <span class="kw1">return</span> root<span class="sy0">;</span>
    <span class="br0">&#125;</span>
    <span class="coMULTI">/**
     * @function
     * @public
     * @return void
     * Breadth first search is implemented in the library
     * */</span>
    <span class="kw2">function</span> breadthFirstSearch<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
        stopAnimation<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw2">var</span> root <span class="sy0">=</span> getCyStartNode<span class="br0">&#40;</span><span class="st0">&quot;Please enter the id of the starting node&quot;</span><span class="sy0">,</span> <span class="st0">&quot;1&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw1">if</span> <span class="br0">&#40;</span>root <span class="sy0">===</span> undefined<span class="br0">&#41;</span>
            <span class="kw1">return</span><span class="sy0">;</span>
        clearCyStyle<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw2">var</span> path <span class="sy0">=</span> cy.<span class="me1">elements</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">bfs</span><span class="br0">&#40;</span><span class="st0">'#'</span> <span class="sy0">+</span> root.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'id'</span><span class="br0">&#41;</span><span class="br0">&#41;</span>.<span class="me1">path</span><span class="sy0">;</span>
        clearResult<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw2">var</span> pathList <span class="sy0">=</span> <span class="kw2">new</span> LinkedList<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        path.<span class="me1">select</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        ca.<span class="me1">add</span><span class="br0">&#40;</span>path<span class="br0">&#41;</span><span class="sy0">;</span>
        path.<span class="me1">forEach</span><span class="br0">&#40;</span><span class="kw2">function</span> <span class="br0">&#40;</span>ele<span class="br0">&#41;</span> <span class="br0">&#123;</span>
            pathList.<span class="me1">add</span><span class="br0">&#40;</span>ele<span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        caReLayout<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        pathList.<span class="me1">traverse</span><span class="br0">&#40;</span>animation.<span class="me1">checked</span><span class="sy0">,</span> <span class="kw2">true</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
    <span class="coMULTI">/**
     * @function
     * @public
     * @return void
     * DFS implemented in the library
     * */</span>
    <span class="kw2">function</span> depthFirstSearch<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
        stopAnimation<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw2">var</span> root <span class="sy0">=</span> getCyStartNode<span class="br0">&#40;</span><span class="st0">&quot;Please enter the id of the starting node&quot;</span><span class="sy0">,</span> <span class="st0">&quot;1&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw1">if</span> <span class="br0">&#40;</span>root <span class="sy0">===</span> undefined<span class="br0">&#41;</span>
            <span class="kw1">return</span><span class="sy0">;</span>
        clearCyStyle<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw2">var</span> path <span class="sy0">=</span> cy.<span class="me1">elements</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">dfs</span><span class="br0">&#40;</span>root<span class="br0">&#41;</span>.<span class="me1">path</span><span class="sy0">;</span>
        clearResult<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw2">var</span> pathList <span class="sy0">=</span> <span class="kw2">new</span> LinkedList<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        path.<span class="me1">select</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        ca.<span class="me1">add</span><span class="br0">&#40;</span>path<span class="br0">&#41;</span><span class="sy0">;</span>
        path.<span class="me1">forEach</span><span class="br0">&#40;</span><span class="kw2">function</span> <span class="br0">&#40;</span>ele<span class="br0">&#41;</span> <span class="br0">&#123;</span>
            pathList.<span class="me1">add</span><span class="br0">&#40;</span>ele<span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        caReLayout<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        pathList.<span class="me1">traverse</span><span class="br0">&#40;</span>animation.<span class="me1">checked</span><span class="sy0">,</span> <span class="kw2">true</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
    <span class="coMULTI">/**
     * @function
     * @public
     * @return void
     * Kruskal is implemented in the library
     * */</span>
    <span class="kw2">function</span> performKruskal<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
        stopAnimation<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        clearCyStyle<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw2">var</span> spanningTree <span class="sy0">=</span> cy.<span class="me1">elements</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">kruskal</span><span class="br0">&#40;</span>getWeight<span class="br0">&#41;</span><span class="sy0">;</span>
        clearResult<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        ca.<span class="me1">add</span><span class="br0">&#40;</span>spanningTree<span class="br0">&#41;</span><span class="sy0">;</span>
        spanningTree.<span class="me1">select</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        caReLayout<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw2">var</span> pathList <span class="sy0">=</span> <span class="kw2">new</span> LinkedList<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        spanningTree.<span class="me1">forEach</span><span class="br0">&#40;</span><span class="kw2">function</span> <span class="br0">&#40;</span>ele<span class="br0">&#41;</span> <span class="br0">&#123;</span>
            <span class="kw1">if</span> <span class="br0">&#40;</span>ele.<span class="me1">isEdge</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
                pathList.<span class="me1">add</span><span class="br0">&#40;</span>ele<span class="br0">&#41;</span><span class="sy0">;</span>
                <span class="kw1">if</span> <span class="br0">&#40;</span>pathList.<span class="me1">search</span><span class="br0">&#40;</span><span class="kw2">function</span> <span class="br0">&#40;</span>e<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                        <span class="kw1">return</span> e.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'id'</span><span class="br0">&#41;</span> <span class="sy0">===</span> ele.<span class="me1">source</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'id'</span><span class="br0">&#41;</span><span class="sy0">;</span>
                    <span class="br0">&#125;</span><span class="br0">&#41;</span> <span class="sy0">===</span> <span class="kw2">null</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
                    pathList.<span class="me1">add</span><span class="br0">&#40;</span>ele.<span class="me1">source</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                <span class="br0">&#125;</span>
                <span class="kw1">if</span> <span class="br0">&#40;</span>pathList.<span class="me1">search</span><span class="br0">&#40;</span><span class="kw2">function</span> <span class="br0">&#40;</span>e<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                        <span class="kw1">return</span> e.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'id'</span><span class="br0">&#41;</span> <span class="sy0">===</span> ele.<span class="me1">target</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'id'</span><span class="br0">&#41;</span><span class="sy0">;</span>
                    <span class="br0">&#125;</span><span class="br0">&#41;</span> <span class="sy0">===</span> <span class="kw2">null</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
                    pathList.<span class="me1">add</span><span class="br0">&#40;</span>ele.<span class="me1">target</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                <span class="br0">&#125;</span>
            <span class="br0">&#125;</span>
        <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        pathList.<span class="me1">traverse</span><span class="br0">&#40;</span>animation.<span class="me1">checked</span><span class="sy0">,</span> <span class="kw2">false</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
    <span class="coMULTI">/**
     * @function
     * @public
     * @return void
     * Dijkstra is implemented in the library
     * */</span>
    <span class="kw2">function</span> performDijkstra<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
        stopAnimation<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw2">var</span> nodes <span class="sy0">=</span> cy.<span class="me1">nodes</span><span class="br0">&#40;</span><span class="st0">':selected'</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw2">var</span> path<span class="sy0">;</span>
        <span class="kw1">if</span> <span class="br0">&#40;</span>nodes.<span class="me1">length</span> <span class="sy0">&gt;=</span> <span class="nu0">2</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
            path <span class="sy0">=</span> cy.<span class="me1">elements</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">dijkstra</span><span class="br0">&#40;</span>nodes<span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span><span class="sy0">,</span> getWeight<span class="br0">&#41;</span>.<span class="me1">pathTo</span><span class="br0">&#40;</span>nodes<span class="br0">&#91;</span><span class="nu0">1</span><span class="br0">&#93;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="br0">&#125;</span>
        <span class="kw1">else</span> <span class="br0">&#123;</span>
            <span class="kw2">var</span> p <span class="sy0">=</span> <span class="kw3">prompt</span><span class="br0">&#40;</span><span class="st0">&quot;Please enter the id of source and target nodes, src-tg.<span class="es0">\n</span>Example: 1-2&quot;</span><span class="sy0">,</span> <span class="st0">&quot;&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            <span class="kw2">var</span> pt <span class="sy0">=</span> p.<span class="me1">split</span><span class="br0">&#40;</span><span class="st0">'-'</span><span class="br0">&#41;</span><span class="sy0">;</span>
            path <span class="sy0">=</span> cy.<span class="me1">elements</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">dijkstra</span><span class="br0">&#40;</span><span class="st0">'#'</span> <span class="sy0">+</span> pt<span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span><span class="sy0">,</span> getWeight<span class="br0">&#41;</span>.<span class="me1">pathTo</span><span class="br0">&#40;</span><span class="st0">'#'</span> <span class="sy0">+</span> pt<span class="br0">&#91;</span><span class="nu0">1</span><span class="br0">&#93;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="br0">&#125;</span>
        <span class="kw2">var</span> pathList <span class="sy0">=</span> <span class="kw2">new</span> LinkedList<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        path.<span class="me1">forEach</span><span class="br0">&#40;</span><span class="kw2">function</span> <span class="br0">&#40;</span>ele<span class="br0">&#41;</span> <span class="br0">&#123;</span>
            pathList.<span class="me1">add</span><span class="br0">&#40;</span>ele<span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        clearCyStyle<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        clearResult<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        ca.<span class="me1">add</span><span class="br0">&#40;</span>path<span class="br0">&#41;</span><span class="sy0">;</span>
        caReLayout<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        path.<span class="me1">select</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        pathList.<span class="me1">traverse</span><span class="br0">&#40;</span>animation.<span class="me1">checked</span><span class="sy0">,</span> <span class="kw2">true</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
    <span class="coMULTI">/**
     * @function
     * @public
     * @return void
     * a detailed implementation of Dijkstra's algorithm
     * showing every step
     * */</span>
    <span class="kw2">function</span> myDijkstra<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
        <span class="kw1">if</span> <span class="br0">&#40;</span><span class="sy0">!</span>isConnected<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
            <span class="kw3">alert</span><span class="br0">&#40;</span><span class="st0">&quot;This graph is not connected!&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            <span class="kw1">return</span><span class="sy0">;</span>
        <span class="br0">&#125;</span>
        <span class="kw2">var</span> root<span class="sy0">;</span>
        <span class="kw2">var</span> target<span class="sy0">;</span>
        <span class="kw2">var</span> ns <span class="sy0">=</span> cy.<span class="me1">nodes</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw2">var</span> temp <span class="sy0">=</span> cy.<span class="me1">nodes</span><span class="br0">&#40;</span><span class="st0">':selected'</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw1">if</span> <span class="br0">&#40;</span>temp.<span class="me1">length</span> <span class="sy0">&gt;=</span> <span class="nu0">2</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
            root <span class="sy0">=</span> temp<span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span><span class="sy0">;</span>
            target <span class="sy0">=</span> temp<span class="br0">&#91;</span><span class="nu0">1</span><span class="br0">&#93;</span><span class="sy0">;</span>
        <span class="br0">&#125;</span>
        <span class="kw1">else</span> <span class="br0">&#123;</span>
            temp <span class="sy0">=</span> <span class="kw3">prompt</span><span class="br0">&#40;</span><span class="st0">&quot;Please enter the id of source and target nodes, src-tg.<span class="es0">\n</span>Example: 1-2&quot;</span><span class="sy0">,</span> <span class="st0">&quot;&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            <span class="kw2">var</span> p <span class="sy0">=</span> temp.<span class="me1">split</span><span class="br0">&#40;</span><span class="st0">'-'</span><span class="br0">&#41;</span><span class="sy0">;</span>
            root <span class="sy0">=</span> cy.$id<span class="br0">&#40;</span>p<span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            target <span class="sy0">=</span> cy.$id<span class="br0">&#40;</span>p<span class="br0">&#91;</span><span class="nu0">1</span><span class="br0">&#93;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            <span class="kw1">if</span> <span class="br0">&#40;</span>root.<span class="me1">length</span> <span class="sy0">&lt;=</span> <span class="nu0">0</span> <span class="sy0">||</span> target.<span class="me1">length</span> <span class="sy0">&lt;=</span> <span class="nu0">0</span><span class="br0">&#41;</span>
                <span class="kw1">return</span><span class="sy0">;</span>
        <span class="br0">&#125;</span>
        clearCyStyle<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
        <span class="co1">// set all labels to undefined</span>
        ns.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'temporary'</span><span class="sy0">,</span> <span class="br0">&#91;</span><span class="br0">&#93;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        ns.<span class="me1">removeData</span><span class="br0">&#40;</span><span class="st0">'permanent'</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
        <span class="co1">// set the label function</span>
        <span class="co1">// format: &quot;id|temporary labels|permanent label&quot;</span>
        cy.<span class="me1">style</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">selector</span><span class="br0">&#40;</span><span class="st0">'node'</span><span class="br0">&#41;</span>.<span class="me1">style</span><span class="br0">&#40;</span><span class="br0">&#123;</span>
            label<span class="sy0">:</span> <span class="kw2">function</span> <span class="br0">&#40;</span>n<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                <span class="kw2">var</span> temporary <span class="sy0">=</span> n.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'temporary'</span><span class="br0">&#41;</span><span class="sy0">;</span>
                <span class="kw2">var</span> l <span class="sy0">=</span> temporary.<span class="me1">length</span> <span class="sy0">-</span> <span class="nu0">1</span><span class="sy0">;</span>
                <span class="kw2">var</span> tempLabels <span class="sy0">=</span> <span class="st0">''</span><span class="sy0">;</span>
                <span class="kw1">if</span> <span class="br0">&#40;</span>l <span class="sy0">&gt;</span> <span class="sy0">-</span><span class="nu0">1</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
                    tempLabels <span class="sy0">+=</span> <span class="st0">'|'</span><span class="sy0">;</span>
                    <span class="kw1">for</span> <span class="br0">&#40;</span><span class="kw2">var</span> i <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> i <span class="sy0">&lt;</span> l<span class="sy0">;</span> i<span class="sy0">++</span><span class="br0">&#41;</span>
                        tempLabels <span class="sy0">+=</span> temporary<span class="br0">&#91;</span>i<span class="br0">&#93;</span> <span class="sy0">+</span> <span class="st0">'&gt;'</span><span class="sy0">;</span>
                    tempLabels <span class="sy0">+=</span> temporary<span class="br0">&#91;</span>l<span class="br0">&#93;</span><span class="sy0">;</span>
                <span class="br0">&#125;</span>
                <span class="kw1">return</span> n.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'id'</span><span class="br0">&#41;</span> <span class="sy0">+</span> tempLabels <span class="sy0">+</span> <span class="br0">&#40;</span>isNaN<span class="br0">&#40;</span>n.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'permanent'</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="sy0">?</span> <span class="st0">''</span> <span class="sy0">:</span> <span class="st0">'|'</span> <span class="sy0">+</span> n.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'permanent'</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            <span class="br0">&#125;</span>
        <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
        <span class="co1">// give the starting node a permanent label</span>
        <span class="kw2">var</span> currentNode <span class="sy0">=</span> root<span class="sy0">;</span>
        currentNode.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'permanent'</span><span class="sy0">,</span> <span class="nu0">0</span><span class="br0">&#41;</span><span class="sy0">;</span>
        currentNode.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'temporary'</span><span class="sy0">,</span> <span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
        <span class="kw1">if</span> <span class="br0">&#40;</span>animation.<span class="me1">checked</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
            <span class="coMULTI">/**
             * @function
             * @private
             * @param {object} node
             * @callback
             * @param {function} callback
             * the function to execute after completion of animation
             * @return void
             * */</span>
            <span class="kw2">function</span> animateNode<span class="br0">&#40;</span>node<span class="sy0">,</span> callback<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                <span class="kw1">if</span> <span class="br0">&#40;</span>node <span class="sy0">!==</span> undefined <span class="sy0">&amp;&amp;</span> node.<span class="me1">length</span> <span class="sy0">&gt;</span> <span class="nu0">0</span><span class="br0">&#41;</span>
                    node.<span class="me1">animate</span><span class="br0">&#40;</span><span class="br0">&#123;</span>
                        style<span class="sy0">:</span> <span class="br0">&#123;</span>backgroundColor<span class="sy0">:</span> <span class="st0">'#f185dc'</span><span class="sy0">,</span> width<span class="sy0">:</span> <span class="st0">'30px'</span><span class="sy0">,</span> height<span class="sy0">:</span> <span class="st0">'30px'</span><span class="br0">&#125;</span><span class="sy0">,</span>
                        duration<span class="sy0">:</span> Math.<span class="me1">round</span><span class="br0">&#40;</span><span class="sy0">+</span>duration.<span class="me1">value</span> <span class="sy0">*</span> <span class="nu0">0.1</span><span class="br0">&#41;</span><span class="sy0">,</span>
                        queue<span class="sy0">:</span> <span class="kw2">true</span>
                    <span class="br0">&#125;</span><span class="br0">&#41;</span>.<span class="me1">animate</span><span class="br0">&#40;</span><span class="br0">&#123;</span>
                        style<span class="sy0">:</span> <span class="br0">&#123;</span>backgroundColor<span class="sy0">:</span> <span class="st0">'#de4400'</span><span class="sy0">,</span> width<span class="sy0">:</span> <span class="st0">'20px'</span><span class="sy0">,</span> height<span class="sy0">:</span> <span class="st0">'20px'</span><span class="br0">&#125;</span><span class="sy0">,</span>
                        duration<span class="sy0">:</span> Math.<span class="me1">round</span><span class="br0">&#40;</span><span class="sy0">+</span>duration.<span class="me1">value</span> <span class="sy0">*</span> <span class="nu0">0.4</span><span class="br0">&#41;</span><span class="sy0">,</span>
                        queue<span class="sy0">:</span> <span class="kw2">true</span><span class="sy0">,</span>
                        complete<span class="sy0">:</span> callback
                    <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                <span class="kw1">else</span>
                    callback<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            <span class="br0">&#125;</span>
&nbsp;
            <span class="coMULTI">/**
             * @function
             * @private
             * @param {object} edge
             * @callback
             * @param {function} callback
             * the function to execute after completion of animation
             * @return void
             * */</span>
            <span class="kw2">function</span> animateEdge<span class="br0">&#40;</span>edge<span class="sy0">,</span> callback<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                <span class="kw1">if</span> <span class="br0">&#40;</span>edge <span class="sy0">!==</span> undefined <span class="sy0">&amp;&amp;</span> edge.<span class="me1">length</span> <span class="sy0">&gt;</span> <span class="nu0">0</span><span class="br0">&#41;</span>
                    edge.<span class="me1">animate</span><span class="br0">&#40;</span><span class="br0">&#123;</span>
                        style<span class="sy0">:</span> <span class="br0">&#123;</span>lineColor<span class="sy0">:</span> <span class="st0">'#f185dc'</span><span class="sy0">,</span> width<span class="sy0">:</span> <span class="st0">'6'</span><span class="br0">&#125;</span><span class="sy0">,</span>
                        duration<span class="sy0">:</span> Math.<span class="me1">round</span><span class="br0">&#40;</span><span class="sy0">+</span>duration.<span class="me1">value</span> <span class="sy0">*</span> <span class="nu0">0.2</span><span class="br0">&#41;</span><span class="sy0">,</span>
                        queue<span class="sy0">:</span> <span class="kw2">true</span>
                    <span class="br0">&#125;</span><span class="br0">&#41;</span>.<span class="me1">animate</span><span class="br0">&#40;</span><span class="br0">&#123;</span>
                        style<span class="sy0">:</span> <span class="br0">&#123;</span>lineColor<span class="sy0">:</span> <span class="st0">'#de4400'</span><span class="sy0">,</span> width<span class="sy0">:</span> <span class="st0">'3'</span><span class="br0">&#125;</span><span class="sy0">,</span>
                        duration<span class="sy0">:</span> Math.<span class="me1">round</span><span class="br0">&#40;</span><span class="sy0">+</span>duration.<span class="me1">value</span> <span class="sy0">*</span> <span class="nu0">0.8</span><span class="br0">&#41;</span><span class="sy0">,</span>
                        queue<span class="sy0">:</span> <span class="kw2">true</span><span class="sy0">,</span>
                        complete<span class="sy0">:</span> callback
                    <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                <span class="kw1">else</span>
                    callback<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            <span class="br0">&#125;</span>
&nbsp;
            <span class="coMULTI">/**
             * @function
             * @private
             * @param {object} node
             * @callback
             * @param {function} callback
             * the function to execute after completion of animation
             * @return void
             * */</span>
            <span class="kw2">function</span> animateLabel<span class="br0">&#40;</span>node<span class="sy0">,</span> callback<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                <span class="kw1">if</span> <span class="br0">&#40;</span>node <span class="sy0">!==</span> undefined <span class="sy0">&amp;&amp;</span> node.<span class="me1">length</span> <span class="sy0">&gt;</span> <span class="nu0">0</span><span class="br0">&#41;</span>
                    node.<span class="me1">animate</span><span class="br0">&#40;</span><span class="br0">&#123;</span>
                        style<span class="sy0">:</span> <span class="br0">&#123;</span>textBackgroundColor<span class="sy0">:</span> <span class="st0">'yellow'</span><span class="sy0">,</span> textBackgroundOpacity<span class="sy0">:</span> <span class="nu0">1</span><span class="br0">&#125;</span><span class="sy0">,</span>
                        duration<span class="sy0">:</span> Math.<span class="me1">round</span><span class="br0">&#40;</span><span class="sy0">+</span>duration.<span class="me1">value</span> <span class="sy0">*</span> <span class="nu0">0.4</span><span class="br0">&#41;</span><span class="sy0">,</span>
                        queue<span class="sy0">:</span> <span class="kw2">true</span>
                    <span class="br0">&#125;</span><span class="br0">&#41;</span>.<span class="me1">delay</span><span class="br0">&#40;</span><span class="sy0">+</span>duration.<span class="me1">value</span> <span class="sy0">*</span> <span class="nu0">0.2</span><span class="br0">&#41;</span>.<span class="me1">animate</span><span class="br0">&#40;</span><span class="br0">&#123;</span>
                        style<span class="sy0">:</span> <span class="br0">&#123;</span>textBackgroundColor<span class="sy0">:</span> <span class="st0">'yellow'</span><span class="sy0">,</span> textBackgroundOpacity<span class="sy0">:</span> <span class="nu0">0</span><span class="br0">&#125;</span><span class="sy0">,</span>
                        duration<span class="sy0">:</span> Math.<span class="me1">round</span><span class="br0">&#40;</span><span class="sy0">+</span>duration.<span class="me1">value</span> <span class="sy0">*</span> <span class="nu0">0.4</span><span class="br0">&#41;</span><span class="sy0">,</span>
                        queue<span class="sy0">:</span> <span class="kw2">true</span><span class="sy0">,</span>
                        complete<span class="sy0">:</span> callback
                    <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                <span class="kw1">else</span>
                    callback<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            <span class="br0">&#125;</span>
&nbsp;
            <span class="coMULTI">/**
             * @function
             * @private
             * @param {object} currentNode
             * current node with a permanent label
             * @param {object} edges
             * all edges connect to n
             * @param {int} i
             * the index of the edge that we're up to
             * @return void
             * */</span>
            <span class="kw2">function</span> addNextLabel<span class="br0">&#40;</span>currentNode<span class="sy0">,</span> edges<span class="sy0">,</span> i<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                <span class="co1">// get the value of the permanent label</span>
                <span class="kw2">var</span> weight <span class="sy0">=</span> currentNode.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'permanent'</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
                <span class="co1">// if the index is out of bound, then...</span>
                <span class="kw1">if</span> <span class="br0">&#40;</span>i <span class="sy0">&gt;=</span> edges.<span class="me1">length</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
&nbsp;
                    <span class="co1">// get the minimum among all nodes with temporary labels but without permanent labels</span>
                    <span class="co1">// the node with this minimal label will be assigned with a permanent label</span>
                    <span class="kw2">var</span> minW <span class="sy0">=</span> Infinity<span class="sy0">;</span>
                    <span class="kw2">var</span> nextPermanent<span class="sy0">;</span>
                    ns.<span class="me1">forEach</span><span class="br0">&#40;</span><span class="kw2">function</span> <span class="br0">&#40;</span>node<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                        <span class="kw2">var</span> tempLabels <span class="sy0">=</span> node.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'temporary'</span><span class="br0">&#41;</span><span class="sy0">;</span>
                        <span class="kw1">if</span> <span class="br0">&#40;</span>tempLabels.<span class="me1">length</span> <span class="sy0">&gt;</span> <span class="nu0">0</span> <span class="sy0">&amp;&amp;</span> node.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'permanent'</span><span class="br0">&#41;</span> <span class="sy0">===</span> undefined<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                            <span class="kw1">if</span> <span class="br0">&#40;</span>tempLabels<span class="br0">&#91;</span>tempLabels.<span class="me1">length</span> <span class="sy0">-</span> <span class="nu0">1</span><span class="br0">&#93;</span> <span class="sy0">&lt;</span> minW <span class="sy0">||</span> <span class="br0">&#40;</span>tempLabels<span class="br0">&#91;</span>tempLabels.<span class="me1">length</span> <span class="sy0">-</span> <span class="nu0">1</span><span class="br0">&#93;</span> <span class="sy0">===</span> minW <span class="sy0">&amp;&amp;</span> node.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'id'</span><span class="br0">&#41;</span> <span class="sy0">===</span> target.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'id'</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
                                minW <span class="sy0">=</span> tempLabels<span class="br0">&#91;</span>tempLabels.<span class="me1">length</span> <span class="sy0">-</span> <span class="nu0">1</span><span class="br0">&#93;</span><span class="sy0">;</span>
                                nextPermanent <span class="sy0">=</span> node<span class="sy0">;</span>
                            <span class="br0">&#125;</span>
                        <span class="br0">&#125;</span>
                    <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
                    <span class="co1">// callbacks... and callbacks...</span>
                    <span class="co1">// animate this node...</span>
                    animateNode<span class="br0">&#40;</span>nextPermanent<span class="sy0">,</span> <span class="kw2">function</span> <span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
&nbsp;
                        <span class="co1">// assign a permanent label to this node</span>
                        nextPermanent.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'permanent'</span><span class="sy0">,</span> minW<span class="br0">&#41;</span><span class="sy0">;</span>
                        nextPermanent.<span class="me1">style</span><span class="br0">&#40;</span><span class="br0">&#123;</span>
                            textBorderOpacity<span class="sy0">:</span> <span class="nu0">1</span><span class="sy0">,</span>
                            textBorderWidth<span class="sy0">:</span> <span class="st0">'1px'</span><span class="sy0">,</span>
                            textBorderStyle<span class="sy0">:</span> <span class="st0">'dashed'</span><span class="sy0">,</span>
                            textBorderColor<span class="sy0">:</span> <span class="st0">'green'</span>
                        <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
                        <span class="co1">// connect this node with the previous node with a permanent label</span>
                        <span class="kw2">var</span> edgeBetween <span class="sy0">=</span> nextPermanent.<span class="me1">edgesWith</span><span class="br0">&#40;</span>cy.$id<span class="br0">&#40;</span>nextPermanent.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'previous'</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
                        <span class="co1">// animate the edge</span>
                        animateEdge<span class="br0">&#40;</span>edgeBetween<span class="sy0">,</span> <span class="kw2">function</span> <span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
&nbsp;
                            <span class="co1">// if the target node haven't got a permanent label</span>
                            <span class="kw1">if</span> <span class="br0">&#40;</span>target.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'permanent'</span><span class="br0">&#41;</span> <span class="sy0">===</span> undefined<span class="br0">&#41;</span>
&nbsp;
                            <span class="co1">// continue to label...</span>
                                addNextLabel<span class="br0">&#40;</span>nextPermanent<span class="sy0">,</span> nextPermanent.<span class="me1">connectedEdges</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">,</span> <span class="nu0">0</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
                            <span class="co1">// else: now we can trace the walk, back from the target to the start</span>
                            <span class="kw1">else</span> <span class="br0">&#123;</span>
                                traceBack<span class="br0">&#40;</span>nextPermanent<span class="br0">&#41;</span><span class="sy0">;</span>
                                <span class="coMULTI">/**
                                 * @function
                                 * @private
                                 * @param {object} current
                                 * @return void
                                 * */</span>
                                <span class="kw2">function</span> traceBack<span class="br0">&#40;</span>current<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                                    <span class="co1">// animate current node</span>
                                    current.<span class="me1">animate</span><span class="br0">&#40;</span><span class="br0">&#123;</span>
                                        style<span class="sy0">:</span> <span class="br0">&#123;</span>backgroundColor<span class="sy0">:</span> <span class="st0">'#eae90f'</span><span class="sy0">,</span> width<span class="sy0">:</span> <span class="st0">'30px'</span><span class="sy0">,</span> height<span class="sy0">:</span> <span class="st0">'30px'</span><span class="br0">&#125;</span><span class="sy0">,</span>
                                        duration<span class="sy0">:</span> Math.<span class="me1">round</span><span class="br0">&#40;</span><span class="sy0">+</span>duration.<span class="me1">value</span> <span class="sy0">*</span> <span class="nu0">0.15</span><span class="br0">&#41;</span><span class="sy0">,</span>
                                        queue<span class="sy0">:</span> <span class="kw2">true</span>
                                    <span class="br0">&#125;</span><span class="br0">&#41;</span>.<span class="me1">animate</span><span class="br0">&#40;</span><span class="br0">&#123;</span>
                                        style<span class="sy0">:</span> <span class="br0">&#123;</span>backgroundColor<span class="sy0">:</span> <span class="st0">'green'</span><span class="sy0">,</span> width<span class="sy0">:</span> <span class="st0">'20px'</span><span class="sy0">,</span> height<span class="sy0">:</span> <span class="st0">'20px'</span><span class="br0">&#125;</span><span class="sy0">,</span>
                                        duration<span class="sy0">:</span> Math.<span class="me1">round</span><span class="br0">&#40;</span><span class="sy0">+</span>duration.<span class="me1">value</span> <span class="sy0">*</span> <span class="nu0">0.6</span><span class="br0">&#41;</span><span class="sy0">,</span>
                                        queue<span class="sy0">:</span> <span class="kw2">true</span><span class="sy0">,</span>
                                        complete<span class="sy0">:</span> <span class="kw2">function</span> <span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
                                            <span class="co1">// select the current node</span>
                                            current.<span class="me1">select</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
                                            <span class="co1">// acquire the previous node</span>
                                            <span class="kw2">var</span> previous <span class="sy0">=</span> current.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'previous'</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
                                            <span class="co1">// if we haven't reached the starting node</span>
                                            <span class="kw1">if</span> <span class="br0">&#40;</span>previous <span class="sy0">!==</span> undefined<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                                                previous <span class="sy0">=</span> ns.$id<span class="br0">&#40;</span>previous<span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
                                                <span class="co1">// get the edge connecting these two nodes and animate it</span>
                                                <span class="kw2">var</span> e <span class="sy0">=</span> previous.<span class="me1">edgesWith</span><span class="br0">&#40;</span>current<span class="br0">&#41;</span><span class="sy0">;</span>
                                                e.<span class="me1">animate</span><span class="br0">&#40;</span><span class="br0">&#123;</span>
                                                    style<span class="sy0">:</span> <span class="br0">&#123;</span>lineColor<span class="sy0">:</span> <span class="st0">'#eae90f'</span><span class="sy0">,</span> width<span class="sy0">:</span> <span class="st0">'6'</span><span class="br0">&#125;</span><span class="sy0">,</span>
                                                    duration<span class="sy0">:</span> Math.<span class="me1">round</span><span class="br0">&#40;</span><span class="sy0">+</span>duration.<span class="me1">value</span> <span class="sy0">*</span> <span class="nu0">0.2</span><span class="br0">&#41;</span><span class="sy0">,</span>
                                                    queue<span class="sy0">:</span> <span class="kw2">true</span>
                                                <span class="br0">&#125;</span><span class="br0">&#41;</span>.<span class="me1">animate</span><span class="br0">&#40;</span><span class="br0">&#123;</span>
                                                    style<span class="sy0">:</span> <span class="br0">&#123;</span>lineColor<span class="sy0">:</span> <span class="st0">'green'</span><span class="sy0">,</span> width<span class="sy0">:</span> <span class="st0">'3'</span><span class="br0">&#125;</span><span class="sy0">,</span>
                                                    duration<span class="sy0">:</span> Math.<span class="me1">round</span><span class="br0">&#40;</span><span class="sy0">+</span>duration.<span class="me1">value</span> <span class="sy0">*</span> <span class="nu0">0.8</span><span class="br0">&#41;</span><span class="sy0">,</span>
                                                    queue<span class="sy0">:</span> <span class="kw2">true</span><span class="sy0">,</span>
&nbsp;
                                                    <span class="co1">// when the animation completes:</span>
                                                    <span class="co1">// select the edge and keep tracing backward</span>
                                                    complete<span class="sy0">:</span> <span class="kw2">function</span> <span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
                                                        e.<span class="me1">select</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                                                        traceBack<span class="br0">&#40;</span>previous<span class="br0">&#41;</span><span class="sy0">;</span>
                                                    <span class="br0">&#125;</span>
                                                <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                                            <span class="br0">&#125;</span>
                                            <span class="kw1">else</span> <span class="br0">&#123;</span>
                                                clearResult<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                                                ca.<span class="me1">add</span><span class="br0">&#40;</span>cy.$<span class="br0">&#40;</span><span class="st0">':selected'</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                                                caReLayout<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                                                ns.<span class="me1">removeData</span><span class="br0">&#40;</span><span class="st0">'previous'</span><span class="br0">&#41;</span><span class="sy0">;</span>
                                            <span class="br0">&#125;</span>
                                        <span class="br0">&#125;</span>
                                    <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                                <span class="br0">&#125;</span>
                            <span class="br0">&#125;</span>
                        <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                    <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                <span class="br0">&#125;</span>
                <span class="kw1">else</span> <span class="br0">&#123;</span>
                    <span class="co1">// the current edge</span>
                    <span class="kw2">var</span> edge <span class="sy0">=</span> edges<span class="br0">&#91;</span>i<span class="br0">&#93;</span><span class="sy0">;</span>
&nbsp;
                    <span class="co1">// get the weight of the target node</span>
                    <span class="kw2">var</span> node <span class="sy0">=</span> getTarget<span class="br0">&#40;</span>currentNode<span class="sy0">,</span> edge<span class="br0">&#41;</span><span class="sy0">;</span>
                    <span class="kw2">var</span> nodeWeight <span class="sy0">=</span> getWeight<span class="br0">&#40;</span>edge<span class="br0">&#41;</span> <span class="sy0">+</span> weight<span class="sy0">;</span>
&nbsp;
                    <span class="co1">// if the target node is not yet permanently labeled</span>
                    <span class="kw1">if</span> <span class="br0">&#40;</span>node.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'permanent'</span><span class="br0">&#41;</span> <span class="sy0">===</span> undefined<span class="br0">&#41;</span> <span class="br0">&#123;</span>
&nbsp;
                        <span class="co1">// animate this edge</span>
                        animateEdge<span class="br0">&#40;</span>edge<span class="sy0">,</span> <span class="kw2">function</span> <span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
&nbsp;
                            <span class="co1">// if the target node doesn't have a temporary label,</span>
                            <span class="co1">// or the new weight is lower than the current label</span>
                            <span class="co1">// update the label</span>
                            <span class="kw2">var</span> tempLabels <span class="sy0">=</span> node.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'temporary'</span><span class="br0">&#41;</span>.<span class="me1">concat</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                            <span class="kw1">if</span> <span class="br0">&#40;</span>tempLabels.<span class="me1">length</span> <span class="sy0">===</span> <span class="nu0">0</span> <span class="sy0">||</span> tempLabels<span class="br0">&#91;</span>tempLabels.<span class="me1">length</span> <span class="sy0">-</span> <span class="nu0">1</span><span class="br0">&#93;</span> <span class="sy0">&gt;</span> nodeWeight<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                                animateNode<span class="br0">&#40;</span>node<span class="sy0">,</span> <span class="kw2">function</span> <span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
                                    tempLabels.<span class="me1">push</span><span class="br0">&#40;</span>nodeWeight<span class="br0">&#41;</span><span class="sy0">;</span>
                                    node.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'temporary'</span><span class="sy0">,</span> tempLabels<span class="br0">&#41;</span><span class="sy0">;</span>
                                    node.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'previous'</span><span class="sy0">,</span> currentNode.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'id'</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                                <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                                animateLabel<span class="br0">&#40;</span>node<span class="sy0">,</span> <span class="kw2">function</span> <span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
                                    node.<span class="me1">style</span><span class="br0">&#40;</span><span class="br0">&#123;</span>backgroundColor<span class="sy0">:</span> <span class="st0">''</span><span class="sy0">,</span> width<span class="sy0">:</span> <span class="st0">''</span><span class="sy0">,</span> height<span class="sy0">:</span> <span class="st0">''</span><span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                                    edge.<span class="me1">removeStyle</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
                                    <span class="co1">// keep labelling...</span>
                                    addNextLabel<span class="br0">&#40;</span>currentNode<span class="sy0">,</span> edges<span class="sy0">,</span> i <span class="sy0">+</span> <span class="nu0">1</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
                                <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                            <span class="br0">&#125;</span>
                            <span class="kw1">else</span> <span class="br0">&#123;</span>
                                edge.<span class="me1">removeStyle</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                                addNextLabel<span class="br0">&#40;</span>currentNode<span class="sy0">,</span> edges<span class="sy0">,</span> i <span class="sy0">+</span> <span class="nu0">1</span><span class="br0">&#41;</span><span class="sy0">;</span>
                            <span class="br0">&#125;</span>
                        <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                    <span class="br0">&#125;</span>
                    <span class="co1">// skip this node if it has got a permanent label</span>
                    <span class="kw1">else</span> <span class="br0">&#123;</span>
                        addNextLabel<span class="br0">&#40;</span>currentNode<span class="sy0">,</span> edges<span class="sy0">,</span> i <span class="sy0">+</span> <span class="nu0">1</span><span class="br0">&#41;</span><span class="sy0">;</span>
                    <span class="br0">&#125;</span>
                <span class="br0">&#125;</span>
            <span class="br0">&#125;</span>
&nbsp;
            currentNode.<span class="me1">style</span><span class="br0">&#40;</span><span class="br0">&#123;</span>
                textBorderOpacity<span class="sy0">:</span> <span class="nu0">1</span><span class="sy0">,</span>
                textBorderWidth<span class="sy0">:</span> <span class="st0">'1px'</span><span class="sy0">,</span>
                textBorderStyle<span class="sy0">:</span> <span class="st0">'dashed'</span><span class="sy0">,</span>
                textBorderColor<span class="sy0">:</span> <span class="st0">'green'</span>
            <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            <span class="co1">// start the whole algorithm</span>
            animateNode<span class="br0">&#40;</span>currentNode<span class="sy0">,</span> <span class="kw2">function</span> <span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
                addNextLabel<span class="br0">&#40;</span>currentNode<span class="sy0">,</span> currentNode.<span class="me1">connectedEdges</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">,</span> <span class="nu0">0</span><span class="br0">&#41;</span><span class="sy0">;</span>
            <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="br0">&#125;</span>
        <span class="co1">// same story as the above, but without animation</span>
        <span class="co1">// looks nicer, no awful callbacks</span>
        <span class="kw1">else</span> <span class="br0">&#123;</span>
            <span class="kw1">while</span> <span class="br0">&#40;</span>target.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'permanent'</span><span class="br0">&#41;</span> <span class="sy0">===</span> undefined<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                <span class="kw2">var</span> edges <span class="sy0">=</span> currentNode.<span class="me1">connectedEdges</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                <span class="kw2">var</span> weight <span class="sy0">=</span> currentNode.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'permanent'</span><span class="br0">&#41;</span><span class="sy0">;</span>
                edges.<span class="me1">forEach</span><span class="br0">&#40;</span><span class="kw2">function</span> <span class="br0">&#40;</span>edge<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                    <span class="kw2">var</span> node <span class="sy0">=</span> getTarget<span class="br0">&#40;</span>currentNode<span class="sy0">,</span> edge<span class="br0">&#41;</span><span class="sy0">;</span>
                    <span class="kw2">var</span> nodeWeight <span class="sy0">=</span> getWeight<span class="br0">&#40;</span>edge<span class="br0">&#41;</span> <span class="sy0">+</span> weight<span class="sy0">;</span>
                    <span class="kw1">if</span> <span class="br0">&#40;</span>node.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'permanent'</span><span class="br0">&#41;</span> <span class="sy0">===</span> undefined<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                        <span class="kw2">var</span> tempLabels <span class="sy0">=</span> node.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'temporary'</span><span class="br0">&#41;</span>.<span class="me1">concat</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                        <span class="kw1">if</span> <span class="br0">&#40;</span>tempLabels.<span class="me1">length</span> <span class="sy0">===</span> <span class="nu0">0</span> <span class="sy0">||</span> tempLabels<span class="br0">&#91;</span>tempLabels.<span class="me1">length</span> <span class="sy0">-</span> <span class="nu0">1</span><span class="br0">&#93;</span> <span class="sy0">&gt;</span> nodeWeight<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                            tempLabels.<span class="me1">push</span><span class="br0">&#40;</span>nodeWeight<span class="br0">&#41;</span><span class="sy0">;</span>
                            node.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'temporary'</span><span class="sy0">,</span> tempLabels<span class="br0">&#41;</span><span class="sy0">;</span>
                            node.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'previous'</span><span class="sy0">,</span> currentNode.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'id'</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                        <span class="br0">&#125;</span>
                    <span class="br0">&#125;</span>
                <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                <span class="kw2">var</span> minW <span class="sy0">=</span> Infinity<span class="sy0">;</span>
                <span class="kw2">var</span> nextPermanent<span class="sy0">;</span>
                ns.<span class="me1">forEach</span><span class="br0">&#40;</span><span class="kw2">function</span> <span class="br0">&#40;</span>node<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                    <span class="kw2">var</span> tempLabels <span class="sy0">=</span> node.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'temporary'</span><span class="br0">&#41;</span><span class="sy0">;</span>
                    <span class="kw1">if</span> <span class="br0">&#40;</span>tempLabels.<span class="me1">length</span> <span class="sy0">&gt;</span> <span class="nu0">0</span> <span class="sy0">&amp;&amp;</span> node.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'permanent'</span><span class="br0">&#41;</span> <span class="sy0">===</span> undefined<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                        <span class="kw1">if</span> <span class="br0">&#40;</span>tempLabels<span class="br0">&#91;</span>tempLabels.<span class="me1">length</span> <span class="sy0">-</span> <span class="nu0">1</span><span class="br0">&#93;</span> <span class="sy0">&lt;</span> minW <span class="sy0">||</span> <span class="br0">&#40;</span>tempLabels<span class="br0">&#91;</span>tempLabels.<span class="me1">length</span> <span class="sy0">-</span> <span class="nu0">1</span><span class="br0">&#93;</span> <span class="sy0">===</span> minW <span class="sy0">&amp;&amp;</span> node.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'id'</span><span class="br0">&#41;</span> <span class="sy0">===</span> target.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'id'</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
                            minW <span class="sy0">=</span> tempLabels<span class="br0">&#91;</span>tempLabels.<span class="me1">length</span> <span class="sy0">-</span> <span class="nu0">1</span><span class="br0">&#93;</span><span class="sy0">;</span>
                            nextPermanent <span class="sy0">=</span> node<span class="sy0">;</span>
                        <span class="br0">&#125;</span>
                    <span class="br0">&#125;</span>
                <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                nextPermanent.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'permanent'</span><span class="sy0">,</span> minW<span class="br0">&#41;</span><span class="sy0">;</span>
                nextPermanent.<span class="me1">style</span><span class="br0">&#40;</span><span class="br0">&#123;</span>
                    textBorderOpacity<span class="sy0">:</span> <span class="nu0">1</span><span class="sy0">,</span>
                    textBorderWidth<span class="sy0">:</span> <span class="st0">'1px'</span><span class="sy0">,</span>
                    textBorderStyle<span class="sy0">:</span> <span class="st0">'dashed'</span><span class="sy0">,</span>
                    textBorderColor<span class="sy0">:</span> <span class="st0">'green'</span>
                <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                currentNode <span class="sy0">=</span> nextPermanent<span class="sy0">;</span>
            <span class="br0">&#125;</span>
            cy.<span class="me1">startBatch</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            <span class="kw2">var</span> previous <span class="sy0">=</span> currentNode.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'previous'</span><span class="br0">&#41;</span><span class="sy0">;</span>
            <span class="kw1">while</span> <span class="br0">&#40;</span>previous <span class="sy0">!==</span> undefined<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                currentNode.<span class="me1">select</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                currentNode.<span class="me1">edgesWith</span><span class="br0">&#40;</span>cy.$id<span class="br0">&#40;</span>previous<span class="br0">&#41;</span><span class="br0">&#41;</span>.<span class="me1">select</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                currentNode <span class="sy0">=</span> cy.$id<span class="br0">&#40;</span>previous<span class="br0">&#41;</span><span class="sy0">;</span>
                previous <span class="sy0">=</span> currentNode.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'previous'</span><span class="br0">&#41;</span><span class="sy0">;</span>
            <span class="br0">&#125;</span>
            currentNode.<span class="me1">select</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            cy.<span class="me1">endBatch</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            clearResult<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            ca.<span class="me1">add</span><span class="br0">&#40;</span>cy.$<span class="br0">&#40;</span><span class="st0">':selected'</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            caReLayout<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            ns.<span class="me1">removeData</span><span class="br0">&#40;</span><span class="st0">'previous'</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="br0">&#125;</span>
    <span class="br0">&#125;</span>
    <span class="coMULTI">/**
     * @function
     * @public
     * @return void
     * */</span>
    <span class="kw2">function</span> prim<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
        stopAnimation<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        clearCyStyle<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw2">var</span> root <span class="sy0">=</span> getCyStartNode<span class="br0">&#40;</span><span class="st0">&quot;Please enter the id of the starting node&quot;</span><span class="sy0">,</span> <span class="st0">&quot;1&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw1">if</span> <span class="br0">&#40;</span>root <span class="sy0">===</span> undefined<span class="br0">&#41;</span>
            root <span class="sy0">=</span> cy.<span class="me1">nodes</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span><span class="sy0">;</span>
        root.<span class="me1">select</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="coMULTI">/**
         * @function
         * @private
         * @return object
         * Get the edge of minimal weight connected to the selected nodes
         * */</span>
        <span class="kw2">var</span> getMinimalEdge <span class="sy0">=</span> <span class="kw2">function</span> <span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
            <span class="kw2">var</span> nodes <span class="sy0">=</span> cy.<span class="me1">nodes</span><span class="br0">&#40;</span><span class="st0">&quot;:selected&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            <span class="kw2">var</span> minWeight <span class="sy0">=</span> Infinity<span class="sy0">;</span>
            <span class="kw2">var</span> minEdge<span class="sy0">;</span>
            <span class="kw1">for</span> <span class="br0">&#40;</span><span class="kw2">var</span> i <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> i <span class="sy0">&lt;</span> nodes.<span class="me1">length</span><span class="sy0">;</span> i<span class="sy0">++</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
&nbsp;
                <span class="co1">// get all unused edges connected to this node</span>
                <span class="kw2">var</span> edges <span class="sy0">=</span> nodes<span class="br0">&#91;</span>i<span class="br0">&#93;</span>.<span class="me1">connectedEdges</span><span class="br0">&#40;</span><span class="st0">&quot;:unselected&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                <span class="kw1">for</span> <span class="br0">&#40;</span><span class="kw2">var</span> j <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> j <span class="sy0">&lt;</span> edges.<span class="me1">length</span><span class="sy0">;</span> j<span class="sy0">++</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
&nbsp;
                    <span class="co1">// its target node must not be in the tree</span>
                    <span class="kw1">if</span> <span class="br0">&#40;</span><span class="sy0">!</span>getTarget<span class="br0">&#40;</span>nodes<span class="br0">&#91;</span>i<span class="br0">&#93;</span><span class="sy0">,</span> edges<span class="br0">&#91;</span>j<span class="br0">&#93;</span><span class="br0">&#41;</span>.<span class="me1">selected</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
                        <span class="kw2">var</span> w <span class="sy0">=</span> getWeight<span class="br0">&#40;</span>edges<span class="br0">&#91;</span>j<span class="br0">&#93;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                        <span class="kw1">if</span> <span class="br0">&#40;</span>w <span class="sy0">&lt;</span> minWeight<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                            minWeight <span class="sy0">=</span> w<span class="sy0">;</span>
                            minEdge <span class="sy0">=</span> edges<span class="br0">&#91;</span>j<span class="br0">&#93;</span><span class="sy0">;</span>
                        <span class="br0">&#125;</span>
                    <span class="br0">&#125;</span>
                <span class="br0">&#125;</span>
            <span class="br0">&#125;</span>
            <span class="kw1">return</span> minEdge<span class="sy0">;</span>
        <span class="br0">&#125;</span><span class="sy0">;</span>
        <span class="kw2">var</span> tree <span class="sy0">=</span> <span class="kw2">new</span> LinkedList<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
        <span class="co1">//starting from a given node</span>
        tree.<span class="me1">add</span><span class="br0">&#40;</span>root<span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
        <span class="co1">// if there're still nodes that are not in the tree</span>
        <span class="kw1">while</span> <span class="br0">&#40;</span>cy.<span class="me1">nodes</span><span class="br0">&#40;</span><span class="st0">&quot;:unselected&quot;</span><span class="br0">&#41;</span>.<span class="me1">length</span> <span class="sy0">&gt;</span> <span class="nu0">0</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
&nbsp;
            <span class="co1">// Get the edge of minimal weight connected to the current tree</span>
            <span class="kw2">var</span> edge <span class="sy0">=</span> getMinimalEdge<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            edge.<span class="me1">select</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
            <span class="co1">// add this edge to the tree</span>
            tree.<span class="me1">add</span><span class="br0">&#40;</span>edge<span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
            <span class="co1">// add its target node to the tree</span>
            <span class="kw1">if</span> <span class="br0">&#40;</span>edge.<span class="me1">target</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">selected</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
                edge.<span class="me1">source</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">select</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                tree.<span class="me1">add</span><span class="br0">&#40;</span>edge.<span class="me1">source</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            <span class="br0">&#125;</span>
            <span class="kw1">else</span> <span class="br0">&#123;</span>
                edge.<span class="me1">target</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">select</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                tree.<span class="me1">add</span><span class="br0">&#40;</span>edge.<span class="me1">target</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            <span class="br0">&#125;</span>
        <span class="br0">&#125;</span>
        clearResult<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        ca.<span class="me1">add</span><span class="br0">&#40;</span>cy.$<span class="br0">&#40;</span><span class="st0">&quot;:selected&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        caReLayout<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        tree.<span class="me1">traverse</span><span class="br0">&#40;</span>animation.<span class="me1">checked</span><span class="sy0">,</span> <span class="kw2">true</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
    <span class="coMULTI">/**
     * @function
     * @public
     * @param {object} root
     * @return Array
     * */</span>
    <span class="kw2">function</span> localMinimalWeightCycle<span class="br0">&#40;</span>root<span class="br0">&#41;</span> <span class="br0">&#123;</span>
        <span class="kw2">var</span> minWeight <span class="sy0">=</span> Infinity<span class="sy0">;</span>
        <span class="kw2">var</span> path<span class="sy0">,</span> lastEdge<span class="sy0">,</span> current_node<span class="sy0">,</span> weight<span class="sy0">,</span> d<span class="sy0">,</span> distance<span class="sy0">;</span>
&nbsp;
        cy.<span class="me1">startBatch</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="co1">// Traverse the edges connected to this root node</span>
        root.<span class="me1">connectedEdges</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">forEach</span><span class="br0">&#40;</span><span class="kw2">function</span> <span class="br0">&#40;</span>edge<span class="br0">&#41;</span> <span class="br0">&#123;</span>
&nbsp;
            <span class="co1">// Select an edge and get its weight and the node which it connected to</span>
            current_node <span class="sy0">=</span> getTarget<span class="br0">&#40;</span>root<span class="sy0">,</span> edge<span class="br0">&#41;</span><span class="sy0">;</span>
            weight <span class="sy0">=</span> getWeight<span class="br0">&#40;</span>edge<span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
            <span class="co1">// Remove it</span>
            cy.<span class="me1">remove</span><span class="br0">&#40;</span>edge<span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
            <span class="co1">// Find the minimal weight connector connecting these two nodes</span>
            <span class="co1">// If found, then a cycle is established after adding the edge back</span>
            <span class="co1">// Dijkstra method:</span>
            d <span class="sy0">=</span> cy.<span class="me1">elements</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">dijkstra</span><span class="br0">&#40;</span>root<span class="sy0">,</span> getWeight<span class="br0">&#41;</span><span class="sy0">;</span>
            distance <span class="sy0">=</span> d.<span class="me1">distanceTo</span><span class="br0">&#40;</span>current_node<span class="br0">&#41;</span> <span class="sy0">+</span> weight<span class="sy0">;</span>
&nbsp;
            <span class="co1">// Find the minimal weight cycle starting from root node</span>
            <span class="kw1">if</span> <span class="br0">&#40;</span>distance <span class="sy0">&lt;</span> minWeight<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                minWeight <span class="sy0">=</span> distance<span class="sy0">;</span>
                path <span class="sy0">=</span> d.<span class="me1">pathTo</span><span class="br0">&#40;</span>current_node<span class="br0">&#41;</span><span class="sy0">;</span>
                lastEdge <span class="sy0">=</span> edge<span class="sy0">;</span>
            <span class="br0">&#125;</span>
            cy.<span class="me1">add</span><span class="br0">&#40;</span>edge<span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        cy.<span class="me1">endBatch</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw1">return</span> <span class="br0">&#91;</span>minWeight<span class="sy0">,</span> path<span class="sy0">,</span> lastEdge<span class="br0">&#93;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
&nbsp;
    <span class="coMULTI">/**
     * Find the minimal weight cycle
     * local or global
     * @function
     * @public
     * @return void
     * */</span>
    <span class="kw2">function</span> minimalWeightCycle<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
        stopAnimation<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw2">var</span> root <span class="sy0">=</span> getCyStartNode<span class="br0">&#40;</span><span class="st0">&quot;Please enter id of the starting node.<span class="es0">\n</span>If you want apply this algorithm too all nodes and get the best one, leave it blank&quot;</span><span class="sy0">,</span> <span class="st0">&quot;&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw2">var</span> results<span class="sy0">;</span>
        clearCyStyle<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="co1">// the global minimal weight cycle</span>
        <span class="kw1">if</span> <span class="br0">&#40;</span>root <span class="sy0">===</span> undefined<span class="br0">&#41;</span> <span class="br0">&#123;</span>
            <span class="co1">// Find the global minimal weight cycle</span>
            <span class="kw2">var</span> globalMinWeight <span class="sy0">=</span> Infinity<span class="sy0">;</span>
            <span class="kw2">var</span> globalPath<span class="sy0">;</span>
            <span class="kw2">var</span> globalE<span class="sy0">;</span>
&nbsp;
            <span class="co1">// Traverse every node, finding the minimal weight cycle starting from each node</span>
            <span class="co1">// thus finding the minimal one from these local minimal cycles</span>
            cy.<span class="me1">nodes</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">forEach</span><span class="br0">&#40;</span><span class="kw2">function</span> <span class="br0">&#40;</span>root<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                results <span class="sy0">=</span> localMinimalWeightCycle<span class="br0">&#40;</span>root<span class="br0">&#41;</span><span class="sy0">;</span>
                <span class="kw1">if</span> <span class="br0">&#40;</span>results<span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span> <span class="sy0">&lt;</span> globalMinWeight<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                    globalMinWeight <span class="sy0">=</span> results<span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span><span class="sy0">;</span>
&nbsp;
                    <span class="co1">// Record the path</span>
                    globalPath <span class="sy0">=</span> results<span class="br0">&#91;</span><span class="nu0">1</span><span class="br0">&#93;</span><span class="sy0">;</span>
                    globalE <span class="sy0">=</span> results<span class="br0">&#91;</span><span class="nu0">2</span><span class="br0">&#93;</span><span class="sy0">;</span>
                <span class="br0">&#125;</span>
            <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            clearResult<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
            <span class="co1">// select the cycle</span>
            globalPath.<span class="me1">select</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            globalE.<span class="me1">select</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            ca.<span class="me1">add</span><span class="br0">&#40;</span>globalPath<span class="br0">&#41;</span><span class="sy0">;</span>
            ca.<span class="me1">add</span><span class="br0">&#40;</span>globalE<span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="br0">&#125;</span>
        <span class="co1">// The local one</span>
        <span class="kw1">else</span> <span class="br0">&#123;</span>
            results <span class="sy0">=</span> localMinimalWeightCycle<span class="br0">&#40;</span>root<span class="br0">&#41;</span><span class="sy0">;</span>
            clearResult<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            results<span class="br0">&#91;</span><span class="nu0">1</span><span class="br0">&#93;</span>.<span class="me1">select</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            results<span class="br0">&#91;</span><span class="nu0">2</span><span class="br0">&#93;</span>.<span class="me1">select</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            ca.<span class="me1">add</span><span class="br0">&#40;</span>results<span class="br0">&#91;</span><span class="nu0">1</span><span class="br0">&#93;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            ca.<span class="me1">add</span><span class="br0">&#40;</span>results<span class="br0">&#91;</span><span class="nu0">2</span><span class="br0">&#93;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="br0">&#125;</span>
        caReLayout<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
    <span class="coMULTI">/**
     * The global nearest neighbor algorithm
     * find that of minimal weight by performing the algorithm on every node
     * @function
     * @public
     * @return void
     * */</span>
    <span class="kw2">function</span> nearestNeighbor<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
        stopAnimation<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw2">var</span> root <span class="sy0">=</span> getCyStartNode<span class="br0">&#40;</span><span class="st0">&quot;Please enter id of the starting node.<span class="es0">\n</span>If you want apply this algorithm too all nodes and get the best one, leave it blank&quot;</span><span class="sy0">,</span> <span class="st0">&quot;&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        clearCyStyle<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw2">var</span> results<span class="sy0">;</span>
        <span class="kw1">if</span> <span class="br0">&#40;</span>root <span class="sy0">===</span> undefined<span class="br0">&#41;</span> <span class="br0">&#123;</span>
            <span class="kw2">var</span> minWeight <span class="sy0">=</span> Infinity<span class="sy0">;</span>
            <span class="kw2">var</span> minElements<span class="sy0">;</span>
            <span class="kw2">var</span> minPath<span class="sy0">;</span>
            cy.<span class="me1">startBatch</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            cy.<span class="me1">nodes</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">forEach</span><span class="br0">&#40;</span><span class="kw2">function</span> <span class="br0">&#40;</span>currentNode<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                results <span class="sy0">=</span> nearestNeighborAlgorithm<span class="br0">&#40;</span>currentNode<span class="br0">&#41;</span><span class="sy0">;</span>
                <span class="kw2">var</span> sumWeight <span class="sy0">=</span> results<span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span><span class="sy0">;</span>
                <span class="kw1">if</span> <span class="br0">&#40;</span>sumWeight <span class="sy0">&lt;=</span> minWeight<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                    minElements <span class="sy0">=</span> cy.$<span class="br0">&#40;</span><span class="st0">':selected'</span><span class="br0">&#41;</span><span class="sy0">;</span>
                    minWeight <span class="sy0">=</span> sumWeight<span class="sy0">;</span>
                    minPath <span class="sy0">=</span> results<span class="br0">&#91;</span><span class="nu0">1</span><span class="br0">&#93;</span><span class="sy0">;</span>
                <span class="br0">&#125;</span>
                cy.<span class="me1">elements</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">unselect</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            clearResult<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            ca.<span class="me1">add</span><span class="br0">&#40;</span>minElements<span class="br0">&#41;</span><span class="sy0">;</span>
            minElements.<span class="me1">select</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            cy.<span class="me1">endBatch</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            minPath.<span class="me1">traverse</span><span class="br0">&#40;</span>animation.<span class="me1">checked</span><span class="sy0">,</span> <span class="kw2">true</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="br0">&#125;</span>
        <span class="kw1">else</span> <span class="br0">&#123;</span>
            results <span class="sy0">=</span> nearestNeighborAlgorithm<span class="br0">&#40;</span>root<span class="br0">&#41;</span><span class="sy0">;</span>
            clearResult<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            ca.<span class="me1">add</span><span class="br0">&#40;</span>cy.$<span class="br0">&#40;</span><span class="st0">':selected'</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            results<span class="br0">&#91;</span><span class="nu0">1</span><span class="br0">&#93;</span>.<span class="me1">traverse</span><span class="br0">&#40;</span>animation.<span class="me1">checked</span><span class="sy0">,</span> <span class="kw2">true</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="br0">&#125;</span>
        caReLayout<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
    <span class="coMULTI">/**
     * The nearest neighbor algorithm starting from a given node
     * @function
     * @public
     * @param {object} root
     * @return Array
     * */</span>
    <span class="kw2">function</span> nearestNeighborAlgorithm<span class="br0">&#40;</span>root<span class="br0">&#41;</span> <span class="br0">&#123;</span>
        <span class="kw2">var</span> currentNode <span class="sy0">=</span> root<span class="sy0">;</span>
        cy.<span class="me1">startBatch</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="coMULTI">/**
         * @function
         * @private
         * @param {object} node
         * @return {object}
         * returns the edge of minimal weight connected to this node
         * */</span>
        <span class="kw2">var</span> getMinimalEdge <span class="sy0">=</span> <span class="kw2">function</span> <span class="br0">&#40;</span>node<span class="br0">&#41;</span> <span class="br0">&#123;</span>
            <span class="kw2">var</span> minWeight <span class="sy0">=</span> Infinity<span class="sy0">;</span>
            <span class="kw2">var</span> edge <span class="sy0">=</span> undefined<span class="sy0">;</span>
&nbsp;
            <span class="co1">// Traverse all the adjacent edges whose target node is not selected and find the minimal weight one</span>
            node.<span class="me1">connectedEdges</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">forEach</span><span class="br0">&#40;</span><span class="kw2">function</span> <span class="br0">&#40;</span>e<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                <span class="co1">// Skip this edge if its target node have been already visited</span>
                <span class="kw1">if</span> <span class="br0">&#40;</span><span class="sy0">!</span>getTarget<span class="br0">&#40;</span>node<span class="sy0">,</span> e<span class="br0">&#41;</span>.<span class="me1">selected</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
                    <span class="kw2">var</span> weight <span class="sy0">=</span> getWeight<span class="br0">&#40;</span>e<span class="br0">&#41;</span><span class="sy0">;</span>
                    <span class="kw1">if</span> <span class="br0">&#40;</span>weight <span class="sy0">&lt;</span> minWeight<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                        minWeight <span class="sy0">=</span> weight<span class="sy0">;</span>
                        edge <span class="sy0">=</span> e<span class="sy0">;</span>
                    <span class="br0">&#125;</span>
                <span class="br0">&#125;</span>
            <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            <span class="kw1">return</span> edge<span class="sy0">;</span>
        <span class="br0">&#125;</span><span class="sy0">;</span>
&nbsp;
        <span class="co1">// Iteratively select the edge of minimal weight and the node which it connects</span>
        <span class="kw2">var</span> edge <span class="sy0">=</span> getMinimalEdge<span class="br0">&#40;</span>currentNode<span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw2">var</span> totalWeight <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span>
        <span class="kw2">var</span> numOfNodes <span class="sy0">=</span> <span class="nu0">1</span><span class="sy0">;</span>
        <span class="kw2">var</span> path <span class="sy0">=</span> <span class="kw2">new</span> LinkedList<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        path.<span class="me1">add</span><span class="br0">&#40;</span>currentNode<span class="br0">&#41;</span><span class="sy0">;</span>
        currentNode.<span class="me1">select</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
        <span class="co1">// Doing until the number of connected unselected edges of the destination node is 0</span>
        <span class="co1">// which means we are stuck or we have visited all nodes</span>
        <span class="kw1">while</span> <span class="br0">&#40;</span>edge <span class="sy0">!==</span> undefined<span class="br0">&#41;</span> <span class="br0">&#123;</span>
            numOfNodes <span class="sy0">+=</span> <span class="nu0">1</span><span class="sy0">;</span>
            totalWeight <span class="sy0">+=</span> getWeight<span class="br0">&#40;</span>edge<span class="br0">&#41;</span><span class="sy0">;</span>
            currentNode <span class="sy0">=</span> getTarget<span class="br0">&#40;</span>currentNode<span class="sy0">,</span> edge<span class="br0">&#41;</span><span class="sy0">;</span>
            path.<span class="me1">add</span><span class="br0">&#40;</span>edge<span class="br0">&#41;</span><span class="sy0">;</span>
            path.<span class="me1">add</span><span class="br0">&#40;</span>currentNode<span class="br0">&#41;</span><span class="sy0">;</span>
            edge.<span class="me1">select</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            currentNode.<span class="me1">select</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            edge <span class="sy0">=</span> getMinimalEdge<span class="br0">&#40;</span>currentNode<span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="br0">&#125;</span>
&nbsp;
        <span class="co1">// get the edge connecting the last node and the first node</span>
        <span class="co1">// Such edge must exist if the graph is complete</span>
        <span class="kw2">var</span> lastEdge <span class="sy0">=</span> cy.<span class="me1">edges</span><span class="br0">&#40;</span><span class="st0">&quot;[id ^='&quot;</span> <span class="sy0">+</span> root.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'id'</span><span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">'-'</span> <span class="sy0">+</span> currentNode.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'id'</span><span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">&quot;-']&quot;</span><span class="br0">&#41;</span>
            .<span class="me1">union</span><span class="br0">&#40;</span>cy.<span class="me1">edges</span><span class="br0">&#40;</span><span class="st0">&quot;[id ^='&quot;</span> <span class="sy0">+</span> currentNode.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'id'</span><span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">'-'</span> <span class="sy0">+</span> root.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'id'</span><span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">&quot;-']&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
        <span class="co1">// if it does not exist</span>
        <span class="co1">// apply a very high weight to this solution</span>
        <span class="co1">// in case other solution might be complete (therefore better than this one)</span>
        <span class="kw1">if</span> <span class="br0">&#40;</span>lastEdge.<span class="me1">length</span> <span class="sy0">===</span> <span class="nu0">0</span><span class="br0">&#41;</span>
            totalWeight <span class="sy0">+=</span> Math.<span class="me1">pow</span><span class="br0">&#40;</span><span class="nu0">2</span><span class="sy0">,</span> <span class="nu0">32</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw1">else</span> <span class="br0">&#123;</span>
            lastEdge<span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span>.<span class="me1">select</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            path.<span class="me1">add</span><span class="br0">&#40;</span>lastEdge<span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="br0">&#125;</span>
        path.<span class="me1">add</span><span class="br0">&#40;</span>root<span class="br0">&#41;</span><span class="sy0">;</span>
        cy.<span class="me1">endBatch</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="co1">// If not all nodes are visited, give this solution a very high weight</span>
        <span class="kw1">return</span> <span class="br0">&#91;</span>totalWeight <span class="sy0">+</span> <span class="br0">&#40;</span>cy.<span class="me1">nodes</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">length</span> <span class="sy0">-</span> numOfNodes<span class="br0">&#41;</span> <span class="sy0">*</span> Math.<span class="me1">pow</span><span class="br0">&#40;</span><span class="nu0">2</span><span class="sy0">,</span> <span class="nu0">32</span><span class="br0">&#41;</span><span class="sy0">,</span> path<span class="br0">&#93;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
    <span class="coMULTI">/**
     * @function
     * @public
     * @return boolean
     * check whether the graph is connected by performing breadth first search
     * */</span>
    <span class="kw2">function</span> isConnected<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
        <span class="kw2">var</span> path <span class="sy0">=</span> cy.<span class="me1">elements</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">bfs</span><span class="br0">&#40;</span>cy.<span class="me1">nodes</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span><span class="br0">&#41;</span>.<span class="me1">path</span><span class="sy0">;</span>
        <span class="kw1">return</span> path.<span class="me1">nodes</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">length</span> <span class="sy0">===</span> cy.<span class="me1">nodes</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">length</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
    <span class="coMULTI">/**
     * js implementation of a single linked list
     * @typedef LinkedListNode
     * @type {object}
     * @property cargo
     * @property {LinkedListNode} next
     * */</span>
    <span class="coMULTI">/**
     * @typedef LinkedList
     * @type {object}
     * @property {LinkedListNode} head
     * @property {int} length
     * @property {function} getTail
     * @property {function} add
     * @property {function} addNode
     * @property {function} traverse
     * */</span>
&nbsp;
    <span class="coMULTI">/**
     * @constructor
     * @param cargo
     * @param {LinkedListNode} next
     * */</span>
    <span class="kw2">function</span> LinkedListNode<span class="br0">&#40;</span>cargo<span class="sy0">,</span> next<span class="br0">&#41;</span> <span class="br0">&#123;</span>
        <span class="kw1">this</span>.<span class="me1">cargo</span> <span class="sy0">=</span> cargo<span class="sy0">;</span>
        <span class="kw1">this</span>.<span class="me1">next</span> <span class="sy0">=</span> next<span class="sy0">;</span>
    <span class="br0">&#125;</span>
    <span class="coMULTI">/**
     * @constructor
     * */</span>
    <span class="kw2">function</span> LinkedList<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
        <span class="coMULTI">/**
         * @type {LinkedListNode}
         * @public
         * */</span>
        <span class="kw1">this</span>.<span class="me1">head</span> <span class="sy0">=</span> <span class="kw2">null</span><span class="sy0">;</span>
        <span class="coMULTI">/**
         * @type {int}
         * @public
         * */</span>
        <span class="kw1">this</span>.<span class="me1">length</span> <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span>
        <span class="coMULTI">/**
         * @public
         * @function
         * Get the last node of the linked list
         * */</span>
        <span class="kw1">this</span>.<span class="me1">getTail</span> <span class="sy0">=</span> <span class="kw2">function</span> <span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
            <span class="kw2">var</span> currentNode <span class="sy0">=</span> <span class="kw1">this</span>.<span class="me1">head</span><span class="sy0">;</span>
            <span class="kw1">while</span> <span class="br0">&#40;</span>currentNode.<span class="me1">next</span> <span class="sy0">!==</span> <span class="kw2">null</span><span class="br0">&#41;</span>
                currentNode <span class="sy0">=</span> currentNode.<span class="me1">next</span><span class="sy0">;</span>
            <span class="kw1">return</span> currentNode<span class="sy0">;</span>
        <span class="br0">&#125;</span><span class="sy0">;</span>
        <span class="coMULTI">/**
         * @public
         * @function
         * @param cargo
         * add a cargo
         * */</span>
        <span class="kw1">this</span>.<span class="me1">add</span> <span class="sy0">=</span> <span class="kw2">function</span> <span class="br0">&#40;</span>cargo<span class="br0">&#41;</span> <span class="br0">&#123;</span>
            <span class="kw1">if</span> <span class="br0">&#40;</span><span class="kw1">this</span>.<span class="me1">length</span> <span class="sy0">===</span> <span class="nu0">0</span><span class="br0">&#41;</span>
                <span class="kw1">this</span>.<span class="me1">head</span> <span class="sy0">=</span> <span class="kw2">new</span> LinkedListNode<span class="br0">&#40;</span>cargo<span class="sy0">,</span> <span class="kw2">null</span><span class="br0">&#41;</span><span class="sy0">;</span>
            <span class="kw1">else</span>
                <span class="kw1">this</span>.<span class="me1">getTail</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">next</span> <span class="sy0">=</span> <span class="kw2">new</span> LinkedListNode<span class="br0">&#40;</span>cargo<span class="sy0">,</span> <span class="kw2">null</span><span class="br0">&#41;</span><span class="sy0">;</span>
            <span class="kw1">this</span>.<span class="me1">length</span> <span class="sy0">+=</span> <span class="nu0">1</span><span class="sy0">;</span>
        <span class="br0">&#125;</span><span class="sy0">;</span>
        <span class="coMULTI">/**
         * @function
         * @param {LinkedListNode} node
         * @public
         * add a node
         * */</span>
        <span class="kw1">this</span>.<span class="me1">addNode</span> <span class="sy0">=</span> <span class="kw2">function</span> <span class="br0">&#40;</span>node<span class="br0">&#41;</span> <span class="br0">&#123;</span>
            <span class="kw1">if</span> <span class="br0">&#40;</span><span class="kw1">this</span>.<span class="me1">length</span> <span class="sy0">===</span> <span class="nu0">0</span><span class="br0">&#41;</span>
                <span class="kw1">this</span>.<span class="me1">head</span> <span class="sy0">=</span> node<span class="sy0">;</span>
            <span class="kw1">else</span>
                <span class="kw1">this</span>.<span class="me1">getTail</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">next</span> <span class="sy0">=</span> node<span class="sy0">;</span>
            <span class="kw1">this</span>.<span class="me1">length</span> <span class="sy0">+=</span> <span class="nu0">1</span><span class="sy0">;</span>
        <span class="br0">&#125;</span><span class="sy0">;</span>
        <span class="coMULTI">/**
         * @public
         * @function
         * @param {function} func
         * search a specific node using user defined function
         * */</span>
        <span class="kw1">this</span>.<span class="me1">search</span> <span class="sy0">=</span> <span class="kw2">function</span> <span class="br0">&#40;</span>func<span class="br0">&#41;</span> <span class="br0">&#123;</span>
            <span class="kw2">var</span> currentNode <span class="sy0">=</span> <span class="kw1">this</span>.<span class="me1">head</span><span class="sy0">;</span>
            <span class="kw1">while</span> <span class="br0">&#40;</span>currentNode <span class="sy0">!==</span> <span class="kw2">null</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
                <span class="kw1">if</span> <span class="br0">&#40;</span>func<span class="br0">&#40;</span>currentNode.<span class="me1">cargo</span><span class="br0">&#41;</span><span class="br0">&#41;</span>
                    <span class="kw1">return</span> currentNode<span class="sy0">;</span>
                currentNode <span class="sy0">=</span> currentNode.<span class="me1">next</span><span class="sy0">;</span>
            <span class="br0">&#125;</span>
            <span class="kw1">return</span> <span class="kw2">null</span><span class="sy0">;</span>
        <span class="br0">&#125;</span><span class="sy0">;</span>
        <span class="coMULTI">/**
         * @public
         * @function
         * @param {boolean} animate
         * whether or not to animate
         * @param {boolean} trace
         * whether or not to record the path
         * traverse the linked list, with visualizations on the graph,
         * assuming each cargo is either a node or an edge
         * */</span>
        <span class="kw1">this</span>.<span class="me1">traverse</span> <span class="sy0">=</span> <span class="kw2">function</span> <span class="br0">&#40;</span>animate<span class="sy0">,</span> trace<span class="br0">&#41;</span> <span class="br0">&#123;</span>
            <span class="kw2">var</span> currentNode <span class="sy0">=</span> <span class="kw1">this</span>.<span class="me1">head</span><span class="sy0">;</span>
            <span class="kw2">var</span> counter <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span>
            <span class="kw1">if</span> <span class="br0">&#40;</span>trace<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                <span class="kw2">var</span> path_string <span class="sy0">=</span> <span class="st0">''</span><span class="sy0">;</span>
                <span class="kw1">while</span> <span class="br0">&#40;</span>currentNode <span class="sy0">!==</span> <span class="kw2">null</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
                    <span class="kw2">var</span> currentElement <span class="sy0">=</span> currentNode.<span class="me1">cargo</span><span class="sy0">;</span>
                    <span class="kw1">if</span> <span class="br0">&#40;</span>currentElement.<span class="me1">isNode</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span>
                        path_string <span class="sy0">+=</span> <span class="st0">'&lt;span class=&quot;normal&quot; id=&quot;n'</span> <span class="sy0">+</span> counter <span class="sy0">+</span> <span class="st0">'&quot;&gt;'</span> <span class="sy0">+</span> currentElement.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'id'</span><span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">'&lt;/span&gt;'</span><span class="sy0">;</span>
                    <span class="kw1">else</span>
                        path_string <span class="sy0">+=</span> <span class="st0">'&lt;span class=&quot;normal&quot; id=&quot;n'</span> <span class="sy0">+</span> counter <span class="sy0">+</span> <span class="st0">'&quot;&gt; → &lt;/span&gt;'</span><span class="sy0">;</span>
                    counter <span class="sy0">+=</span> <span class="nu0">1</span><span class="sy0">;</span>
                    currentNode <span class="sy0">=</span> currentNode.<span class="me1">next</span><span class="sy0">;</span>
                <span class="br0">&#125;</span>
                document.<span class="me1">getElementById</span><span class="br0">&#40;</span><span class="st0">'path'</span><span class="br0">&#41;</span>.<span class="me1">innerHTML</span> <span class="sy0">=</span> path_string<span class="sy0">;</span>
            <span class="br0">&#125;</span>
            <span class="kw1">if</span> <span class="br0">&#40;</span>animate<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                animationFlag <span class="sy0">=</span> <span class="kw2">true</span><span class="sy0">;</span>
                currentNode <span class="sy0">=</span> <span class="kw1">this</span>.<span class="me1">head</span><span class="sy0">;</span>
                counter <span class="sy0">=</span> <span class="nu0">1</span><span class="sy0">;</span>
                <span class="coMULTI">/**
                 * @function
                 * @private
                 * @param {LinkedListNode} node
                 * animate nodes and edges by the order of addition into the linekd list
                 * */</span>
                <span class="kw2">var</span> animation <span class="sy0">=</span> <span class="kw2">function</span> <span class="br0">&#40;</span>node<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                    <span class="kw1">if</span> <span class="br0">&#40;</span>node.<span class="me1">cargo</span>.<span class="me1">isNode</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
                        node.<span class="me1">cargo</span>.<span class="me1">animate</span><span class="br0">&#40;</span><span class="br0">&#123;</span>
                            style<span class="sy0">:</span> <span class="br0">&#123;</span>backgroundColor<span class="sy0">:</span> <span class="st0">'#00f1f1'</span><span class="sy0">,</span> width<span class="sy0">:</span> <span class="st0">'30px'</span><span class="sy0">,</span> height<span class="sy0">:</span> <span class="st0">'30px'</span><span class="br0">&#125;</span><span class="sy0">,</span>
                            duration<span class="sy0">:</span> Math.<span class="me1">round</span><span class="br0">&#40;</span><span class="sy0">+</span>duration.<span class="me1">value</span> <span class="sy0">*</span> <span class="nu0">0.1</span><span class="br0">&#41;</span>
                        <span class="br0">&#125;</span><span class="br0">&#41;</span>.<span class="me1">animate</span><span class="br0">&#40;</span><span class="br0">&#123;</span>
                            style<span class="sy0">:</span> <span class="br0">&#123;</span>backgroundColor<span class="sy0">:</span> <span class="st0">'#de4400'</span><span class="sy0">,</span> width<span class="sy0">:</span> <span class="st0">'20px'</span><span class="sy0">,</span> height<span class="sy0">:</span> <span class="st0">'20px'</span><span class="br0">&#125;</span><span class="sy0">,</span>
                            duration<span class="sy0">:</span> Math.<span class="me1">round</span><span class="br0">&#40;</span><span class="sy0">+</span>duration.<span class="me1">value</span> <span class="sy0">*</span> <span class="nu0">0.4</span><span class="br0">&#41;</span><span class="sy0">,</span>
                            complete<span class="sy0">:</span> <span class="kw2">function</span> <span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
&nbsp;
                                <span class="co1">// if the global flag is set to false</span>
                                <span class="co1">// stop the animation</span>
                                <span class="kw1">if</span> <span class="br0">&#40;</span><span class="sy0">!</span>animationFlag<span class="br0">&#41;</span>
                                    <span class="kw1">return</span><span class="sy0">;</span>
&nbsp;
                                <span class="co1">// animate next node if it exists</span>
                                <span class="kw1">if</span> <span class="br0">&#40;</span>node.<span class="me1">next</span> <span class="sy0">!==</span> <span class="kw2">null</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
                                    <span class="kw1">if</span> <span class="br0">&#40;</span>trace<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                                        <span class="co1">// update the tracer</span>
                                        <span class="co1">// track the animation by applying additional CSS to elements</span>
                                        document.<span class="me1">getElementById</span><span class="br0">&#40;</span><span class="st0">'n'</span> <span class="sy0">+</span> counter<span class="br0">&#41;</span>.<span class="me1">className</span> <span class="sy0">=</span> <span class="st0">'current'</span><span class="sy0">;</span>
                                        document.<span class="me1">getElementById</span><span class="br0">&#40;</span><span class="st0">'n'</span> <span class="sy0">+</span> <span class="br0">&#40;</span>counter <span class="sy0">-</span> <span class="nu0">1</span><span class="br0">&#41;</span><span class="br0">&#41;</span>.<span class="me1">className</span> <span class="sy0">=</span> <span class="st0">'normal'</span><span class="sy0">;</span>
                                        counter <span class="sy0">+=</span> <span class="nu0">1</span><span class="sy0">;</span>
                                    <span class="br0">&#125;</span>
                                    animation<span class="br0">&#40;</span>node.<span class="me1">next</span><span class="br0">&#41;</span><span class="sy0">;</span>
                                <span class="br0">&#125;</span>
                            <span class="br0">&#125;</span>
                        <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                    <span class="br0">&#125;</span>
                    <span class="kw1">else</span> <span class="br0">&#123;</span>
                        node.<span class="me1">cargo</span>.<span class="me1">animate</span><span class="br0">&#40;</span><span class="br0">&#123;</span>
                            style<span class="sy0">:</span> <span class="br0">&#123;</span>lineColor<span class="sy0">:</span> <span class="st0">'#00f1f1'</span><span class="sy0">,</span> width<span class="sy0">:</span> <span class="st0">'6'</span><span class="br0">&#125;</span><span class="sy0">,</span>
                            duration<span class="sy0">:</span> Math.<span class="me1">round</span><span class="br0">&#40;</span><span class="sy0">+</span>duration.<span class="me1">value</span> <span class="sy0">*</span> <span class="nu0">0.2</span><span class="br0">&#41;</span>
                        <span class="br0">&#125;</span><span class="br0">&#41;</span>.<span class="me1">animate</span><span class="br0">&#40;</span><span class="br0">&#123;</span>
                            style<span class="sy0">:</span> <span class="br0">&#123;</span>lineColor<span class="sy0">:</span> <span class="st0">'#de4400'</span><span class="sy0">,</span> width<span class="sy0">:</span> <span class="st0">'3'</span><span class="br0">&#125;</span><span class="sy0">,</span>
                            duration<span class="sy0">:</span> Math.<span class="me1">round</span><span class="br0">&#40;</span><span class="sy0">+</span>duration.<span class="me1">value</span> <span class="sy0">*</span> <span class="nu0">0.8</span><span class="br0">&#41;</span><span class="sy0">,</span>
                            complete<span class="sy0">:</span> <span class="kw2">function</span> <span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
&nbsp;
                                <span class="co1">// if the global flag is set to false</span>
                                <span class="co1">// stop the animation</span>
                                <span class="kw1">if</span> <span class="br0">&#40;</span><span class="sy0">!</span>animationFlag<span class="br0">&#41;</span>
                                    <span class="kw1">return</span><span class="sy0">;</span>
&nbsp;
                                <span class="co1">// animate next node if it exists</span>
                                <span class="kw1">if</span> <span class="br0">&#40;</span>node.<span class="me1">next</span> <span class="sy0">!==</span> <span class="kw2">null</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
&nbsp;
                                    <span class="co1">// update the tracer</span>
                                    <span class="kw1">if</span> <span class="br0">&#40;</span>trace<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                                        document.<span class="me1">getElementById</span><span class="br0">&#40;</span><span class="st0">'n'</span> <span class="sy0">+</span> counter<span class="br0">&#41;</span>.<span class="me1">className</span> <span class="sy0">=</span> <span class="st0">'current'</span><span class="sy0">;</span>
                                        document.<span class="me1">getElementById</span><span class="br0">&#40;</span><span class="st0">'n'</span> <span class="sy0">+</span> <span class="br0">&#40;</span>counter <span class="sy0">-</span> <span class="nu0">1</span><span class="br0">&#41;</span><span class="br0">&#41;</span>.<span class="me1">className</span> <span class="sy0">=</span> <span class="st0">'normal'</span><span class="sy0">;</span>
                                        counter <span class="sy0">+=</span> <span class="nu0">1</span><span class="sy0">;</span>
                                    <span class="br0">&#125;</span>
                                    animation<span class="br0">&#40;</span>node.<span class="me1">next</span><span class="br0">&#41;</span><span class="sy0">;</span>
                                <span class="br0">&#125;</span>
                            <span class="br0">&#125;</span>
                        <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                    <span class="br0">&#125;</span>
                <span class="br0">&#125;</span><span class="sy0">;</span>
                <span class="kw1">if</span> <span class="br0">&#40;</span>trace<span class="br0">&#41;</span>
                    document.<span class="me1">getElementById</span><span class="br0">&#40;</span><span class="st0">'n0'</span><span class="br0">&#41;</span>.<span class="me1">className</span> <span class="sy0">=</span> <span class="st0">'current'</span><span class="sy0">;</span>
                animation<span class="br0">&#40;</span>currentNode<span class="br0">&#41;</span><span class="sy0">;</span>
            <span class="br0">&#125;</span>
        <span class="br0">&#125;</span>
    <span class="br0">&#125;</span>
    <span class="coMULTI">/**
     * @function
     * @public
     * @return void
     * see traceEulerianCycle()
     * */</span>
    <span class="kw2">function</span> eulerianCycle<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
&nbsp;
        <span class="co1">// first check if this graph is connected</span>
        stopAnimation<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw1">if</span> <span class="br0">&#40;</span><span class="sy0">!</span>isConnected<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span>
            <span class="kw1">return</span> <span class="kw3">alert</span><span class="br0">&#40;</span><span class="st0">'This graph is not connected'</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
        <span class="co1">// then check whether there're none or two vertices of odd degree</span>
        <span class="kw2">var</span> numOfOddDegrees <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span>
        cy.<span class="me1">nodes</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">forEach</span><span class="br0">&#40;</span><span class="kw2">function</span> <span class="br0">&#40;</span>ele<span class="br0">&#41;</span> <span class="br0">&#123;</span>
            <span class="kw1">if</span> <span class="br0">&#40;</span>ele.<span class="me1">degree</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy0">%</span> <span class="nu0">2</span> <span class="sy0">!==</span> <span class="nu0">0</span><span class="br0">&#41;</span>
                numOfOddDegrees <span class="sy0">+=</span> <span class="nu0">1</span><span class="sy0">;</span>
        <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
        <span class="co1">// stop if the conditions for Eulerian/semi-Eulerian graphs are not satisfied.</span>
        <span class="kw1">if</span> <span class="br0">&#40;</span>numOfOddDegrees <span class="sy0">!==</span> <span class="nu0">0</span> <span class="sy0">&amp;&amp;</span> numOfOddDegrees <span class="sy0">!==</span> <span class="nu0">2</span><span class="br0">&#41;</span>
            <span class="kw1">return</span> <span class="kw3">alert</span><span class="br0">&#40;</span><span class="st0">'This graph is neither Eulerian nor semi-Eulerian'</span><span class="br0">&#41;</span><span class="sy0">;</span>
        cy.<span class="me1">elements</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">unselect</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        clearResult<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        ca.<span class="me1">add</span><span class="br0">&#40;</span>cy.<span class="me1">elements</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        caReLayout<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
        <span class="co1">// starting Eulerian Cycle from node 1</span>
        traceEulerianCycle<span class="br0">&#40;</span>ca.<span class="me1">nodes</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span><span class="sy0">,</span> ca<span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
    <span class="coMULTI">/**
     * @public
     * @function
     * the starting node
     * @param {object} start
     * the cytoscape object
     * @param {object} c
     * @return void
     * Find an Eulerian cycle/trail in an Eulerian/semi-Eulerian graph, by Hierholzer's algorithm
     * */</span>
    <span class="kw2">function</span> traceEulerianCycle<span class="br0">&#40;</span>start<span class="sy0">,</span> c<span class="br0">&#41;</span> <span class="br0">&#123;</span>
        <span class="co1">// establish a linked list and add first node into it</span>
        <span class="kw2">var</span> currentNode <span class="sy0">=</span> start<span class="sy0">;</span>
        <span class="kw2">var</span> path <span class="sy0">=</span> <span class="kw2">new</span> LinkedList<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        path.<span class="me1">add</span><span class="br0">&#40;</span>currentNode<span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
        <span class="co1">// get the unselected edges which are connected to this node</span>
        <span class="kw2">var</span> connectedEdges <span class="sy0">=</span> currentNode.<span class="me1">connectedEdges</span><span class="br0">&#40;</span><span class="st0">':unselected'</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw2">var</span> nextJourney <span class="sy0">=</span> undefined<span class="sy0">;</span>
        <span class="kw1">while</span> <span class="br0">&#40;</span><span class="kw2">true</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
&nbsp;
            <span class="co1">// if there are unvisited edges connecting to this node</span>
            <span class="kw1">while</span> <span class="br0">&#40;</span>connectedEdges.<span class="me1">length</span> <span class="sy0">&gt;</span> <span class="nu0">0</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
&nbsp;
                <span class="co1">// select the first one</span>
                <span class="kw2">var</span> edge <span class="sy0">=</span> connectedEdges<span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span><span class="sy0">;</span>
                edge.<span class="me1">select</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                path.<span class="me1">add</span><span class="br0">&#40;</span>edge<span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
                <span class="co1">// select its source node (equivalently, the last target node)</span>
                currentNode.<span class="me1">select</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                currentNode <span class="sy0">=</span> getCaTarget<span class="br0">&#40;</span>currentNode<span class="sy0">,</span> edge<span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
                <span class="co1">// get the unselected edges which are connected to the target node</span>
                connectedEdges <span class="sy0">=</span> currentNode.<span class="me1">connectedEdges</span><span class="br0">&#40;</span><span class="st0">':unselected'</span><span class="br0">&#41;</span><span class="sy0">;</span>
                path.<span class="me1">add</span><span class="br0">&#40;</span>currentNode<span class="br0">&#41;</span><span class="sy0">;</span>
            <span class="br0">&#125;</span>
&nbsp;
            <span class="co1">// if the above while loop breaks, that means we have returned to the starting point</span>
            <span class="co1">// Note: the conditions of an Eulerian/semi-Eulerian graph ensure that we will not be stuck</span>
&nbsp;
            <span class="co1">// select the last node</span>
            currentNode.<span class="me1">select</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
            <span class="co1">// add the next half tour to the linked list</span>
            <span class="kw1">if</span> <span class="br0">&#40;</span>nextJourney <span class="sy0">!==</span> undefined<span class="br0">&#41;</span>
                path.<span class="me1">addNode</span><span class="br0">&#40;</span>nextJourney<span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
            <span class="co1">// if there are still edges which remain unselected</span>
            <span class="kw1">if</span> <span class="br0">&#40;</span>c.<span class="me1">edges</span><span class="br0">&#40;</span><span class="st0">':unselected'</span><span class="br0">&#41;</span>.<span class="me1">length</span> <span class="sy0">!==</span> <span class="nu0">0</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
&nbsp;
                <span class="co1">// find the node which still have unselected edges connected to it</span>
                <span class="kw2">var</span> node <span class="sy0">=</span> path.<span class="me1">search</span><span class="br0">&#40;</span><span class="kw2">function</span> <span class="br0">&#40;</span>element<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                    <span class="kw1">if</span> <span class="br0">&#40;</span>element.<span class="me1">isNode</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
                        <span class="kw1">if</span> <span class="br0">&#40;</span>element.<span class="me1">connectedEdges</span><span class="br0">&#40;</span><span class="st0">':unselected'</span><span class="br0">&#41;</span>.<span class="me1">length</span> <span class="sy0">&gt;</span> <span class="nu0">0</span><span class="br0">&#41;</span>
                            <span class="kw1">return</span> <span class="kw2">true</span><span class="sy0">;</span>
                    <span class="br0">&#125;</span>
                <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
                <span class="co1">// break the journey (node: the next half of the journey journey will be added back later)</span>
                nextJourney <span class="sy0">=</span> node.<span class="me1">next</span><span class="sy0">;</span>
                currentNode <span class="sy0">=</span> node.<span class="me1">cargo</span><span class="sy0">;</span>
                node.<span class="me1">next</span> <span class="sy0">=</span> <span class="kw2">null</span><span class="sy0">;</span>
&nbsp;
                <span class="co1">// start a new tour from this break point</span>
                connectedEdges <span class="sy0">=</span> currentNode.<span class="me1">connectedEdges</span><span class="br0">&#40;</span><span class="st0">':unselected'</span><span class="br0">&#41;</span><span class="sy0">;</span>
            <span class="br0">&#125;</span>
&nbsp;
            <span class="co1">// if all edges are visited, exit the loop</span>
            <span class="kw1">else</span>
                <span class="kw1">break</span><span class="sy0">;</span>
        <span class="br0">&#125;</span>
        c.<span class="me1">elements</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">unselect</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        path.<span class="me1">traverse</span><span class="br0">&#40;</span>animation.<span class="me1">checked</span><span class="sy0">,</span> <span class="kw2">true</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
    <span class="coMULTI">/**
     * @public
     * @function
     * @param {int} n
     * @return int
     * the factorial function
     * */</span>
    <span class="kw2">function</span> f<span class="br0">&#40;</span>n<span class="br0">&#41;</span> <span class="br0">&#123;</span>
        <span class="kw1">return</span> <span class="br0">&#40;</span>n <span class="sy0">&lt;=</span> <span class="nu0">1</span><span class="br0">&#41;</span> <span class="sy0">?</span> <span class="nu0">1</span> <span class="sy0">:</span> n <span class="sy0">*</span> f<span class="br0">&#40;</span>n <span class="sy0">-</span> <span class="nu0">1</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
    <span class="coMULTI">/**
     * @function
     * @public
     * @return void
     * */</span>
    <span class="kw2">function</span> minimalWeightMatching<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
        stopAnimation<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        clearCyStyle<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="co1">// precondition: the graph is connected</span>
        <span class="kw1">if</span> <span class="br0">&#40;</span><span class="sy0">!</span>isConnected<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span>
            <span class="kw1">return</span> <span class="kw3">alert</span><span class="br0">&#40;</span><span class="st0">&quot;Graph not connected!&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
        <span class="kw2">var</span> len <span class="sy0">=</span> cy.<span class="me1">nodes</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">length</span><span class="sy0">;</span>
        <span class="kw1">if</span> <span class="br0">&#40;</span>len <span class="sy0">&gt;</span> <span class="nu0">14</span><span class="br0">&#41;</span>
            <span class="kw1">if</span> <span class="br0">&#40;</span><span class="sy0">!</span><span class="kw3">confirm</span><span class="br0">&#40;</span><span class="st0">&quot;Warning! This graph has &quot;</span> <span class="sy0">+</span> len <span class="sy0">+</span> <span class="st0">&quot; nodes, at most &quot;</span> <span class="sy0">+</span> <span class="br0">&#40;</span>f<span class="br0">&#40;</span>len<span class="br0">&#41;</span> <span class="sy0">/</span> <span class="br0">&#40;</span>f<span class="br0">&#40;</span>len <span class="sy0">/</span> <span class="nu0">2</span><span class="br0">&#41;</span> <span class="sy0">*</span> Math.<span class="me1">pow</span><span class="br0">&#40;</span><span class="nu0">2</span><span class="sy0">,</span> len <span class="sy0">/</span> <span class="nu0">2</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">&quot; iterations are needed and it might take a long time！&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span>
                <span class="kw1">return</span><span class="sy0">;</span>
        clearResult<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="coMULTI">/**
         * @function
         * @private
         * @param {Array} minPairing
         * @return void
         * */</span>
        <span class="kw2">function</span> displayPairings<span class="br0">&#40;</span>minPairing<span class="br0">&#41;</span> <span class="br0">&#123;</span>
            <span class="coMULTI">/**
             * @function
             * @private
             * @param {object} node1
             * @param {object} node2
             * @return object
             * */</span>
            <span class="kw2">function</span> getCyEdge<span class="br0">&#40;</span>node1<span class="sy0">,</span> node2<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                <span class="kw2">var</span> e <span class="sy0">=</span> cy.$id<span class="br0">&#40;</span>node1.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'id'</span><span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">'-'</span> <span class="sy0">+</span> node2.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'id'</span><span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">'-0'</span><span class="br0">&#41;</span><span class="sy0">;</span>
                <span class="kw1">return</span> e.<span class="me1">length</span> <span class="sy0">===</span> <span class="nu0">0</span> <span class="sy0">?</span> cy.$id<span class="br0">&#40;</span>node2.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'id'</span><span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">'-'</span> <span class="sy0">+</span> node1.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'id'</span><span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">'-0'</span><span class="br0">&#41;</span> <span class="sy0">:</span> e<span class="sy0">;</span>
            <span class="br0">&#125;</span>
&nbsp;
            <span class="kw2">var</span> nodes <span class="sy0">=</span> cy.<span class="me1">nodes</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            <span class="kw1">for</span> <span class="br0">&#40;</span><span class="kw2">var</span> i <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> i <span class="sy0">&lt;</span> minPairing.<span class="me1">length</span><span class="sy0">;</span> i <span class="sy0">+=</span> <span class="nu0">2</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
                <span class="kw2">var</span> n1 <span class="sy0">=</span> nodes<span class="br0">&#91;</span>minPairing<span class="br0">&#91;</span>i<span class="br0">&#93;</span><span class="br0">&#93;</span><span class="sy0">;</span>
                <span class="kw1">if</span> <span class="br0">&#40;</span>minPairing<span class="br0">&#91;</span>i <span class="sy0">+</span> <span class="nu0">1</span><span class="br0">&#93;</span> <span class="sy0">===</span> undefined<span class="br0">&#41;</span>
                    <span class="kw1">break</span><span class="sy0">;</span>
                <span class="kw2">var</span> n2 <span class="sy0">=</span> nodes<span class="br0">&#91;</span>minPairing<span class="br0">&#91;</span>i <span class="sy0">+</span> <span class="nu0">1</span><span class="br0">&#93;</span><span class="br0">&#93;</span><span class="sy0">;</span>
                <span class="kw2">var</span> e <span class="sy0">=</span> getCyEdge<span class="br0">&#40;</span>n1<span class="sy0">,</span> n2<span class="br0">&#41;</span><span class="sy0">;</span>
                ca.<span class="me1">add</span><span class="br0">&#40;</span>n1<span class="br0">&#41;</span><span class="sy0">;</span>
                ca.<span class="me1">add</span><span class="br0">&#40;</span>n2<span class="br0">&#41;</span><span class="sy0">;</span>
                ca.<span class="me1">add</span><span class="br0">&#40;</span>e<span class="br0">&#41;</span><span class="sy0">;</span>
                n1.<span class="me1">select</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                n2.<span class="me1">select</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                e.<span class="me1">select</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            <span class="br0">&#125;</span>
            caReLayout<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="br0">&#125;</span>
&nbsp;
        <span class="kw2">var</span> weightMatrix <span class="sy0">=</span> getWM<span class="br0">&#40;</span>cy<span class="sy0">,</span> <span class="kw2">false</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw1">if</span> <span class="br0">&#40;</span>Supports.<span class="me1">generator</span> <span class="sy0">&amp;&amp;</span> Supports.<span class="me1">letConst</span><span class="br0">&#41;</span>
        <span class="co1">// Only can be used on browsers which support generators</span>
            minimalWeightMatchingMultiThread<span class="br0">&#40;</span>weightMatrix<span class="sy0">,</span> <span class="nu0">4</span><span class="sy0">,</span> displayPairings<span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw1">else</span> <span class="br0">&#123;</span>
            <span class="kw2">var</span> minPairing <span class="sy0">=</span> minimalWeightMatchingAlgorithm<span class="br0">&#40;</span>weightMatrix<span class="br0">&#41;</span><span class="sy0">;</span>
            displayPairings<span class="br0">&#40;</span>minPairing<span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="br0">&#125;</span>
    <span class="br0">&#125;</span>
    <span class="coMULTI">/**
     * @function
     * @public
     * @param {Array} weightMatrix
     * @return Array
     * */</span>
    <span class="kw2">function</span> minimalWeightMatchingAlgorithm<span class="br0">&#40;</span>weightMatrix<span class="br0">&#41;</span> <span class="br0">&#123;</span>
        <span class="kw2">var</span> len <span class="sy0">=</span> weightMatrix.<span class="me1">length</span><span class="sy0">;</span>
        <span class="co1">// if number of nodes is odd, then there must be one left...</span>
        <span class="kw2">var</span> matchedNumber <span class="sy0">=</span> len <span class="sy0">-</span> len <span class="sy0">%</span> <span class="nu0">2</span><span class="sy0">;</span>
        <span class="kw2">var</span> minPairing <span class="sy0">=</span> <span class="br0">&#91;</span><span class="br0">&#93;</span><span class="sy0">;</span>
        <span class="kw2">var</span> minWeight <span class="sy0">=</span> Infinity<span class="sy0">;</span>
&nbsp;
        <span class="coMULTI">/**
         * @function
         * @private
         * @param {Array} eles
         * @param {Array} matches
         * @param {int} weight
         * @param {int} i
         * @return void
         * */</span>
        <span class="kw2">function</span> matching<span class="br0">&#40;</span>eles<span class="sy0">,</span> matches<span class="sy0">,</span> weight<span class="sy0">,</span> i<span class="br0">&#41;</span> <span class="br0">&#123;</span>
            <span class="kw2">var</span> match<span class="sy0">,</span> edge<span class="sy0">,</span> tempWeight<span class="sy0">,</span> tempEles<span class="sy0">;</span>
            <span class="co1">// Terminating condition: all nodes are matched</span>
            <span class="kw1">if</span> <span class="br0">&#40;</span>i <span class="sy0">===</span> matchedNumber<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                <span class="co1">// record this matching, because it must be the current minimal weight matching</span>
                <span class="co1">// copy the array</span>
                minPairing <span class="sy0">=</span> matches.<span class="me1">concat</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                minWeight <span class="sy0">=</span> weight<span class="sy0">;</span>
            <span class="br0">&#125;</span>
            <span class="co1">// Recursive case:</span>
            <span class="kw1">else</span> <span class="br0">&#123;</span>
                <span class="co1">// traverse all combinations of matching for the first two elements</span>
                <span class="co1">// record the matching in an array</span>
                <span class="kw1">for</span> <span class="br0">&#40;</span><span class="kw2">var</span> x <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> x <span class="sy0">&lt;</span> len<span class="sy0">;</span> x<span class="sy0">++</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
                    <span class="kw1">for</span> <span class="br0">&#40;</span><span class="kw2">var</span> y <span class="sy0">=</span> x <span class="sy0">+</span> <span class="nu0">1</span><span class="sy0">;</span> y <span class="sy0">&lt;</span> len<span class="sy0">;</span> y<span class="sy0">++</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
                        <span class="co1">// continue if node has already been matched or the edge connecting two nodes is non-existent</span>
                        <span class="kw1">if</span> <span class="br0">&#40;</span>eles<span class="br0">&#91;</span>x<span class="br0">&#93;</span> <span class="sy0">===</span> <span class="sy0">-</span><span class="nu0">1</span> <span class="sy0">||</span> eles<span class="br0">&#91;</span>y<span class="br0">&#93;</span> <span class="sy0">===</span> <span class="sy0">-</span><span class="nu0">1</span> <span class="sy0">||</span> weightMatrix<span class="br0">&#91;</span>x<span class="br0">&#93;</span><span class="br0">&#91;</span>y<span class="br0">&#93;</span> <span class="sy0">===</span> <span class="nu0">0</span><span class="br0">&#41;</span>
                            <span class="kw1">continue</span><span class="sy0">;</span>
                        <span class="co1">// if the current weight &gt; minWeight, then stop calculation</span>
                        tempWeight <span class="sy0">=</span> weight <span class="sy0">+</span> weightMatrix<span class="br0">&#91;</span>x<span class="br0">&#93;</span><span class="br0">&#91;</span>y<span class="br0">&#93;</span><span class="sy0">;</span>
                        <span class="kw1">if</span> <span class="br0">&#40;</span>tempWeight <span class="sy0">&gt;=</span> minWeight<span class="br0">&#41;</span>
                            <span class="kw1">continue</span><span class="sy0">;</span>
                        <span class="co1">// record the match</span>
                        matches<span class="br0">&#91;</span>i<span class="br0">&#93;</span> <span class="sy0">=</span> x<span class="sy0">;</span>
                        matches<span class="br0">&#91;</span>i <span class="sy0">+</span> <span class="nu0">1</span><span class="br0">&#93;</span> <span class="sy0">=</span> y<span class="sy0">;</span>
                        <span class="co1">// remove the two matched nodes and match the remaining elements</span>
                        <span class="co1">// remember to copy the array</span>
                        tempEles <span class="sy0">=</span> eles.<span class="me1">concat</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                        tempEles<span class="br0">&#91;</span>x<span class="br0">&#93;</span> <span class="sy0">=</span> <span class="sy0">-</span><span class="nu0">1</span><span class="sy0">;</span>
                        tempEles<span class="br0">&#91;</span>y<span class="br0">&#93;</span> <span class="sy0">=</span> <span class="sy0">-</span><span class="nu0">1</span><span class="sy0">;</span>
                        matching<span class="br0">&#40;</span>tempEles<span class="sy0">,</span> matches<span class="sy0">,</span> tempWeight<span class="sy0">,</span> i <span class="sy0">+</span> <span class="nu0">2</span><span class="br0">&#41;</span><span class="sy0">;</span>
                    <span class="br0">&#125;</span>
                <span class="br0">&#125;</span>
            <span class="br0">&#125;</span>
        <span class="br0">&#125;</span>
        matching<span class="br0">&#40;</span>_.<span class="me1">range</span><span class="br0">&#40;</span><span class="nu0">0</span><span class="sy0">,</span> len<span class="br0">&#41;</span><span class="sy0">,</span> <span class="kw2">new</span> Array<span class="br0">&#40;</span>len<span class="br0">&#41;</span><span class="sy0">,</span> <span class="nu0">0</span><span class="sy0">,</span> <span class="nu0">0</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw1">return</span> minPairing<span class="sy0">;</span>
    <span class="br0">&#125;</span>
    <span class="coMULTI">/**
     * @param {Array} weightMatrix
     * @param {int} numOfThreads
     * @param {function} callback
     * @return void
     * This can only be used in browsers supporting ES6
     * */</span>
    <span class="kw2">function</span> minimalWeightMatchingMultiThread<span class="br0">&#40;</span>weightMatrix<span class="sy0">,</span> numOfThreads<span class="sy0">,</span> callback<span class="br0">&#41;</span> <span class="br0">&#123;</span>
&nbsp;
        <span class="co1">// avoid browser parsing issues by &quot;hiding&quot; the generator in the eval function</span>
        <span class="co1">// generator is used to merge the results from each thread</span>
        <span class="kw1">eval</span><span class="br0">&#40;</span><span class="st0">&quot;function*join(){while(true){yield null;var flag=workerFlags[0];for(i=1;i&lt;numOfThreads;i++)flag=flag&amp;&amp;workerFlags[i];if(flag===true)break}var minWeight=Infinity;var minPairing=[];for(i=0;i&lt;numOfThreads;i++)if(minWeights[i]&lt;minWeight){minWeight=minWeights[i];minPairing=minPairings[i]}perform_button.disabled=false;callback(minPairing)}var joiner=join();&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw2">var</span> workerFlags <span class="sy0">=</span> <span class="kw2">new</span> Array<span class="br0">&#40;</span>numOfThreads<span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw2">var</span> minWeights <span class="sy0">=</span> <span class="kw2">new</span> Array<span class="br0">&#40;</span>numOfThreads<span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw2">var</span> minPairings <span class="sy0">=</span> <span class="kw2">new</span> Array<span class="br0">&#40;</span>numOfThreads<span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw2">var</span> portion <span class="sy0">=</span> Math.<span class="me1">floor</span><span class="br0">&#40;</span>weightMatrix.<span class="me1">length</span> <span class="sy0">/</span> numOfThreads<span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw2">var</span> eles <span class="sy0">=</span> _.<span class="me1">range</span><span class="br0">&#40;</span><span class="nu0">0</span><span class="sy0">,</span> weightMatrix.<span class="me1">length</span><span class="br0">&#41;</span><span class="sy0">;</span>
        perform_button.<span class="me1">disabled</span> <span class="sy0">=</span> <span class="kw2">true</span><span class="sy0">;</span>
&nbsp;
        <span class="co1">// distribute the workload to a number of independent threads</span>
        <span class="kw1">for</span> <span class="br0">&#40;</span><span class="kw2">var</span> i <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> i <span class="sy0">&lt;</span> numOfThreads<span class="sy0">;</span> i<span class="sy0">++</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
            workerFlags<span class="br0">&#91;</span>i<span class="br0">&#93;</span> <span class="sy0">=</span> <span class="kw2">false</span><span class="sy0">;</span>
            minWeights<span class="br0">&#91;</span>i<span class="br0">&#93;</span> <span class="sy0">=</span> Infinity<span class="sy0">;</span>
            <span class="kw2">const</span> x <span class="sy0">=</span> i<span class="sy0">;</span>
            <span class="kw2">const</span> worker <span class="sy0">=</span> <span class="kw2">new</span> Worker<span class="br0">&#40;</span><span class="st0">&quot;js/MWMMT.min.js&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            worker.<span class="me1">onmessage</span> <span class="sy0">=</span> <span class="kw2">function</span> <span class="br0">&#40;</span>message<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                console.<span class="me1">log</span><span class="br0">&#40;</span>x <span class="sy0">+</span> <span class="st0">&quot; is ready&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                minWeights<span class="br0">&#91;</span>x<span class="br0">&#93;</span> <span class="sy0">=</span> message.<span class="me1">data</span>.<span class="me1">minWeight</span><span class="sy0">;</span>
                minPairings<span class="br0">&#91;</span>x<span class="br0">&#93;</span> <span class="sy0">=</span> message.<span class="me1">data</span>.<span class="me1">minPairing</span><span class="sy0">;</span>
                workerFlags<span class="br0">&#91;</span>x<span class="br0">&#93;</span> <span class="sy0">=</span> <span class="kw2">true</span><span class="sy0">;</span>
                joiner.<span class="me1">next</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                worker.<span class="me1">terminate</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            <span class="br0">&#125;</span><span class="sy0">;</span>
            <span class="kw1">if</span> <span class="br0">&#40;</span>i <span class="sy0">===</span> numOfThreads <span class="sy0">-</span> <span class="nu0">1</span><span class="br0">&#41;</span>
                worker.<span class="me1">postMessage</span><span class="br0">&#40;</span><span class="br0">&#123;</span>
                    weightMatrix<span class="sy0">:</span> weightMatrix<span class="sy0">,</span>
                    eles<span class="sy0">:</span> eles<span class="sy0">,</span>
                    start<span class="sy0">:</span> x <span class="sy0">*</span> portion<span class="sy0">,</span>
                    end<span class="sy0">:</span> weightMatrix.<span class="me1">length</span>
                <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            <span class="kw1">else</span>
                worker.<span class="me1">postMessage</span><span class="br0">&#40;</span><span class="br0">&#123;</span>
                    weightMatrix<span class="sy0">:</span> weightMatrix<span class="sy0">,</span>
                    eles<span class="sy0">:</span> eles<span class="sy0">,</span>
                    start<span class="sy0">:</span> x <span class="sy0">*</span> portion<span class="sy0">,</span>
                    end<span class="sy0">:</span> <span class="br0">&#40;</span>x <span class="sy0">+</span> <span class="nu0">1</span><span class="br0">&#41;</span> <span class="sy0">*</span> portion
                <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            worker.<span class="kw3">onerror</span> <span class="sy0">=</span> <span class="kw2">function</span> <span class="br0">&#40;</span>err<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                console.<span class="me1">log</span><span class="br0">&#40;</span>err.<span class="me1">message</span><span class="br0">&#41;</span><span class="sy0">;</span>
            <span class="br0">&#125;</span><span class="sy0">;</span>
        <span class="br0">&#125;</span>
    <span class="br0">&#125;</span>
&nbsp;
    <span class="coMULTI">/**
     * solve the Chinese postman problem
     * @function
     * @public
     * @return void
     * */</span>
    <span class="kw2">function</span> CPP<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
        stopAnimation<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        clearCyStyle<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="co1">// get the collection of odd nodes</span>
        cy.<span class="me1">nodes</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">forEach</span><span class="br0">&#40;</span><span class="kw2">function</span> <span class="br0">&#40;</span>ele<span class="br0">&#41;</span> <span class="br0">&#123;</span>
            <span class="kw1">if</span> <span class="br0">&#40;</span>ele.<span class="me1">degree</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy0">%</span> <span class="nu0">2</span> <span class="sy0">!==</span> <span class="nu0">0</span><span class="br0">&#41;</span>
                ele.<span class="me1">select</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw2">var</span> nodes <span class="sy0">=</span> cy.<span class="me1">nodes</span><span class="br0">&#40;</span><span class="st0">&quot;:selected&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw2">var</span> n <span class="sy0">=</span> nodes.<span class="me1">length</span><span class="sy0">;</span>
        <span class="kw1">if</span> <span class="br0">&#40;</span>n <span class="sy0">&gt;</span> <span class="nu0">14</span><span class="br0">&#41;</span>
            <span class="kw1">if</span> <span class="br0">&#40;</span><span class="sy0">!</span><span class="kw3">confirm</span><span class="br0">&#40;</span><span class="st0">&quot;Warning! This graph has &quot;</span> <span class="sy0">+</span> n <span class="sy0">+</span> <span class="st0">&quot; nodes of odd degree, at most &quot;</span> <span class="sy0">+</span> <span class="br0">&#40;</span>f<span class="br0">&#40;</span>n<span class="br0">&#41;</span> <span class="sy0">/</span> <span class="br0">&#40;</span>f<span class="br0">&#40;</span>n <span class="sy0">/</span> <span class="nu0">2</span><span class="br0">&#41;</span> <span class="sy0">*</span> Math.<span class="me1">pow</span><span class="br0">&#40;</span><span class="nu0">2</span><span class="sy0">,</span> n <span class="sy0">/</span> <span class="nu0">2</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">&quot; iterations are needed and it might take a long time！&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span>
                <span class="kw1">return</span><span class="sy0">;</span>
&nbsp;
        <span class="co1">// get the weight matrix of these nodes (a subgraph)</span>
        <span class="kw2">var</span> weightMatrix <span class="sy0">=</span> <span class="kw2">new</span> Array<span class="br0">&#40;</span>n<span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw2">var</span> paths <span class="sy0">=</span> <span class="kw2">new</span> Array<span class="br0">&#40;</span>n<span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw1">for</span> <span class="br0">&#40;</span><span class="kw2">var</span> x <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> x <span class="sy0">&lt;</span> n<span class="sy0">;</span> x<span class="sy0">++</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
            paths<span class="br0">&#91;</span>x<span class="br0">&#93;</span> <span class="sy0">=</span> cy.<span class="me1">elements</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">dijkstra</span><span class="br0">&#40;</span>nodes<span class="br0">&#91;</span>x<span class="br0">&#93;</span><span class="sy0">,</span> getWeight<span class="br0">&#41;</span><span class="sy0">;</span>
            weightMatrix<span class="br0">&#91;</span>x<span class="br0">&#93;</span> <span class="sy0">=</span> <span class="kw2">new</span> Array<span class="br0">&#40;</span>n<span class="br0">&#41;</span><span class="sy0">;</span>
            <span class="kw1">for</span> <span class="br0">&#40;</span><span class="kw2">var</span> y <span class="sy0">=</span> x <span class="sy0">+</span> <span class="nu0">1</span><span class="sy0">;</span> y <span class="sy0">&lt;</span> n<span class="sy0">;</span> y<span class="sy0">++</span><span class="br0">&#41;</span>
                weightMatrix<span class="br0">&#91;</span>x<span class="br0">&#93;</span><span class="br0">&#91;</span>y<span class="br0">&#93;</span> <span class="sy0">=</span> paths<span class="br0">&#91;</span>x<span class="br0">&#93;</span>.<span class="me1">distanceTo</span><span class="br0">&#40;</span>nodes<span class="br0">&#91;</span>y<span class="br0">&#93;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="br0">&#125;</span>
        <span class="co1">// get the minimal weight perfect matching</span>
        <span class="kw1">if</span> <span class="br0">&#40;</span>Supports.<span class="me1">generator</span> <span class="sy0">&amp;&amp;</span> Supports.<span class="me1">letConst</span><span class="br0">&#41;</span>
        <span class="co1">// Only can be used on browsers which support generators</span>
            minimalWeightMatchingMultiThread<span class="br0">&#40;</span>weightMatrix<span class="sy0">,</span> <span class="nu0">4</span><span class="sy0">,</span> displayResult<span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw1">else</span> <span class="br0">&#123;</span>
            <span class="kw2">var</span> minPairing <span class="sy0">=</span> minimalWeightMatchingAlgorithm<span class="br0">&#40;</span>weightMatrix<span class="br0">&#41;</span><span class="sy0">;</span>
            displayResult<span class="br0">&#40;</span>minPairing<span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="br0">&#125;</span>
&nbsp;
        <span class="kw2">function</span> displayResult<span class="br0">&#40;</span>minPairing<span class="br0">&#41;</span> <span class="br0">&#123;</span>
            clearResult<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            ca.<span class="me1">add</span><span class="br0">&#40;</span>cy.<span class="me1">elements</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            <span class="kw2">var</span> addedEdges <span class="sy0">=</span> undefined<span class="sy0">;</span>
&nbsp;
            <span class="co1">// Once the minimal weight perfect matching is found,</span>
            <span class="co1">// duplicated these edges, so the graph becomes Eulerian</span>
            <span class="kw1">for</span> <span class="br0">&#40;</span>x <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> x <span class="sy0">&lt;</span> minPairing.<span class="me1">length</span><span class="sy0">;</span> x <span class="sy0">+=</span> <span class="nu0">2</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
                paths<span class="br0">&#91;</span>minPairing<span class="br0">&#91;</span>x<span class="br0">&#93;</span><span class="br0">&#93;</span>.<span class="me1">pathTo</span><span class="br0">&#40;</span>nodes<span class="br0">&#91;</span>minPairing<span class="br0">&#91;</span>x <span class="sy0">+</span> <span class="nu0">1</span><span class="br0">&#93;</span><span class="br0">&#93;</span><span class="br0">&#41;</span>.<span class="me1">forEach</span><span class="br0">&#40;</span><span class="kw2">function</span> <span class="br0">&#40;</span>ele<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                    <span class="kw1">if</span> <span class="br0">&#40;</span>ele.<span class="me1">isEdge</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
                        ele.<span class="me1">select</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
                        <span class="kw2">var</span> duplicatedEdge <span class="sy0">=</span> duplicateEdge<span class="br0">&#40;</span>ele<span class="sy0">,</span> ca<span class="br0">&#41;</span><span class="sy0">;</span>
                        <span class="kw1">if</span> <span class="br0">&#40;</span>addedEdges <span class="sy0">===</span> undefined<span class="br0">&#41;</span>
                            addedEdges <span class="sy0">=</span> duplicatedEdge<span class="sy0">;</span>
                        <span class="kw1">else</span>
                            addedEdges <span class="sy0">=</span> addedEdges.<span class="me1">union</span><span class="br0">&#40;</span>duplicatedEdge<span class="br0">&#41;</span><span class="sy0">;</span>
                    <span class="br0">&#125;</span>
                <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            <span class="br0">&#125;</span>
            caReLayout<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            ca.<span class="me1">elements</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">unselect</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
            <span class="co1">// Eulerian Cycle. See function traceEulerianCycle</span>
            <span class="co1">// starting the Eulerian Cycle from the first node</span>
            traceEulerianCycle<span class="br0">&#40;</span>ca.<span class="me1">nodes</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span><span class="sy0">,</span> ca<span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="br0">&#125;</span>
&nbsp;
    <span class="br0">&#125;</span>
    <span class="coMULTI">/**
     * @function
     * @public
     * @return void
     * find the maximal lower bound for TSP by performing the vertex deletion algorithm on every node
     * */</span>
    <span class="kw2">function</span> TSPGlobalLowerBound<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
        stopAnimation<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw2">var</span> root <span class="sy0">=</span> getCyStartNode<span class="br0">&#40;</span><span class="st0">&quot;Please enter id of the starting node.<span class="es0">\n</span>If you want apply this algorithm too all nodes and get the highest lower bound, leave it blank&quot;</span><span class="sy0">,</span> <span class="st0">&quot;&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw2">var</span> results<span class="sy0">;</span>
        clearCyStyle<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw1">if</span> <span class="br0">&#40;</span>root <span class="sy0">===</span> undefined<span class="br0">&#41;</span> <span class="br0">&#123;</span>
            <span class="kw2">var</span> maxWeight <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span>
            <span class="kw2">var</span> maxResults<span class="sy0">,</span> maxRoot<span class="sy0">,</span> sumWeight<span class="sy0">;</span>
            cy.<span class="me1">nodes</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">forEach</span><span class="br0">&#40;</span><span class="kw2">function</span> <span class="br0">&#40;</span>currentNode<span class="br0">&#41;</span> <span class="br0">&#123;</span>
&nbsp;
                <span class="co1">// Find the maximal lower bound...</span>
                results <span class="sy0">=</span> TSPLowerBound<span class="br0">&#40;</span>currentNode<span class="br0">&#41;</span><span class="sy0">;</span>
                sumWeight <span class="sy0">=</span> results<span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span><span class="sy0">;</span>
                <span class="kw1">if</span> <span class="br0">&#40;</span>sumWeight <span class="sy0">&gt;</span> maxWeight<span class="br0">&#41;</span> <span class="br0">&#123;</span>
&nbsp;
                    <span class="co1">// record the weight, results, and the node deleted</span>
                    maxWeight <span class="sy0">=</span> sumWeight<span class="sy0">;</span>
                    maxResults <span class="sy0">=</span> results<span class="sy0">;</span>
                    maxRoot <span class="sy0">=</span> currentNode<span class="sy0">;</span>
                <span class="br0">&#125;</span>
            <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            clearResult<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
            <span class="co1">// select the node, the two deleted edges, and the minimal spanning tree</span>
            maxResults<span class="br0">&#91;</span><span class="nu0">3</span><span class="br0">&#93;</span>.<span class="me1">nodes</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">style</span><span class="br0">&#40;</span><span class="br0">&#123;</span>backgroundColor<span class="sy0">:</span> <span class="st0">'#eba300'</span><span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            maxResults<span class="br0">&#91;</span><span class="nu0">3</span><span class="br0">&#93;</span>.<span class="me1">edges</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">style</span><span class="br0">&#40;</span><span class="br0">&#123;</span>lineColor<span class="sy0">:</span> <span class="st0">'#eba300'</span><span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            maxResults<span class="br0">&#91;</span><span class="nu0">2</span><span class="br0">&#93;</span>.<span class="me1">select</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            maxResults<span class="br0">&#91;</span><span class="nu0">1</span><span class="br0">&#93;</span>.<span class="me1">select</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
            <span class="co1">//Order must be correct...</span>
            ca.<span class="me1">add</span><span class="br0">&#40;</span>maxResults<span class="br0">&#91;</span><span class="nu0">3</span><span class="br0">&#93;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            ca.<span class="me1">elements</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">select</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            ca.<span class="me1">add</span><span class="br0">&#40;</span>maxRoot<span class="br0">&#41;</span><span class="sy0">;</span>
            ca.<span class="me1">add</span><span class="br0">&#40;</span>maxResults<span class="br0">&#91;</span><span class="nu0">2</span><span class="br0">&#93;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            ca.<span class="me1">add</span><span class="br0">&#40;</span>maxResults<span class="br0">&#91;</span><span class="nu0">1</span><span class="br0">&#93;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            caReLayout<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="br0">&#125;</span>
&nbsp;
        <span class="co1">// the lower bound at a given starting node</span>
        <span class="kw1">else</span> <span class="br0">&#123;</span>
            results <span class="sy0">=</span> TSPLowerBound<span class="br0">&#40;</span>root<span class="br0">&#41;</span><span class="sy0">;</span>
            clearResult<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            results<span class="br0">&#91;</span><span class="nu0">3</span><span class="br0">&#93;</span>.<span class="me1">nodes</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">style</span><span class="br0">&#40;</span><span class="br0">&#123;</span>backgroundColor<span class="sy0">:</span> <span class="st0">'#eba300'</span><span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            results<span class="br0">&#91;</span><span class="nu0">3</span><span class="br0">&#93;</span>.<span class="me1">edges</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">style</span><span class="br0">&#40;</span><span class="br0">&#123;</span>lineColor<span class="sy0">:</span> <span class="st0">'#eba300'</span><span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            results<span class="br0">&#91;</span><span class="nu0">2</span><span class="br0">&#93;</span>.<span class="me1">select</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            results<span class="br0">&#91;</span><span class="nu0">1</span><span class="br0">&#93;</span>.<span class="me1">select</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            ca.<span class="me1">add</span><span class="br0">&#40;</span>results<span class="br0">&#91;</span><span class="nu0">3</span><span class="br0">&#93;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            ca.<span class="me1">elements</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">select</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            ca.<span class="me1">add</span><span class="br0">&#40;</span>root<span class="br0">&#41;</span><span class="sy0">;</span>
            ca.<span class="me1">add</span><span class="br0">&#40;</span>results<span class="br0">&#91;</span><span class="nu0">2</span><span class="br0">&#93;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            ca.<span class="me1">add</span><span class="br0">&#40;</span>results<span class="br0">&#91;</span><span class="nu0">1</span><span class="br0">&#93;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            caReLayout<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="br0">&#125;</span>
    <span class="br0">&#125;</span>
    <span class="coMULTI">/**
     * Get the lower bound for the travelling salesman problem by vertex deletion algorithm
     * @function
     * @public
     * @param {object} root
     * @return Array
     * */</span>
    <span class="kw2">function</span> TSPLowerBound<span class="br0">&#40;</span>root<span class="br0">&#41;</span> <span class="br0">&#123;</span>
&nbsp;
        <span class="co1">// starting from a given node</span>
        <span class="co1">// find two connected edges of minimal weight, record the sum of their weight</span>
        <span class="kw2">var</span> edges <span class="sy0">=</span> root.<span class="me1">connectedEdges</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">sort</span><span class="br0">&#40;</span><span class="kw2">function</span> <span class="br0">&#40;</span>e1<span class="sy0">,</span> e2<span class="br0">&#41;</span> <span class="br0">&#123;</span>
            <span class="kw1">return</span> getWeight<span class="br0">&#40;</span>e1<span class="br0">&#41;</span> <span class="sy0">-</span> getWeight<span class="br0">&#40;</span>e2<span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw2">var</span> weight <span class="sy0">=</span> getWeight<span class="br0">&#40;</span>edges<span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span><span class="br0">&#41;</span> <span class="sy0">+</span> getWeight<span class="br0">&#40;</span>edges<span class="br0">&#91;</span><span class="nu0">1</span><span class="br0">&#93;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
        <span class="co1">// remove this node and all its adjacent edges</span>
        cy.<span class="me1">remove</span><span class="br0">&#40;</span>root<span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
        <span class="co1">// find the minimal spanning tree of the remaining graph by kruskal</span>
        <span class="kw2">var</span> spanningTree <span class="sy0">=</span> cy.<span class="me1">elements</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">kruskal</span><span class="br0">&#40;</span>getWeight<span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
        <span class="co1">// calculate the total weight of this tree</span>
        spanningTree.<span class="me1">edges</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">forEach</span><span class="br0">&#40;</span><span class="kw2">function</span> <span class="br0">&#40;</span>edge<span class="br0">&#41;</span> <span class="br0">&#123;</span>
            weight <span class="sy0">+=</span> getWeight<span class="br0">&#40;</span>edge<span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
        <span class="co1">// add back the removed stuffs</span>
        cy.<span class="me1">add</span><span class="br0">&#40;</span>root<span class="br0">&#41;</span><span class="sy0">;</span>
        cy.<span class="me1">add</span><span class="br0">&#40;</span>edges<span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw1">return</span> <span class="br0">&#91;</span>weight<span class="sy0">,</span> edges<span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span><span class="sy0">,</span> edges<span class="br0">&#91;</span><span class="nu0">1</span><span class="br0">&#93;</span><span class="sy0">,</span> spanningTree<span class="br0">&#93;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
    <span class="coMULTI">/**
     * Get the adjacency matrix
     * @function
     * @public
     * @param {object} c
     * @param {boolean} output
     * @return Array;
     * cytoscape object
     * */</span>
    <span class="kw2">function</span> getAM<span class="br0">&#40;</span>c<span class="sy0">,</span> output<span class="br0">&#41;</span> <span class="br0">&#123;</span>
        <span class="kw2">var</span> i<span class="sy0">,</span> j<span class="sy0">;</span>
        <span class="kw2">var</span> nodes <span class="sy0">=</span> c.<span class="me1">nodes</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw2">var</span> numOfNodes <span class="sy0">=</span> nodes.<span class="me1">length</span><span class="sy0">;</span>
        <span class="kw2">var</span> matrix <span class="sy0">=</span> <span class="kw2">new</span> Array<span class="br0">&#40;</span>numOfNodes<span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw2">var</span> id_index <span class="sy0">=</span> <span class="br0">&#123;</span><span class="br0">&#125;</span><span class="sy0">;</span>
        <span class="kw1">for</span> <span class="br0">&#40;</span>i <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> i <span class="sy0">&lt;</span> numOfNodes<span class="sy0">;</span> i<span class="sy0">++</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
            matrix<span class="br0">&#91;</span>i<span class="br0">&#93;</span> <span class="sy0">=</span> <span class="kw2">new</span> Array<span class="br0">&#40;</span>numOfNodes<span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
            <span class="co1">// match the id of nodes with the index, an continuous integer</span>
            <span class="co1">// in case where the some of the nodes are deleted</span>
            id_index<span class="br0">&#91;</span>nodes<span class="br0">&#91;</span>i<span class="br0">&#93;</span>.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'id'</span><span class="br0">&#41;</span><span class="br0">&#93;</span> <span class="sy0">=</span> i<span class="sy0">;</span>
            <span class="kw1">for</span> <span class="br0">&#40;</span>j <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> j <span class="sy0">&lt;</span> numOfNodes<span class="sy0">;</span> j<span class="sy0">++</span><span class="br0">&#41;</span>
                matrix<span class="br0">&#91;</span>i<span class="br0">&#93;</span><span class="br0">&#91;</span>j<span class="br0">&#93;</span> <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span>
        <span class="br0">&#125;</span>
&nbsp;
        <span class="co1">// record the number of edges</span>
        <span class="co1">// matrix[i][j] denotes the number of edges connecting node i and node j</span>
        c.<span class="me1">edges</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">forEach</span><span class="br0">&#40;</span><span class="kw2">function</span> <span class="br0">&#40;</span>ele<span class="br0">&#41;</span> <span class="br0">&#123;</span>
            i <span class="sy0">=</span> id_index<span class="br0">&#91;</span>ele.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'source'</span><span class="br0">&#41;</span><span class="br0">&#93;</span><span class="sy0">;</span>
            j <span class="sy0">=</span> id_index<span class="br0">&#91;</span>ele.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'target'</span><span class="br0">&#41;</span><span class="br0">&#93;</span><span class="sy0">;</span>
            matrix<span class="br0">&#91;</span>i<span class="br0">&#93;</span><span class="br0">&#91;</span>j<span class="br0">&#93;</span> <span class="sy0">+=</span> <span class="nu0">1</span><span class="sy0">;</span>
            <span class="kw1">if</span> <span class="br0">&#40;</span>i <span class="sy0">!==</span> j<span class="br0">&#41;</span>
                matrix<span class="br0">&#91;</span>j<span class="br0">&#93;</span><span class="br0">&#91;</span>i<span class="br0">&#93;</span> <span class="sy0">+=</span> <span class="nu0">1</span><span class="sy0">;</span>
        <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw1">if</span> <span class="br0">&#40;</span>output<span class="br0">&#41;</span>
            matrix_input.<span class="me1">value</span> <span class="sy0">=</span> matrixToString<span class="br0">&#40;</span>matrix<span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw1">return</span> matrix<span class="sy0">;</span>
    <span class="br0">&#125;</span>
    <span class="coMULTI">/**
     * get the weight matrix
     * @function
     * @public
     * @param {object} c
     * @param {boolean} output
     * @return Array
     * cytoscape object
     * */</span>
    <span class="kw2">function</span> getWM<span class="br0">&#40;</span>c<span class="sy0">,</span> output<span class="br0">&#41;</span> <span class="br0">&#123;</span>
        <span class="kw2">var</span> i<span class="sy0">,</span> j<span class="sy0">,</span> w<span class="sy0">;</span>
        <span class="kw2">var</span> nodes <span class="sy0">=</span> c.<span class="me1">nodes</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw2">var</span> numOfNodes <span class="sy0">=</span> nodes.<span class="me1">length</span><span class="sy0">;</span>
        <span class="kw2">var</span> matrix <span class="sy0">=</span> <span class="kw2">new</span> Array<span class="br0">&#40;</span>numOfNodes<span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw2">var</span> id_index <span class="sy0">=</span> <span class="br0">&#123;</span><span class="br0">&#125;</span><span class="sy0">;</span>
        <span class="kw1">for</span> <span class="br0">&#40;</span>i <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> i <span class="sy0">&lt;</span> numOfNodes<span class="sy0">;</span> i<span class="sy0">++</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
            matrix<span class="br0">&#91;</span>i<span class="br0">&#93;</span> <span class="sy0">=</span> <span class="kw2">new</span> Array<span class="br0">&#40;</span>numOfNodes<span class="br0">&#41;</span><span class="sy0">;</span>
            id_index<span class="br0">&#91;</span>nodes<span class="br0">&#91;</span>i<span class="br0">&#93;</span>.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'id'</span><span class="br0">&#41;</span><span class="br0">&#93;</span> <span class="sy0">=</span> i<span class="sy0">;</span>
            <span class="kw1">for</span> <span class="br0">&#40;</span>j <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span> j <span class="sy0">&lt;</span> numOfNodes<span class="sy0">;</span> j<span class="sy0">++</span><span class="br0">&#41;</span>
                matrix<span class="br0">&#91;</span>i<span class="br0">&#93;</span><span class="br0">&#91;</span>j<span class="br0">&#93;</span> <span class="sy0">=</span> <span class="nu0">0</span><span class="sy0">;</span>
        <span class="br0">&#125;</span>
        c.<span class="me1">edges</span><span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">forEach</span><span class="br0">&#40;</span><span class="kw2">function</span> <span class="br0">&#40;</span>ele<span class="br0">&#41;</span> <span class="br0">&#123;</span>
            i <span class="sy0">=</span> id_index<span class="br0">&#91;</span>ele.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'source'</span><span class="br0">&#41;</span><span class="br0">&#93;</span><span class="sy0">;</span>
            j <span class="sy0">=</span> id_index<span class="br0">&#91;</span>ele.<span class="me1">data</span><span class="br0">&#40;</span><span class="st0">'target'</span><span class="br0">&#41;</span><span class="br0">&#93;</span><span class="sy0">;</span>
            w <span class="sy0">=</span> getWeight<span class="br0">&#40;</span>ele<span class="br0">&#41;</span><span class="sy0">;</span>
            <span class="kw1">if</span> <span class="br0">&#40;</span>matrix<span class="br0">&#91;</span>i<span class="br0">&#93;</span><span class="br0">&#91;</span>j<span class="br0">&#93;</span> <span class="sy0">===</span> <span class="nu0">0</span><span class="br0">&#41;</span>
                matrix<span class="br0">&#91;</span>i<span class="br0">&#93;</span><span class="br0">&#91;</span>j<span class="br0">&#93;</span> <span class="sy0">=</span> w<span class="sy0">;</span>
            <span class="kw1">else</span> <span class="br0">&#123;</span>
                <span class="kw1">if</span> <span class="br0">&#40;</span>w <span class="sy0">&lt;</span> matrix<span class="br0">&#91;</span>i<span class="br0">&#93;</span><span class="br0">&#91;</span>j<span class="br0">&#93;</span><span class="br0">&#41;</span>
                    matrix<span class="br0">&#91;</span>i<span class="br0">&#93;</span><span class="br0">&#91;</span>j<span class="br0">&#93;</span> <span class="sy0">=</span> w<span class="sy0">;</span>
            <span class="br0">&#125;</span>
            matrix<span class="br0">&#91;</span>j<span class="br0">&#93;</span><span class="br0">&#91;</span>i<span class="br0">&#93;</span> <span class="sy0">=</span> matrix<span class="br0">&#91;</span>i<span class="br0">&#93;</span><span class="br0">&#91;</span>j<span class="br0">&#93;</span><span class="sy0">;</span>
        <span class="br0">&#125;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw1">if</span> <span class="br0">&#40;</span>output<span class="br0">&#41;</span>
            matrix_input.<span class="me1">value</span> <span class="sy0">=</span> matrixToString<span class="br0">&#40;</span>matrix<span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw1">return</span> matrix<span class="sy0">;</span>
    <span class="br0">&#125;</span>
    <span class="coMULTI">/**
     * Concert a two dimensional matrix to string
     * @function
     * @public
     * @param {Array} m
     * @return string
     * */</span>
    <span class="kw2">function</span> matrixToString<span class="br0">&#40;</span>m<span class="br0">&#41;</span> <span class="br0">&#123;</span>
        <span class="kw2">var</span> s <span class="sy0">=</span> <span class="st0">'[['</span> <span class="sy0">+</span> m<span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span>.<span class="me1">toString</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">'],<span class="es0">\n</span>'</span><span class="sy0">;</span>
        <span class="kw1">for</span> <span class="br0">&#40;</span><span class="kw2">var</span> i <span class="sy0">=</span> <span class="nu0">1</span><span class="sy0">;</span> i <span class="sy0">&lt;</span> m.<span class="me1">length</span> <span class="sy0">-</span> <span class="nu0">1</span><span class="sy0">;</span> i<span class="sy0">++</span><span class="br0">&#41;</span>
            s <span class="sy0">+=</span> <span class="st0">' ['</span> <span class="sy0">+</span> m<span class="br0">&#91;</span>i<span class="br0">&#93;</span>.<span class="me1">toString</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">'],<span class="es0">\n</span>'</span><span class="sy0">;</span>
        s <span class="sy0">+=</span> <span class="st0">' ['</span> <span class="sy0">+</span> m<span class="br0">&#91;</span>m.<span class="me1">length</span> <span class="sy0">-</span> <span class="nu0">1</span><span class="br0">&#93;</span>.<span class="me1">toString</span><span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy0">+</span> <span class="st0">']]'</span><span class="sy0">;</span>
        <span class="kw1">return</span> s<span class="sy0">;</span>
    <span class="br0">&#125;</span>
&nbsp;
    <span class="coMULTI">/**
     * @function
     * @public
     * @param {Object} c
     * @return void
     * generate graphml from the graph
     * */</span>
    <span class="kw2">function</span> getGraphML<span class="br0">&#40;</span>c<span class="br0">&#41;</span> <span class="br0">&#123;</span>
        matrix_input.<span class="me1">value</span> <span class="sy0">=</span> c.<span class="me1">graphml</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
&nbsp;
    <span class="coMULTI">/**
     * @function
     * @public
     * @return void
     * convert the graphml to cytoscape graphs
     * it's not working very well and is therefore temporarily disabled
     * */</span>
    <span class="kw2">function</span> readGraphML<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
        clearSource<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        cy.<span class="me1">graphml</span><span class="br0">&#40;</span>matrix_input.<span class="me1">value</span><span class="br0">&#41;</span><span class="sy0">;</span>
        cyReLayout<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
<span class="sy0">&lt;/</span>script<span class="sy0">&gt;</span>
<span class="sy0">&lt;/</span>body<span class="sy0">&gt;</span>
<span class="sy0">&lt;/</span>html<span class="sy0">&gt;</span></pre>

</div>
      <h2>Discussions</h2></hr>
      <div id="share-list">
    </div>
  </body>
</html>